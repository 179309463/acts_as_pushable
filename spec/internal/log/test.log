  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:20:13 UTC], ["updated_at", 2016-06-06 10:20:13 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:20:15 UTC], ["updated_at", 2016-06-06 10:20:15 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "friendships"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "unfriendables"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:26:20 UTC], ["updated_at", 2016-06-06 10:26:20 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "friendships"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "unfriendables"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "friendable_id" integer, "friendable_type" varchar, "friend_id" integer, "status" integer, "blocker_id" integer, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_friendships_on_status" ON "friendships" ("status")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "unfriendables" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:27:26 UTC], ["updated_at", 2016-06-06 10:27:26 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:31:35 UTC], ["updated_at", 2016-06-06 10:31:35 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:32:57 UTC], ["updated_at", 2016-06-06 10:32:57 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:33:10 UTC], ["updated_at", 2016-06-06 10:33:10 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:33:55 UTC], ["updated_at", 2016-06-06 10:33:55 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d659a58d-a4ce-4d36-9f4f-53bb934bb9a4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:34:45 UTC], ["updated_at", 2016-06-06 10:34:45 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df967057-b6aa-4fd3-9f6a-492e23ed8718"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:35:06 UTC], ["updated_at", 2016-06-06 10:35:06 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a121026d-cc87-4a79-bc7f-aabd964d9c9b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:37:06 UTC], ["updated_at", 2016-06-06 10:37:06 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f5105d36-aacc-408d-a15b-81149af1de80"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "50e41d72-0320-466a-a6ac-9b9b6262134a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:39:35 UTC], ["updated_at", 2016-06-06 10:39:35 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "db287fbb-23fe-4dc8-818a-afb47375cbc0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5aae8670-63c0-48de-bab5-a630b0b74a81"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:44:26 UTC], ["updated_at", 2016-06-06 10:44:26 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d82922e-c4d3-44e5-9d00-e2cd4ee1f0f1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7844036b-6224-4b69-b224-bc55ed1e3358"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:47:17 UTC], ["updated_at", 2016-06-06 10:47:17 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8987fcb6-4921-48e5-b9a7-7a036572d182"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab867184-bad6-4185-aa39-0b86c2f2be71"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (4.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:47:55 UTC], ["updated_at", 2016-06-06 10:47:55 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a46262d3-5aac-461f-8e4d-3dccbce585f8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4dde7a4b-72ea-4d15-8eeb-543854a31b5b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:48:26 UTC], ["updated_at", 2016-06-06 10:48:26 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f17a2df0-7e10-4afa-ac4b-be0470deac46"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3379c2c2-c4c1-4d7b-a05b-c34ea8644d85"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:48:35 UTC], ["updated_at", 2016-06-06 10:48:35 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6161b6d6-862f-43f5-b28b-f6314d55c542"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec9b2958-d7f5-4801-9173-e0a5765b3460"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:48:54 UTC], ["updated_at", 2016-06-06 10:48:54 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:49:21 UTC], ["updated_at", 2016-06-06 10:49:21 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b39aa5b3-a469-4716-9614-b9e825780b29"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d37e2e5-aa1e-4868-807a-f777d37f9024"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:50:12 UTC], ["updated_at", 2016-06-06 10:50:12 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af19fc81-4283-4780-8814-6339493c3a24"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "918b4b57-71df-469e-a0e3-cbb762804846"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:51:06 UTC], ["updated_at", 2016-06-06 10:51:06 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6b7d47f0-91e1-4d4a-a10f-0cf368d1213f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2274179c-a633-41a4-9f9d-784cc9dd4c08"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:52:18 UTC], ["updated_at", 2016-06-06 10:52:18 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2d15376-f944-48c3-b74c-7b6c6dd810e8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eba564e7-3070-4c28-b99e-e8464ec262da"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e697a72-f85f-4876-85c6-ff1b20eca4a1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5223c865-268c-4058-bcbe-92c24626229d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ba23838-7e28-43b4-8e6b-04a69a1ebefd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4846548-7d8b-494e-a231-c544b68653b6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b099c594-fd42-4c14-9cf7-d564c717dba6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9dd752c-6b96-4910-99f7-156ca9a8ee70"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:52:52 UTC], ["updated_at", 2016-06-06 10:52:52 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "30629633-358e-43ae-a7af-53b4ecc8dca5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d42df76d-b4cd-44bd-900e-614e96700eab"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e8b1f6a-de14-45e7-8b28-071bccad641a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2063a76-7632-4538-a124-05c667f4874a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f85e339e-14b5-410c-8eea-3814db5f1909"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cc66fe0f-0c16-48e1-908b-e72e4254c20f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1253587c-f5c1-497f-a94f-91480d823e60"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2f28a80d-ecca-456d-b5dc-ba6cff8c51e3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:53:42 UTC], ["updated_at", 2016-06-06 10:53:42 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "24c7a743-bb0b-41d2-a542-7b62a32524d9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c081be5f-f11a-487c-9104-d249161cfbb8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b099f06-e172-4ed9-b4be-ae7f633f03b1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "061f0d55-41db-426b-b677-619a87500caa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e450628f-12b5-426b-b88d-8acf1a2c318c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e5b4b42-e955-45b7-9c30-5082667cc121"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e1ecd873-0705-4e12-a66c-1d05a15aec28"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "083a4ab5-b136-4921-b415-96778a41371b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:54:08 UTC], ["updated_at", 2016-06-06 10:54:08 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40752a4c-9c4a-43ed-ba06-ba97184bc153"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5372e4e8-101f-4954-9501-8a513410acc0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3f6cb487-0ae8-405f-9895-103f353bd7c2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d07098ad-39b8-44c3-885d-6aa5eb63d4da"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47c22dc7-0da8-44e2-b51e-dcf8fedf14f9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1056cf00-94a5-44c7-bd25-c2b29366430d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d8381b24-b000-477f-b130-7b9e549256b3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "829ef677-d5b5-48dd-b859-a3ed5224b62c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:54:21 UTC], ["updated_at", 2016-06-06 10:54:21 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f05d0ad2-6c9f-47e0-bfd2-8f00479e0f49"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5382cf8a-d7fd-43a5-bd84-12429e7d986a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e60e611a-4dc9-4797-b335-65772bfd8ccf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bcdf5453-3e49-433f-b608-9e14d6a7c95d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b3d6930e-d5ec-41fb-a0f9-9849066580c7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "974c8eb5-0d30-4879-8d11-61aa0fbc1338"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "72e41fe8-52ed-495f-8b28-59b0c4922554"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9fd8d89f-0e3b-46e4-8d1b-c399713eef04"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ee00e5ef-43c8-4a84-b408-53d2e875bd45"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ee00e5ef-43c8-4a84-b408-53d2e875bd45"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e06985c9-4852-46b1-b417-dbd3add48e25"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e06985c9-4852-46b1-b417-dbd3add48e25"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c6d60227-a2e9-41f2-8f68-511c56bf25a9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c6d60227-a2e9-41f2-8f68-511c56bf25a9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ff95397-bbd8-4bfc-a251-693dd5734645"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6ff95397-bbd8-4bfc-a251-693dd5734645"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2e21e8b1-2df7-46f7-86cd-45914f82b617"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2e21e8b1-2df7-46f7-86cd-45914f82b617"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c243e2af-b8ed-4a44-aebb-44de2a78e889"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c243e2af-b8ed-4a44-aebb-44de2a78e889"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a16aa3c-e53f-4cf0-87ee-56af63a93a6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7a16aa3c-e53f-4cf0-87ee-56af63a93a6d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef0ea272-88dd-4851-8d80-2e07edcb8c3e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ef0ea272-88dd-4851-8d80-2e07edcb8c3e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:54:47 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:54:47 UTC], ["updated_at", 2016-06-06 10:54:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7d92b90a-d225-472c-8185-f2c918753814"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7d92b90a-d225-472c-8185-f2c918753814"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b61b0421-4bb5-4570-a541-62968ac6f3f1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b61b0421-4bb5-4570-a541-62968ac6f3f1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7427f24d-83fc-4848-9617-e7e82167390f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7427f24d-83fc-4848-9617-e7e82167390f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b035a7c4-1657-4140-ac35-6d21d3815d17"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b035a7c4-1657-4140-ac35-6d21d3815d17"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "592ae6e5-7220-4014-921e-dc4394e83be6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "592ae6e5-7220-4014-921e-dc4394e83be6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d86d7a2-7696-40ba-a00b-945364b88a0b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0d86d7a2-7696-40ba-a00b-945364b88a0b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eec9eb74-a270-46fe-ae7a-bebdf1b97d9a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eec9eb74-a270-46fe-ae7a-bebdf1b97d9a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85d0f38b-eeea-484c-96c4-f488b5c5be9f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85d0f38b-eeea-484c-96c4-f488b5c5be9f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 10:55:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 10:55:19 UTC], ["updated_at", 2016-06-06 10:55:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4a00a5e4-91e9-4efe-8958-223f2654de54"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4a00a5e4-91e9-4efe-8958-223f2654de54"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "72e1cc4b-a6ab-43ec-aaa2-ce2a86f55284"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "72e1cc4b-a6ab-43ec-aaa2-ce2a86f55284"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c848c01-4ca0-434f-8197-48c2129d89fd"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c848c01-4ca0-434f-8197-48c2129d89fd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "17bd41df-a645-43a3-8f69-f061dc232f3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "17bd41df-a645-43a3-8f69-f061dc232f3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "875360ef-bf54-42d3-a7d0-fb2505dc3710"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "875360ef-bf54-42d3-a7d0-fb2505dc3710"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af8e9298-eabb-4ecd-b228-be1eba124a0e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af8e9298-eabb-4ecd-b228-be1eba124a0e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14b4f057-6fd8-4188-b5fb-24d6e5f48356"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "14b4f057-6fd8-4188-b5fb-24d6e5f48356"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43fa2ca6-63c8-457c-b537-b1af59a5b7c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "43fa2ca6-63c8-457c-b537-b1af59a5b7c5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cd3f8218-b9df-46b9-9b8b-50f6314138ad"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cd3f8218-b9df-46b9-9b8b-50f6314138ad"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5dc1ab4b-48b8-4a25-b22e-aae13688d7b9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5dc1ab4b-48b8-4a25-b22e-aae13688d7b9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "739f4a62-9c9d-4cfb-aaca-247121b59a1c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "739f4a62-9c9d-4cfb-aaca-247121b59a1c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "327364d4-f6f1-4f17-87d2-11b6621ad9d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "327364d4-f6f1-4f17-87d2-11b6621ad9d3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:11:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:11:45 UTC], ["updated_at", 2016-06-06 11:11:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d440ee44-2dd8-4593-b8a8-84fb5581bef9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d440ee44-2dd8-4593-b8a8-84fb5581bef9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4c09258a-9bf6-486a-a586-3cbfc0277445"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4c09258a-9bf6-486a-a586-3cbfc0277445"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "399a5dd6-d3da-44d3-a202-6911287a2ad6"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "399a5dd6-d3da-44d3-a202-6911287a2ad6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e49e35f-fdee-4952-b26f-cde9879cb2bc"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e49e35f-fdee-4952-b26f-cde9879cb2bc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49f9e67b-9a7e-4ae2-ac42-17959cbf752e"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "49f9e67b-9a7e-4ae2-ac42-17959cbf752e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "69c2ee5c-658b-417b-9eff-e057ac052c66"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "69c2ee5c-658b-417b-9eff-e057ac052c66"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "06f4a577-848d-46c3-b7a1-816bfafc3aff"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "06f4a577-848d-46c3-b7a1-816bfafc3aff"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "44acbd54-bd14-4f13-9b0b-ce2a76e85d1d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "44acbd54-bd14-4f13-9b0b-ce2a76e85d1d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41075859-b745-489b-a55a-643875c4a43c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41075859-b745-489b-a55a-643875c4a43c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c9aff625-1155-404f-b702-3321b8587750"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c9aff625-1155-404f-b702-3321b8587750"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4d932e1-ed70-4c1d-ac8e-67819dfb9cab"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4d932e1-ed70-4c1d-ac8e-67819dfb9cab"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43e35bf4-0ca0-47e2-bddd-e46f5e51063a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "43e35bf4-0ca0-47e2-bddd-e46f5e51063a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6de7293b-7dae-4b10-9c6f-c5aa0e261d9d"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6de7293b-7dae-4b10-9c6f-c5aa0e261d9d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 11:12:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 11:12:57 UTC], ["updated_at", 2016-06-06 11:12:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f37bd0a1-760a-4ccf-b4a0-5739de9b38ac"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f37bd0a1-760a-4ccf-b4a0-5739de9b38ac"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7d21aa41-57ed-4157-a07a-9897519e7fa0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7d21aa41-57ed-4157-a07a-9897519e7fa0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "93ea6779-30a1-40c3-96d4-47c5a0659697"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "93ea6779-30a1-40c3-96d4-47c5a0659697"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb8f49d3-87fd-4b4a-b9a9-543c999f2ba3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bb8f49d3-87fd-4b4a-b9a9-543c999f2ba3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9044f999-9e1a-49d9-a35c-5f940afc16c7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9044f999-9e1a-49d9-a35c-5f940afc16c7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "02993699-714d-4e69-b271-79fd2b1bd203"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "02993699-714d-4e69-b271-79fd2b1bd203"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9a0ba27f-b1ae-4229-9344-a29afb201397"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9a0ba27f-b1ae-4229-9344-a29afb201397"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "08176df6-f394-40a3-919d-54543fd8d619"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "08176df6-f394-40a3-919d-54543fd8d619"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6bc461c4-8e68-4d1d-9454-985897d20163"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6bc461c4-8e68-4d1d-9454-985897d20163"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "595f091f-befe-4b4c-958c-164aa93b43fa"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "595f091f-befe-4b4c-958c-164aa93b43fa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "34291ed4-161e-49d8-8070-1841529f7d06"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "34291ed4-161e-49d8-8070-1841529f7d06"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14643f67-9b0a-48d2-afca-4c7d5f178c22"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "14643f67-9b0a-48d2-afca-4c7d5f178c22"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8380bee3-e46f-4689-9cbe-f32ed091bc68"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8380bee3-e46f-4689-9cbe-f32ed091bc68"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 12:59:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 12:59:09 UTC], ["updated_at", 2016-06-06 12:59:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b0d9cc6-5d7c-4b02-ab5d-b5b82d03ba7a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8b0d9cc6-5d7c-4b02-ab5d-b5b82d03ba7a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "71b715e5-12d8-4c4f-8a0d-aeebe3edd1dd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "71b715e5-12d8-4c4f-8a0d-aeebe3edd1dd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2dff164-ece7-4fc7-8869-0a562a2493d0"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2dff164-ece7-4fc7-8869-0a562a2493d0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3a4aa96c-b420-4214-81fd-67ec6eb3ce3e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3a4aa96c-b420-4214-81fd-67ec6eb3ce3e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ebe927b9-59f4-4e07-8ce0-0873b9ce7262"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ebe927b9-59f4-4e07-8ce0-0873b9ce7262"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba3804f2-5a99-4058-83cc-1a7346f2d510"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ba3804f2-5a99-4058-83cc-1a7346f2d510"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54a591ff-7bb7-49db-9e90-ece4e800cb70"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "54a591ff-7bb7-49db-9e90-ece4e800cb70"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5f54f39c-c215-4a93-94ce-5c640d19c52c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5f54f39c-c215-4a93-94ce-5c640d19c52c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:32 UTC], ["updated_at", 2016-06-06 13:39:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3b45549-fb3b-4165-acdc-ae5871d70db4"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d3b45549-fb3b-4165-acdc-ae5871d70db4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "738b9c8c-c468-4c9e-afc1-aab6af7a573e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "738b9c8c-c468-4c9e-afc1-aab6af7a573e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01d988c9-78dd-47db-989d-bfbfdb85f79d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01d988c9-78dd-47db-989d-bfbfdb85f79d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4122175e-34d7-4316-b7b7-3fc45302be16"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4122175e-34d7-4316-b7b7-3fc45302be16"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48092d7e-9f78-46ac-9a4b-a610ba1c9822"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "48092d7e-9f78-46ac-9a4b-a610ba1c9822"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1258edc3-ec64-45a8-b311-e6e54dc18c49"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1258edc3-ec64-45a8-b311-e6e54dc18c49"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cb1fba62-7062-4568-8ae1-056cae9648a2"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cb1fba62-7062-4568-8ae1-056cae9648a2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f9039245-6c74-46fb-b918-09f0bf611fe0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f9039245-6c74-46fb-b918-09f0bf611fe0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:39:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:39:33 UTC], ["updated_at", 2016-06-06 13:39:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1463638b-dd02-40d3-a1be-0022bb836c37"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1463638b-dd02-40d3-a1be-0022bb836c37"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9c1b6ce0-5f76-4978-861e-cb0261d1f526"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9c1b6ce0-5f76-4978-861e-cb0261d1f526"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e5518745-af5d-41e1-8a6e-3ec38b4a8334"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e5518745-af5d-41e1-8a6e-3ec38b4a8334"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3c3ef8a8-abf1-4298-aef4-6e79979f9afd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3c3ef8a8-abf1-4298-aef4-6e79979f9afd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0b3f4ee-6078-4d03-8e70-a610476be28f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c0b3f4ee-6078-4d03-8e70-a610476be28f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa5453b6-40e8-48bd-8bf4-88975b160aa6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aa5453b6-40e8-48bd-8bf4-88975b160aa6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f76c84a2-e6ff-4843-9575-1418a83e7ec3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f76c84a2-e6ff-4843-9575-1418a83e7ec3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38775d52-701b-44ca-9386-317e7c4cd096"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38775d52-701b-44ca-9386-317e7c4cd096"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed989051-bc60-40a8-a605-c125e3ce2f6e"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ed989051-bc60-40a8-a605-c125e3ce2f6e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "772a909d-0e00-40aa-891a-a05af1a9b549"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "772a909d-0e00-40aa-891a-a05af1a9b549"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0083b767-5952-480c-a1ca-ed74e150cd73"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0083b767-5952-480c-a1ca-ed74e150cd73"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba891c6c-bb91-47f2-8e4b-4f33e7754ac0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ba891c6c-bb91-47f2-8e4b-4f33e7754ac0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e0ae00f7-6bc9-4a42-9a9e-fa0caaeab7d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e0ae00f7-6bc9-4a42-9a9e-fa0caaeab7d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab0106b9-5bdb-4aa2-824f-b55c6275c67e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ab0106b9-5bdb-4aa2-824f-b55c6275c67e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "abe36cba-6317-4619-b6be-c1eed798a8ba"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "abe36cba-6317-4619-b6be-c1eed798a8ba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1863072d-7720-4895-b256-66bba8a2a065"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1863072d-7720-4895-b256-66bba8a2a065"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a405945a-c823-4ac0-919f-10856841acfa"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a405945a-c823-4ac0-919f-10856841acfa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5035f288-a778-4bbf-8ec8-157b1f2732e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5035f288-a778-4bbf-8ec8-157b1f2732e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:43:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:43:20 UTC], ["updated_at", 2016-06-06 13:43:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "db5622fa-2e44-4d0d-a1ee-4bdb24bc69fb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "db5622fa-2e44-4d0d-a1ee-4bdb24bc69fb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b378bd83-49c4-4890-80d3-4a49a087754a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b378bd83-49c4-4890-80d3-4a49a087754a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b73b6e6a-1a10-4bcd-a572-8a994e57b300"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b73b6e6a-1a10-4bcd-a572-8a994e57b300"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e45ab64c-e4b6-49da-abcb-e27d345398b9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e45ab64c-e4b6-49da-abcb-e27d345398b9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8ee1f8d3-35be-4ebf-b534-1803697badc4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8ee1f8d3-35be-4ebf-b534-1803697badc4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5cebc3cd-0152-4eee-aa98-ca49632d2248"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5cebc3cd-0152-4eee-aa98-ca49632d2248"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0bf2975-403d-4f1a-a2a2-818f6cc4823e"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c0bf2975-403d-4f1a-a2a2-818f6cc4823e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10d3a616-1016-48c2-a2ea-d39d78d59989"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10d3a616-1016-48c2-a2ea-d39d78d59989"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:08 UTC], ["updated_at", 2016-06-06 13:45:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10640eaa-9e29-4cfb-841b-9010a5b88dd1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10640eaa-9e29-4cfb-841b-9010a5b88dd1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a921281f-3c84-405d-b9d5-9d6e13f27889"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a921281f-3c84-405d-b9d5-9d6e13f27889"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c8fdd101-4f6c-4ef6-9ff7-0fdc40c37e81"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c8fdd101-4f6c-4ef6-9ff7-0fdc40c37e81"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8fbc3925-64d4-4e98-8c01-78181e91e412"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8fbc3925-64d4-4e98-8c01-78181e91e412"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7deb5a9e-8e05-465e-94cf-9c5d83f9a522"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7deb5a9e-8e05-465e-94cf-9c5d83f9a522"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1256e6fe-ba0b-4439-b2c6-b00138dba7a0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1256e6fe-ba0b-4439-b2c6-b00138dba7a0"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b3f2d160-b17f-4bdd-872d-c3ad0d9c1c95"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b3f2d160-b17f-4bdd-872d-c3ad0d9c1c95"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e2847cf-42fe-4d69-b936-498dc5454069"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9e2847cf-42fe-4d69-b936-498dc5454069"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e5030935-d3b5-48a2-8827-fda90a050d72"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e5030935-d3b5-48a2-8827-fda90a050d72"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9ebbcdc9-48ee-4f8a-8f00-c9ca9c855a3d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9ebbcdc9-48ee-4f8a-8f00-c9ca9c855a3d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 13:45:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 13:45:09 UTC], ["updated_at", 2016-06-06 13:45:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7f6b8d33-9012-45cb-92dc-4a450dabd9cf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d37c99be-f459-43d3-88ed-e1c7ed41fe4e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a1007101-32df-406b-9655-caa51ce3fd76"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a1007101-32df-406b-9655-caa51ce3fd76"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4467f630-4a25-422d-95da-940946299ee1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4467f630-4a25-422d-95da-940946299ee1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3139f5d-b6ff-4856-b1e6-601261ced62a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d3139f5d-b6ff-4856-b1e6-601261ced62a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82d88e6f-591f-4b99-ace4-bbde925d935c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82d88e6f-591f-4b99-ace4-bbde925d935c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe15f076-27df-4810-bd17-94bcc71644cf"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fe15f076-27df-4810-bd17-94bcc71644cf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "658d1fc8-445e-4d6e-bcee-490b3f47cced"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "658d1fc8-445e-4d6e-bcee-490b3f47cced"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4249b4de-72f9-4864-8b7b-849ac9f82ef0"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4249b4de-72f9-4864-8b7b-849ac9f82ef0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "daf526a0-829f-4b32-9b9b-982a45a89d7b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "daf526a0-829f-4b32-9b9b-982a45a89d7b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e7065b9-b4e4-46ac-836a-db1c385f6f1d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5e7065b9-b4e4-46ac-836a-db1c385f6f1d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "705826fe-8f80-4a0b-a220-e6ee22fba556"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "705826fe-8f80-4a0b-a220-e6ee22fba556"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "05413ed5-d44c-4c96-a6b2-76be77cd7351"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "05413ed5-d44c-4c96-a6b2-76be77cd7351"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a0c2ba1-ba29-4631-be25-404b69516b89"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0a0c2ba1-ba29-4631-be25-404b69516b89"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec8fb552-0f55-42f2-ac8f-529ee728e972"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ec8fb552-0f55-42f2-ac8f-529ee728e972"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43c7a817-addf-4bb6-9a7e-0fa4568f57fe"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "43c7a817-addf-4bb6-9a7e-0fa4568f57fe"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0f6b2e65-046d-4cbc-86c9-aa2a6bf51e16"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0f6b2e65-046d-4cbc-86c9-aa2a6bf51e16"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "72056b7e-8c13-455c-839f-c5157485ef42"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "72056b7e-8c13-455c-839f-c5157485ef42"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5a7b7d11-f720-47f6-9fbb-2d3ec3282266"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5a7b7d11-f720-47f6-9fbb-2d3ec3282266"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2aaeaaa1-eaa5-49d8-9a4c-b1a9f47b549b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2aaeaaa1-eaa5-49d8-9a4c-b1a9f47b549b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:02:53 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:02:53 UTC], ["updated_at", 2016-06-06 14:02:53 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c6ccfc6-f212-479f-96bb-d84d973cccc6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b73923d2-b9bb-4b70-a49d-2f0e5619b021"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42998443-9a1f-4411-b87a-d95a1d34b73e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "42998443-9a1f-4411-b87a-d95a1d34b73e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ac07f757-c9d6-4411-bbfb-30ba98119afb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ac07f757-c9d6-4411-bbfb-30ba98119afb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7f26487b-1ac4-45ea-9c6f-c2acdf3a81e2"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7f26487b-1ac4-45ea-9c6f-c2acdf3a81e2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "be86df66-4009-42d3-89fe-fc21b6c1fcd5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "be86df66-4009-42d3-89fe-fc21b6c1fcd5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85a9f527-47cc-4047-8104-1c72647e3590"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85a9f527-47cc-4047-8104-1c72647e3590"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21c4151c-c0f2-4264-b8c1-2862b287a70e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21c4151c-c0f2-4264-b8c1-2862b287a70e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "613310a5-c6cf-4e94-b583-3df69e93e7e0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "613310a5-c6cf-4e94-b583-3df69e93e7e0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "492a61eb-80f0-4385-8c06-0f774b14ce0b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "492a61eb-80f0-4385-8c06-0f774b14ce0b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4dfe3dc9-2b8b-436e-9405-bf5e916d873f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4dfe3dc9-2b8b-436e-9405-bf5e916d873f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "525081dd-6a3f-43a4-bf56-d866293e14c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "525081dd-6a3f-43a4-bf56-d866293e14c5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5536107d-6f1e-4639-99f9-6ada50a48109"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5536107d-6f1e-4639-99f9-6ada50a48109"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "843f2c8f-0c41-4493-80fd-bafa7c5f23a6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "843f2c8f-0c41-4493-80fd-bafa7c5f23a6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2d379f6-520b-4d77-8780-0d43242d096a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2d379f6-520b-4d77-8780-0d43242d096a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38577200-f062-446f-9b50-7487acad6666"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38577200-f062-446f-9b50-7487acad6666"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ac983f28-8db3-48ba-a734-de38e3e14e31"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ac983f28-8db3-48ba-a734-de38e3e14e31"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6bb27cb-6b20-4d42-b8df-b0cd2f6fdb1f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b6bb27cb-6b20-4d42-b8df-b0cd2f6fdb1f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3e61f0c-30f9-44fd-8673-72388f81d081"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3e61f0c-30f9-44fd-8673-72388f81d081"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58e330e5-abfc-4da2-979a-6b4c216df8d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "58e330e5-abfc-4da2-979a-6b4c216df8d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:24 UTC], ["updated_at", 2016-06-06 14:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fd99f318-cd81-46df-8be2-80e26fdac7b3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c654da3-6f3a-4d1c-9fe9-857074ebe635"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "61721431-7426-443b-a439-f3bdb2533b5b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "61721431-7426-443b-a439-f3bdb2533b5b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:35 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f988fd6b-5775-40ba-9dd5-8fa901688179"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f988fd6b-5775-40ba-9dd5-8fa901688179"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:35 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "049cd7a2-c9be-4f5e-8d98-7fff80b98ae8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "049cd7a2-c9be-4f5e-8d98-7fff80b98ae8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:35 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3874dee3-7ad4-46eb-a696-2f07cf073705"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3874dee3-7ad4-46eb-a696-2f07cf073705"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:35 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:35 UTC], ["updated_at", 2016-06-06 14:03:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "347662b0-c249-4cd0-a95e-22155885febe"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "347662b0-c249-4cd0-a95e-22155885febe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2dbad284-5706-47bf-94f8-a71759dd4da3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2dbad284-5706-47bf-94f8-a71759dd4da3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2cd6a388-d387-434b-a154-5b6280377541"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2cd6a388-d387-434b-a154-5b6280377541"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c58744d-9634-4e87-a774-2de1133a3e67"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2c58744d-9634-4e87-a774-2de1133a3e67"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3ae03b1-a41b-47c4-b7fd-dc790b941344"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3ae03b1-a41b-47c4-b7fd-dc790b941344"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e1e2f6b-567c-4ffe-b847-55750f14fd5a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0e1e2f6b-567c-4ffe-b847-55750f14fd5a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "435175ff-d0e2-45f5-9963-78523c9c3e6a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "435175ff-d0e2-45f5-9963-78523c9c3e6a"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "910d4669-d864-458d-b111-3f4ec0603c2e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "910d4669-d864-458d-b111-3f4ec0603c2e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c011152-cf54-4b08-a2ec-67d476dac644"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8c011152-cf54-4b08-a2ec-67d476dac644"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07a49ade-4840-4b00-98de-32140f7cc4e3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "07a49ade-4840-4b00-98de-32140f7cc4e3"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5867a4ab-d219-4a19-a539-d0afdb19241d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5867a4ab-d219-4a19-a539-d0afdb19241d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b1d3fc4b-bece-41f2-b7db-c1581132e6c2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b1d3fc4b-bece-41f2-b7db-c1581132e6c2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fabb614d-6a12-44f1-93d6-306661636df2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fabb614d-6a12-44f1-93d6-306661636df2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bdd4783e-6891-4404-922a-9830854b4e72"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bdd4783e-6891-4404-922a-9830854b4e72"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:36 UTC], ["updated_at", 2016-06-06 14:03:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9361c730-b63f-48de-b1dd-7ade70f0178a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7d33a632-9529-45a2-90d1-fc516f997b85"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "76ea3377-0b53-401b-9079-b3ed36e5ba59"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "76ea3377-0b53-401b-9079-b3ed36e5ba59"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "66102aba-5a23-4780-a50f-57c91ac76239"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "66102aba-5a23-4780-a50f-57c91ac76239"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "09bcc06a-c5e1-4c52-80f2-9f6812326bbd"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "09bcc06a-c5e1-4c52-80f2-9f6812326bbd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "02838492-aebe-4176-b000-bed656044413"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "02838492-aebe-4176-b000-bed656044413"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9919336-1f27-47b9-9ff6-bb0cb8779651"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b9919336-1f27-47b9-9ff6-bb0cb8779651"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86103e92-4ce0-47f2-9618-7234d14b2179"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "86103e92-4ce0-47f2-9618-7234d14b2179"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c7c476ee-316d-447d-acc0-fbc7e1d4fc02"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c7c476ee-316d-447d-acc0-fbc7e1d4fc02"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1099b7cb-d864-4017-9d87-2f5342fef4e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1099b7cb-d864-4017-9d87-2f5342fef4e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4e984463-c985-4fdc-90f5-fb8a5b3d7815"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4e984463-c985-4fdc-90f5-fb8a5b3d7815"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7994b64c-7696-4e10-abce-b1fe6e63cffa"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7994b64c-7696-4e10-abce-b1fe6e63cffa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d76e9ae6-bba9-40ff-8308-db6ac2bd9eec"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d76e9ae6-bba9-40ff-8308-db6ac2bd9eec"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c200eb5-130a-4deb-9d91-5febc3a3c251"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c200eb5-130a-4deb-9d91-5febc3a3c251"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6085991-5e7b-4b97-a8a4-45f2bea1f4fe"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b6085991-5e7b-4b97-a8a4-45f2bea1f4fe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9ea37144-b0ba-4852-92c0-edfdbd228f9e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9ea37144-b0ba-4852-92c0-edfdbd228f9e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "95e28b4a-b913-450a-9fa5-d3d3b9789194"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "95e28b4a-b913-450a-9fa5-d3d3b9789194"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e682a90-c857-4e9d-ba70-e2fc4de5ea77"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0e682a90-c857-4e9d-ba70-e2fc4de5ea77"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "45d252aa-0ba1-4610-a6dc-78cde39d4fce"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "45d252aa-0ba1-4610-a6dc-78cde39d4fce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d1a637ef-f512-4b89-bff7-4558654b4f33"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d1a637ef-f512-4b89-bff7-4558654b4f33"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:03:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:03:59 UTC], ["updated_at", 2016-06-06 14:03:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2b5fee0-ab25-45c9-94df-959a92d341d9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "849d034f-6f18-430f-8756-805f213085f1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bfa804c5-0d73-4c9e-b8e5-624099d92776"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bfa804c5-0d73-4c9e-b8e5-624099d92776"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3c053611-19e0-4a29-a414-70b34df071f8"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3c053611-19e0-4a29-a414-70b34df071f8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "095437f8-ae0d-42ca-ab1c-8d01c41439ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "095437f8-ae0d-42ca-ab1c-8d01c41439ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0709e05f-369c-44a5-8538-4a2f8f5d7b6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0709e05f-369c-44a5-8538-4a2f8f5d7b6d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "298e8596-fb41-4cd9-a7cd-38fbecebbef8"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "298e8596-fb41-4cd9-a7cd-38fbecebbef8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b1d722b-0be8-4b15-9895-49f11f1f2980"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4b1d722b-0be8-4b15-9895-49f11f1f2980"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "20ee8713-ff17-49c2-92db-28e015be4ae4"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "20ee8713-ff17-49c2-92db-28e015be4ae4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f4478aa5-432f-427d-9a28-9cd95d4a57f4"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f4478aa5-432f-427d-9a28-9cd95d4a57f4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "65fd4251-d34c-4717-98ab-d30dd9540b4d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "65fd4251-d34c-4717-98ab-d30dd9540b4d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f53d8bb9-4bea-4344-8777-72cc80867457"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f53d8bb9-4bea-4344-8777-72cc80867457"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2b74329-cd9d-484c-b7cb-af9156fca450"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2b74329-cd9d-484c-b7cb-af9156fca450"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9f21474b-55f9-40a1-8aec-54657f84c49c"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9f21474b-55f9-40a1-8aec-54657f84c49c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7361596d-957a-4d35-806d-9be849fda034"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7361596d-957a-4d35-806d-9be849fda034"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d0460c44-de74-42b2-8910-2821ef69f22f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d0460c44-de74-42b2-8910-2821ef69f22f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "962a29d3-520f-430a-8413-52e6cda595fd"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "962a29d3-520f-430a-8413-52e6cda595fd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e210e1a2-0c94-44c8-a1a1-9ea4267344c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e210e1a2-0c94-44c8-a1a1-9ea4267344c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9377f467-8621-4e02-a3ee-716bf021c293"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9377f467-8621-4e02-a3ee-716bf021c293"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49299bdc-05be-4474-ad71-3a87fd1a606d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "49299bdc-05be-4474-ad71-3a87fd1a606d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:20 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:20 UTC], ["updated_at", 2016-06-06 14:04:20 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d787183-ccf7-4441-9be9-d581aadedb78"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3c3b901-f760-48f0-b85c-5ab7e392948e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab90a83f-071a-4728-bcb0-f5259279f3d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ab90a83f-071a-4728-bcb0-f5259279f3d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1fb07ef6-90f2-4c87-8424-f6fb8bd9b580"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1fb07ef6-90f2-4c87-8424-f6fb8bd9b580"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "490af6aa-47b8-419f-a050-18400d5b6eb6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "490af6aa-47b8-419f-a050-18400d5b6eb6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3dfbe1e-39bf-4ead-a0b6-f8c32d9b5663"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3dfbe1e-39bf-4ead-a0b6-f8c32d9b5663"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1fb18a01-f4c6-461f-bfc2-0fc1ab3949cb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1fb18a01-f4c6-461f-bfc2-0fc1ab3949cb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "beb0786d-7a67-4f59-9e65-a9d9c1832c6a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "beb0786d-7a67-4f59-9e65-a9d9c1832c6a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "50733277-4d20-492b-a7e7-abeaa8fe4b2c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "50733277-4d20-492b-a7e7-abeaa8fe4b2c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2cd90fb4-a3d3-4128-be95-09f843a36f39"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2cd90fb4-a3d3-4128-be95-09f843a36f39"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42db9682-9300-4b22-b2d9-999d8c05f195"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "42db9682-9300-4b22-b2d9-999d8c05f195"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2196271-ce8f-40e4-af1d-c024a7048871"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2196271-ce8f-40e4-af1d-c024a7048871"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c073a308-077d-4774-9f68-655edb41d5e8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c073a308-077d-4774-9f68-655edb41d5e8"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e3492dbb-2302-4bbc-a7e2-1052903a7691"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e3492dbb-2302-4bbc-a7e2-1052903a7691"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a09def27-a40d-4d9d-b83b-fd8e9a092c9a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a09def27-a40d-4d9d-b83b-fd8e9a092c9a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f28b2b31-c57e-47e1-8906-180e33935716"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f28b2b31-c57e-47e1-8906-180e33935716"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "92899a6d-2755-4a44-a615-07832f3f06f9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "92899a6d-2755-4a44-a615-07832f3f06f9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "973245dd-f3ce-47f6-90b8-5a4fb0c079a7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "973245dd-f3ce-47f6-90b8-5a4fb0c079a7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1f68455b-231e-4a10-a1f7-360a5252eb3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1f68455b-231e-4a10-a1f7-360a5252eb3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6beebdc-f321-4a75-a578-cc079e4fe44b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f6beebdc-f321-4a75-a578-cc079e4fe44b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:04:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:04:25 UTC], ["updated_at", 2016-06-06 14:04:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14464b5f-0d52-480e-9190-68021e72bbc2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f625c838-a6f5-4128-9f62-c10250c7a84a"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48360cec-fe24-4beb-9cf3-7b61a7975427"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "48360cec-fe24-4beb-9cf3-7b61a7975427"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3aa1c8e4-209e-43e0-95a2-0146fbd305fe"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3aa1c8e4-209e-43e0-95a2-0146fbd305fe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mDevice Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8afdc684-c33d-4007-94c2-64c211d2e3eb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8afdc684-c33d-4007-94c2-64c211d2e3eb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c173513-a694-4e16-b062-96618e79a0bf"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c173513-a694-4e16-b062-96618e79a0bf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "350a7fbb-2887-40d3-9d50-cce27687978f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "350a7fbb-2887-40d3-9d50-cce27687978f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e24776f-8502-4ee8-a210-3c6d6fb437ae"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9e24776f-8502-4ee8-a210-3c6d6fb437ae"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1ce0b1a4-49b2-480a-8f74-e4f34ab74106"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1ce0b1a4-49b2-480a-8f74-e4f34ab74106"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10f3a701-c40b-48b9-8c08-5fec43a85b38"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10f3a701-c40b-48b9-8c08-5fec43a85b38"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mDevice Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e536343d-c76e-46ee-8c5b-87dba3d40fcb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e536343d-c76e-46ee-8c5b-87dba3d40fcb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f95eb1d1-765e-4cde-88a2-205125aad906"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f95eb1d1-765e-4cde-88a2-205125aad906"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6e2eb0b-0eaa-42f3-b31e-e777fe687a7b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a6e2eb0b-0eaa-42f3-b31e-e777fe687a7b"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2db34a6c-32a8-4761-984c-4bafa8a2e6d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2db34a6c-32a8-4761-984c-4bafa8a2e6d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cf3d977-4680-4492-b7aa-70a560ae5256"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8cf3d977-4680-4492-b7aa-70a560ae5256"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "be5c92ff-7996-407c-b83b-cab1e39b693f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "be5c92ff-7996-407c-b83b-cab1e39b693f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7658e79c-e7b7-4b06-b12c-bb52ff3f7941"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7658e79c-e7b7-4b06-b12c-bb52ff3f7941"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d26cca0d-6d21-4545-a13c-ea66595fcb70"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d26cca0d-6d21-4545-a13c-ea66595fcb70"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c9c533c-ed6a-4ca2-9f07-402a5b718d5a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2c9c533c-ed6a-4ca2-9f07-402a5b718d5a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "19787a9d-50b8-4040-8ec6-23e5462e50cc"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "19787a9d-50b8-4040-8ec6-23e5462e50cc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:05:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:05:27 UTC], ["updated_at", 2016-06-06 14:05:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mDevice Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:05:39 UTC], ["updated_at", 2016-06-06 14:05:39 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:06:07 UTC], ["updated_at", 2016-06-06 14:06:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "27a75f64-8c6f-4373-bdb4-8b7256d422e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "27a75f64-8c6f-4373-bdb4-8b7256d422e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "823a6fa0-026d-4b33-ba62-5bd3594be8ce"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "823a6fa0-026d-4b33-ba62-5bd3594be8ce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4b36d6c-3514-4c05-92dd-80b7f83454f6"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4b36d6c-3514-4c05-92dd-80b7f83454f6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6831177c-563f-47d6-9536-ec8e0fa423ef"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6831177c-563f-47d6-9536-ec8e0fa423ef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a5c2381-7970-4cbb-a3e4-3074181bea3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2a5c2381-7970-4cbb-a3e4-3074181bea3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9236e008-956b-4275-96b8-c396a5ab028a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9236e008-956b-4275-96b8-c396a5ab028a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ff56b3b8-8839-4621-a682-1f99333d009e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ff56b3b8-8839-4621-a682-1f99333d009e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0152eea-7d73-460f-8ef3-88a14ee84f38"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c0152eea-7d73-460f-8ef3-88a14ee84f38"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "99a13a35-3b4f-4136-a68f-28dd7bd9e66f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "99a13a35-3b4f-4136-a68f-28dd7bd9e66f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "98983f8a-1f4e-41a0-ac3a-aa7dead039fc"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "98983f8a-1f4e-41a0-ac3a-aa7dead039fc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2be8ceb8-95e6-405e-a506-8a234dc2058c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2be8ceb8-95e6-405e-a506-8a234dc2058c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f81d8af1-aff1-497a-bdcb-34b0c5f2e97e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f81d8af1-aff1-497a-bdcb-34b0c5f2e97e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a12d0062-7a78-4377-a43a-dbda1e99e8c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a12d0062-7a78-4377-a43a-dbda1e99e8c3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a1cbbe67-4443-4755-92bd-94261fa472a5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a1cbbe67-4443-4755-92bd-94261fa472a5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a1b7f5eb-5dd1-4f70-ad6c-dd60efe5692f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a1b7f5eb-5dd1-4f70-ad6c-dd60efe5692f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4fa620db-5efc-4c5f-ba1d-ed506439832e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4fa620db-5efc-4c5f-ba1d-ed506439832e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "817194bd-d85a-4b7e-ac0e-1e76064dbe40"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "817194bd-d85a-4b7e-ac0e-1e76064dbe40"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07dc9106-171e-4b85-ad81-8022b0d433dd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "07dc9106-171e-4b85-ad81-8022b0d433dd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:24 UTC], ["updated_at", 2016-06-06 14:07:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55e8b147-8cb8-4737-bfe6-182cf828a37d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7cae1313-a26e-4bd0-8754-b315b6cd069e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "409d2396-9664-467f-81e5-b5ee12786249"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "409d2396-9664-467f-81e5-b5ee12786249"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "844423b0-0821-401f-a171-fb1d5e322c0a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "844423b0-0821-401f-a171-fb1d5e322c0a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "64024453-b32b-4532-8c99-94f0d54aff1a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "64024453-b32b-4532-8c99-94f0d54aff1a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bd97d0d4-fe54-4ebb-a1e5-8ec899e8e9b0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bd97d0d4-fe54-4ebb-a1e5-8ec899e8e9b0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ee72641-2c78-4604-8959-05d8c15362c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4ee72641-2c78-4604-8959-05d8c15362c5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "407d4d46-cf21-4eb2-b376-916d8f9bcc85"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "407d4d46-cf21-4eb2-b376-916d8f9bcc85"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3100d0f8-6e0b-475e-ace6-49c1b35f9ee4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3100d0f8-6e0b-475e-ace6-49c1b35f9ee4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c047d720-643f-448b-bb35-6858ef194d49"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c047d720-643f-448b-bb35-6858ef194d49"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "938aa712-f191-4795-a494-d757b10517a3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "938aa712-f191-4795-a494-d757b10517a3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6f84a895-9363-4a70-b362-b3e54f29cd21"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6f84a895-9363-4a70-b362-b3e54f29cd21"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "748aed02-1830-4190-9602-17330140bfa1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "748aed02-1830-4190-9602-17330140bfa1"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2f25089a-eb1f-488e-b264-47694c845458"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2f25089a-eb1f-488e-b264-47694c845458"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec798573-c9f1-4a71-8c20-c5a04b9f1575"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ec798573-c9f1-4a71-8c20-c5a04b9f1575"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03c863d7-7d82-4015-99cc-102fff4b24c8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "03c863d7-7d82-4015-99cc-102fff4b24c8"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df51fd89-0c65-478d-9fb3-b869fc2bbf7a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "df51fd89-0c65-478d-9fb3-b869fc2bbf7a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d915bf15-ebfb-4a0c-9d47-86e0c9d37c60"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d915bf15-ebfb-4a0c-9d47-86e0c9d37c60"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b1f56b2-8e4b-49d0-8d65-3458a07191aa"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b1f56b2-8e4b-49d0-8d65-3458a07191aa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "edc6e1ee-1e6d-4f80-b642-d4128b588e64"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "edc6e1ee-1e6d-4f80-b642-d4128b588e64"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:07:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:07:51 UTC], ["updated_at", 2016-06-06 14:07:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4da13783-2e54-4614-9150-6e72a8ae24bf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9b98571-564f-4980-aaa0-1f67e514309d"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90e88509-3c22-4b4e-9893-443262ee5ef6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "90e88509-3c22-4b4e-9893-443262ee5ef6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48918557-e3bc-4414-88f7-237fb001d992"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "48918557-e3bc-4414-88f7-237fb001d992"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0978a854-f61a-455f-9ec7-5e4eec809d14"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0978a854-f61a-455f-9ec7-5e4eec809d14"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "31cb3f52-2a7b-4714-a28f-dfebb7136665"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "31cb3f52-2a7b-4714-a28f-dfebb7136665"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36f270bb-29b8-4b3d-a7ed-1a962b6e0ad8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "36f270bb-29b8-4b3d-a7ed-1a962b6e0ad8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "93f54211-e1d4-4e55-a1fe-43d21ec55458"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "93f54211-e1d4-4e55-a1fe-43d21ec55458"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b143f9c-4586-45e1-abf9-8a253c5724ce"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2b143f9c-4586-45e1-abf9-8a253c5724ce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c198706f-90ec-4aea-8d18-d3fe6847dc1b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c198706f-90ec-4aea-8d18-d3fe6847dc1b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6f96e6c7-c156-4a89-bac8-c3142fedf600"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6f96e6c7-c156-4a89-bac8-c3142fedf600"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7039e89d-9298-4088-827e-bf2ae491b4d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7039e89d-9298-4088-827e-bf2ae491b4d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5c30af93-6e28-4e9e-9572-80d37e67775e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5c30af93-6e28-4e9e-9572-80d37e67775e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2f518947-d8ae-4cce-8cc8-f69b5ec3b461"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2f518947-d8ae-4cce-8cc8-f69b5ec3b461"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cbd0729f-d608-4e3f-89e1-df2333feb586"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cbd0729f-d608-4e3f-89e1-df2333feb586"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:56 UTC], ["updated_at", 2016-06-06 14:15:56 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73d2ec02-81b4-4784-a0d6-7ac2f7848b81"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "73d2ec02-81b4-4784-a0d6-7ac2f7848b81"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:56 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2615dc8-f7f4-439f-866f-a39751777895"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2615dc8-f7f4-439f-866f-a39751777895"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5297add4-0cd8-44c6-b184-091aa37fa029"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5297add4-0cd8-44c6-b184-091aa37fa029"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85132b24-1f1b-41f1-915c-c9e7c845288c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85132b24-1f1b-41f1-915c-c9e7c845288c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:15:57 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e76dde40-5c29-4eca-98e3-e385d4e68344"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e76dde40-5c29-4eca-98e3-e385d4e68344"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:15:57 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:15:57 UTC], ["updated_at", 2016-06-06 14:15:57 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68009ba9-1526-41ac-b328-9f05e51bc07d"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f42bb31b-2443-4624-84af-eef25326edf3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ac5a502b-5494-4401-ab8a-f5a40dc9a4f0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ac5a502b-5494-4401-ab8a-f5a40dc9a4f0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55787fa2-5518-44a8-a493-d50d11881944"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "55787fa2-5518-44a8-a493-d50d11881944"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f63b3a02-8047-466f-afae-ffb193c76db7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f63b3a02-8047-466f-afae-ffb193c76db7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b8da29c-483a-413d-86d0-1f5ba53ed389"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b8da29c-483a-413d-86d0-1f5ba53ed389"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7f89761d-07e1-4f07-8e97-d1173840fed9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7f89761d-07e1-4f07-8e97-d1173840fed9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d6d6643-2316-4233-89b7-ba3474ce60d4"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0d6d6643-2316-4233-89b7-ba3474ce60d4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6bb42709-b2ca-45c8-b313-24a99998d52e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6bb42709-b2ca-45c8-b313-24a99998d52e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "04caef74-bd3f-46ef-9233-4344c8b4604e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "04caef74-bd3f-46ef-9233-4344c8b4604e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "24f30378-bb01-4b02-bed5-7f1978d4834f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "24f30378-bb01-4b02-bed5-7f1978d4834f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "401bb3dc-fd3b-4a1d-8177-8c3f9375578d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "401bb3dc-fd3b-4a1d-8177-8c3f9375578d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3e88b4a-f396-4dff-b870-9bfa26ad88c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3e88b4a-f396-4dff-b870-9bfa26ad88c3"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3c57ccce-38dc-4594-a923-c8fba5d920f5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3c57ccce-38dc-4594-a923-c8fba5d920f5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f036b732-1124-40f7-b499-304095944853"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f036b732-1124-40f7-b499-304095944853"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59aa3d0a-fe22-4f32-89da-af1c0b2578c6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "59aa3d0a-fe22-4f32-89da-af1c0b2578c6"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18872be1-4b6b-4098-8ac8-ef61f5d122fc"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "18872be1-4b6b-4098-8ac8-ef61f5d122fc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe7832c9-d4d6-4278-9f6a-8bfa4d6613d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fe7832c9-d4d6-4278-9f6a-8bfa4d6613d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b454b2a7-78be-4cb2-a5f0-40b1606d8e92"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b454b2a7-78be-4cb2-a5f0-40b1606d8e92"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c5baa9dc-57dc-43c5-8009-18d9fca5d45d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c5baa9dc-57dc-43c5-8009-18d9fca5d45d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 14:16:30 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 14:16:30 UTC], ["updated_at", 2016-06-06 14:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47370701-a2f4-4d37-a14f-28828a169cbe"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bf29768f-0f0c-4343-bef3-221ff04a3263"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07bafb19-8652-4c99-b6be-57c2da8026b1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "07bafb19-8652-4c99-b6be-57c2da8026b1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b8ad224-a171-4a9e-ac57-146de392953e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2b8ad224-a171-4a9e-ac57-146de392953e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4ad4e61-3fe9-480f-a07d-bb32d80faba1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4ad4e61-3fe9-480f-a07d-bb32d80faba1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "001ec225-22e1-44b4-93f8-2844a87e2129"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "001ec225-22e1-44b4-93f8-2844a87e2129"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a789eb35-3624-43ad-b73e-d1a4770ace4e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a789eb35-3624-43ad-b73e-d1a4770ace4e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "760600f6-8076-4ecb-ba37-e828543802fa"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "760600f6-8076-4ecb-ba37-e828543802fa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5fe3d5f3-7085-49a7-abeb-d0900654647a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5fe3d5f3-7085-49a7-abeb-d0900654647a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dcb9b958-a132-4264-82f8-9aa3e80b8cdd"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dcb9b958-a132-4264-82f8-9aa3e80b8cdd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7c4ff994-9518-49ce-a515-148e2d10141a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7c4ff994-9518-49ce-a515-148e2d10141a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f55e8b5b-6ac9-4339-a781-5237a411de6b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f55e8b5b-6ac9-4339-a781-5237a411de6b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "530c9d03-e622-40c7-96d0-f773903885bd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "530c9d03-e622-40c7-96d0-f773903885bd"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b812e61c-8a5e-4e21-9127-6394f341a396"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b812e61c-8a5e-4e21-9127-6394f341a396"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2e07d992-eeb1-4d44-9bee-dbe0ff137f38"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2e07d992-eeb1-4d44-9bee-dbe0ff137f38"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9c4c9dc8-ee83-4333-b0d3-e67f482b208c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9c4c9dc8-ee83-4333-b0d3-e67f482b208c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a33ea027-0305-4ab5-9fb0-38bfe99a6cbd"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a33ea027-0305-4ab5-9fb0-38bfe99a6cbd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cfee9299-fbf5-499c-b7d8-d15d630a294f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cfee9299-fbf5-499c-b7d8-d15d630a294f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d990451d-cdf7-4681-b9f2-6cd13b431b8c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d990451d-cdf7-4681-b9f2-6cd13b431b8c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f530f3c-ff2e-4160-9004-bc05629f8ae7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f530f3c-ff2e-4160-9004-bc05629f8ae7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:21:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:21:05 UTC], ["updated_at", 2016-06-06 15:21:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d79e26d0-3a48-488b-8748-a9ed803c9973"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b46f6ab7-f037-4c55-b322-610527b14c64"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "049bad7d-241c-41e2-a359-97ba4a896d06"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "049bad7d-241c-41e2-a359-97ba4a896d06"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4be74cb0-9f00-4436-8d94-8d03cdafd598"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c029641-8a64-430b-9561-60901fc6072c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1c029641-8a64-430b-9561-60901fc6072c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47cc8f0f-ad1d-40e4-9e37-c673f8b17f9d"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "47cc8f0f-ad1d-40e4-9e37-c673f8b17f9d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79878182-7f3e-4031-9acb-b173d9fb3dd6"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79878182-7f3e-4031-9acb-b173d9fb3dd6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd9acf59-b62f-48c6-86a9-7ca97c8f0f2d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dd9acf59-b62f-48c6-86a9-7ca97c8f0f2d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dabb58c7-9c16-478b-9eb0-cda0c143cff0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dabb58c7-9c16-478b-9eb0-cda0c143cff0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d47e3464-460f-4510-a7bb-1496c82a6d4c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d47e3464-460f-4510-a7bb-1496c82a6d4c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9453b154-9cb4-49c6-ab28-aa606545fb44"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9453b154-9cb4-49c6-ab28-aa606545fb44"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "892038f0-9a1b-4d94-b5ce-5ee007f56538"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "892038f0-9a1b-4d94-b5ce-5ee007f56538"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b63646a-76b0-45e1-92a0-3fb5465165d9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b63646a-76b0-45e1-92a0-3fb5465165d9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3c5c7ce-1a4b-4c64-b29e-a13d6c482c00"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3c5c7ce-1a4b-4c64-b29e-a13d6c482c00"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21205c95-99f6-4f00-b45f-af43bd19dd0b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21205c95-99f6-4f00-b45f-af43bd19dd0b"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3ec39b53-a09e-46cc-9c28-abece8e8a257"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3ec39b53-a09e-46cc-9c28-abece8e8a257"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ffbce7a3-f257-49f7-8b6a-0f9ec982228e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ffbce7a3-f257-49f7-8b6a-0f9ec982228e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46161e5f-d8e6-49c8-83bc-081be41b9f18"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "46161e5f-d8e6-49c8-83bc-081be41b9f18"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7803bfcd-9ae2-4889-8137-91ca11b0fda7"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7803bfcd-9ae2-4889-8137-91ca11b0fda7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3cd19ac8-6c1e-4817-8d3f-0ed53859c61d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3cd19ac8-6c1e-4817-8d3f-0ed53859c61d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d826622a-e73c-451f-86e7-bc5711ae6788"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d826622a-e73c-451f-86e7-bc5711ae6788"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ae57ad48-6a2d-48fe-9617-4ead6cb082ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ae57ad48-6a2d-48fe-9617-4ead6cb082ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:21 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:21 UTC], ["updated_at", 2016-06-06 15:31:21 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:31:45 UTC], ["updated_at", 2016-06-06 15:31:45 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90c3d9c8-1a37-464a-9a3c-199fc4bd7cb2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0986be15-51f0-4216-862b-971583fb59e1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68e5be78-c3e7-47be-8270-37f3783b2d5a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68e5be78-c3e7-47be-8270-37f3783b2d5a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d93d308-2b41-4ddd-bb0d-85b004ba3c77"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d93d308-2b41-4ddd-bb0d-85b004ba3c77"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:45 UTC], ["updated_at", 2016-06-06 15:31:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "88ef2672-f184-4eba-a722-e60d5ccb7a51"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "88ef2672-f184-4eba-a722-e60d5ccb7a51"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "136b1ce9-98ee-405d-a498-ee5e548a5a5b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "136b1ce9-98ee-405d-a498-ee5e548a5a5b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7ccf8fb4-ebec-4659-8d3b-b85e300019a3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7ccf8fb4-ebec-4659-8d3b-b85e300019a3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "111946b6-e853-4d0a-9853-fcd2a1d8a919"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "111946b6-e853-4d0a-9853-fcd2a1d8a919"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9fbb5b2-b3ea-4153-b9fe-d28e3475f1b4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b9fbb5b2-b3ea-4153-b9fe-d28e3475f1b4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46e1ebaa-cb36-41f7-acd0-ada8ce99b511"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "46e1ebaa-cb36-41f7-acd0-ada8ce99b511"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "27f331b3-0c12-4370-84f3-8ec1cb8889bf"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "27f331b3-0c12-4370-84f3-8ec1cb8889bf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "942484a7-afef-4ff2-bb14-d47fb434007b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "942484a7-afef-4ff2-bb14-d47fb434007b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d0c00755-c490-4458-af75-c5306e080b84"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d0c00755-c490-4458-af75-c5306e080b84"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49a977d6-8783-4766-a207-53ecbf539319"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "49a977d6-8783-4766-a207-53ecbf539319"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82bac6fd-4788-45a6-b5b6-765acd351199"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82bac6fd-4788-45a6-b5b6-765acd351199"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b4510f0c-067c-40b7-bd31-0e0db3794a2f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b4510f0c-067c-40b7-bd31-0e0db3794a2f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3ae22254-ba41-49eb-81f4-f93acd52e685"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3ae22254-ba41-49eb-81f4-f93acd52e685"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1a51c5ea-4f6a-49c7-bbe9-52c3794980ee"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1a51c5ea-4f6a-49c7-bbe9-52c3794980ee"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0af74fe4-d90e-4ce7-a723-9512b9b4e61c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0af74fe4-d90e-4ce7-a723-9512b9b4e61c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d61c412c-5a8c-4912-a3ac-8f6a2e53cf4b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d61c412c-5a8c-4912-a3ac-8f6a2e53cf4b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e397d9b2-d1ce-490b-bb26-a026f7a9bf80"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e397d9b2-d1ce-490b-bb26-a026f7a9bf80"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5f022b30-5115-43e4-bc83-d71ad216b979"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5f022b30-5115-43e4-bc83-d71ad216b979"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:31:46 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:31:46 UTC], ["updated_at", 2016-06-06 15:31:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3a5a99f9-ac1a-47f2-8a73-1202d7ae0d13"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d57c66af-8f79-4b36-a71c-6e313ba116b3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5560291b-f585-4bee-a6a1-1e1ac1ddc413"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5560291b-f585-4bee-a6a1-1e1ac1ddc413"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5cc40737-a89d-4638-976e-dfb3f1a5e81c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5cc40737-a89d-4638-976e-dfb3f1a5e81c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "88557da4-b1b9-4c66-88f3-3ca43f28b5f8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01815953-b08f-4ef9-8235-0202d279ad93"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01815953-b08f-4ef9-8235-0202d279ad93"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d95b5c2-9c5e-470a-aa25-0814fb33047e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3d95b5c2-9c5e-470a-aa25-0814fb33047e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7dc36eb3-125c-4c58-acb7-efe326284a48"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7dc36eb3-125c-4c58-acb7-efe326284a48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "26155100-975a-4c94-842b-f9fbdd40e6e0"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "26155100-975a-4c94-842b-f9fbdd40e6e0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b8cd0ddf-7fe3-4679-acc5-88e089ff0f80"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b8cd0ddf-7fe3-4679-acc5-88e089ff0f80"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d89e3b70-6a36-4a83-80ff-2426beea4a79"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d89e3b70-6a36-4a83-80ff-2426beea4a79"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e387f180-48cc-4785-baab-cc88b202528f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e387f180-48cc-4785-baab-cc88b202528f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "164ec677-0669-4717-bc20-e934114e16d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "164ec677-0669-4717-bc20-e934114e16d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5311c20d-57a9-4677-b8a5-d234a8d5632c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5311c20d-57a9-4677-b8a5-d234a8d5632c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2f97b0d-6b40-4146-a003-4e52fe229728"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d2f97b0d-6b40-4146-a003-4e52fe229728"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e3cc8c5-b458-41b2-9e95-37440af3bef9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e3cc8c5-b458-41b2-9e95-37440af3bef9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe5b27e6-a298-4343-88c1-b71b1ebd6360"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fe5b27e6-a298-4343-88c1-b71b1ebd6360"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12e1b8fa-f82a-47bf-91c5-10ecddaa7e12"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "12e1b8fa-f82a-47bf-91c5-10ecddaa7e12"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0e87734-b4c4-4c40-8d14-c0a35004e33c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b0e87734-b4c4-4c40-8d14-c0a35004e33c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42153892-f05b-4179-b2a4-30dd57b392a4"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "42153892-f05b-4179-b2a4-30dd57b392a4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "755da8e5-28fb-47ef-8946-2059ad1cb7c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "755da8e5-28fb-47ef-8946-2059ad1cb7c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ff4724d7-ebe0-43e5-af5e-51bc613b2b12"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ff4724d7-ebe0-43e5-af5e-51bc613b2b12"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b94627f-3bbf-422a-a039-d3be4b544381"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b94627f-3bbf-422a-a039-d3be4b544381"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:34:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:34:08 UTC], ["updated_at", 2016-06-06 15:34:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "550f2c4e-a251-448b-818d-13284f64f470"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b893726-7b66-4777-bf94-0955c8a29b57"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d9f2787c-fbbe-4f29-8f91-87def10b1a5c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d9f2787c-fbbe-4f29-8f91-87def10b1a5c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "587d3c51-a1f7-4f03-b4a7-9a6b220d184f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "587d3c51-a1f7-4f03-b4a7-9a6b220d184f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "efa6589b-bb4d-4f54-aa89-b26f4057518a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49259e78-97da-4706-826f-b4fab2e40163"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "49259e78-97da-4706-826f-b4fab2e40163"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d6bcef89-3bdf-4914-854b-78e56bc75a7c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d6bcef89-3bdf-4914-854b-78e56bc75a7c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bf578662-76b9-4d4e-a4bd-db91981d72fb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bf578662-76b9-4d4e-a4bd-db91981d72fb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1af2a07b-b81a-4c74-99a4-cb6111f0df48"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1af2a07b-b81a-4c74-99a4-cb6111f0df48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd714411-66bb-4dcc-beb7-b2f0b1e25a0f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dd714411-66bb-4dcc-beb7-b2f0b1e25a0f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b533a5a-b056-47c9-afe3-309d8f477b6a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8b533a5a-b056-47c9-afe3-309d8f477b6a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9208166-cc2a-4d64-966e-b6a7636f4452"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a9208166-cc2a-4d64-966e-b6a7636f4452"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a679ad89-c2a9-49fd-9490-8cab1e7f7ad0"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a679ad89-c2a9-49fd-9490-8cab1e7f7ad0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3500c2cc-a65c-4ec8-af9a-4e16f167bf1d"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3500c2cc-a65c-4ec8-af9a-4e16f167bf1d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab2d0562-2e44-4bbe-b776-1125635291ee"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ab2d0562-2e44-4bbe-b776-1125635291ee"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "098e48a3-2b26-4598-a3a7-55952b9a367d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "098e48a3-2b26-4598-a3a7-55952b9a367d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dcd32b83-fe2c-4393-aef3-e553b23fc7d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dcd32b83-fe2c-4393-aef3-e553b23fc7d3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a32d5904-0d45-4163-a441-0ffd4cd692ce"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a32d5904-0d45-4163-a441-0ffd4cd692ce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79ef59b6-1f4d-458b-ad1b-80dda0f454ab"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79ef59b6-1f4d-458b-ad1b-80dda0f454ab"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d058c225-253c-4e31-8042-b34b1b7400bf"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d058c225-253c-4e31-8042-b34b1b7400bf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce3b9a6f-dee4-4deb-a2fb-891c0dc1f253"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce3b9a6f-dee4-4deb-a2fb-891c0dc1f253"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3afffc66-768b-436a-a9d8-a24f00d5d105"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3afffc66-768b-436a-a9d8-a24f00d5d105"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b8423931-9210-4cd4-8c6e-65ae9a32f54d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b8423931-9210-4cd4-8c6e-65ae9a32f54d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:31 UTC], ["updated_at", 2016-06-06 15:36:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1629a6e6-6aa0-4a63-a8f9-3855a77febf2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9641a9e5-2c9e-4d54-ad63-60ba8928e536"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b2b2b08-fa4f-40db-9895-886899952a48"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b2b2b08-fa4f-40db-9895-886899952a48"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "512dc688-4e23-45f2-ad70-305ddb3c42df"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "512dc688-4e23-45f2-ad70-305ddb3c42df"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73b90493-ed4e-4b5d-9b18-194e6d17d815"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "50e2eaac-c5ac-4901-b572-601fe3eefc53"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "50e2eaac-c5ac-4901-b572-601fe3eefc53"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "739aa757-818b-4c30-9238-8ac4bf53a189"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "739aa757-818b-4c30-9238-8ac4bf53a189"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "11272e76-1887-4b3a-bba8-34cf0fb73403"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "11272e76-1887-4b3a-bba8-34cf0fb73403"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9cdf8b6a-08e9-4f78-8bd0-89f75964ea7e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9cdf8b6a-08e9-4f78-8bd0-89f75964ea7e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "77ebec38-4c37-4082-b2d4-948ee822c96b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "77ebec38-4c37-4082-b2d4-948ee822c96b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6736466-c644-4aee-be8b-c1b04bfcc603"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a6736466-c644-4aee-be8b-c1b04bfcc603"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e193e64-4e9e-41f8-9b0d-cac3c9cc4ca5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9e193e64-4e9e-41f8-9b0d-cac3c9cc4ca5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cfb93b8d-8782-4821-8d6b-52e5a077772d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cfb93b8d-8782-4821-8d6b-52e5a077772d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e44cb97-fd53-4574-80d9-bfc464cda3c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e44cb97-fd53-4574-80d9-bfc464cda3c3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d521455-60dc-4718-a20b-84dd0fe3d130"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4d521455-60dc-4718-a20b-84dd0fe3d130"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "da8342cd-34cc-4b71-8d84-9dde95311443"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "da8342cd-34cc-4b71-8d84-9dde95311443"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86de40fc-6370-45bb-b957-fa197e9cc2b3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "86de40fc-6370-45bb-b957-fa197e9cc2b3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f5f25d9-9072-4a3d-a2f9-3ef516c40730"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f5f25d9-9072-4a3d-a2f9-3ef516c40730"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "45b0f49f-123a-4801-83a4-5b41ae445de3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "45b0f49f-123a-4801-83a4-5b41ae445de3"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce0a3b5f-a5ef-49ab-b4c8-066340f2081b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce0a3b5f-a5ef-49ab-b4c8-066340f2081b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4f3c2e14-0700-4087-b44d-2be9741570dd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4f3c2e14-0700-4087-b44d-2be9741570dd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "594f3566-d338-47d1-8a80-e716ea9e70b6"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "594f3566-d338-47d1-8a80-e716ea9e70b6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c804179-bba0-4257-93ee-377b6a946b74"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1c804179-bba0-4257-93ee-377b6a946b74"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:36:55 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:36:55 UTC], ["updated_at", 2016-06-06 15:36:55 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7fa263c1-6d0d-45d5-8f5e-5181fb75a5d6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "97d446d8-7583-4634-8b07-b886e27317a5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c33137d-5b37-4388-bd13-f857bec3680c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c33137d-5b37-4388-bd13-f857bec3680c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ec95d3a-ab26-42d3-bbbc-fe9121ecae91"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ec95d3a-ab26-42d3-bbbc-fe9121ecae91"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "488ecadb-636b-482a-8787-9689cbe07fbb"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6764a573-7c81-444a-8a9a-57c149001bc6"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6764a573-7c81-444a-8a9a-57c149001bc6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2aa1ccd6-124c-44b0-b246-5c50ca19e637"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2aa1ccd6-124c-44b0-b246-5c50ca19e637"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "adaf4426-6b82-4012-ac37-1a317ea42486"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "adaf4426-6b82-4012-ac37-1a317ea42486"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb5f5d32-828b-43f3-9985-cbe1522392b7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb5f5d32-828b-43f3-9985-cbe1522392b7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3124412a-c993-4d9b-9868-5f6a330b34af"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3124412a-c993-4d9b-9868-5f6a330b34af"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e8153cbd-e227-457b-8743-146ea96252c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e8153cbd-e227-457b-8743-146ea96252c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7fc81880-68db-4e8a-b6d6-4cce21b2c9ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7fc81880-68db-4e8a-b6d6-4cce21b2c9ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1f2078b7-d326-405d-a424-b5d78a571582"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1f2078b7-d326-405d-a424-b5d78a571582"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ee589b70-e785-484b-adc7-2cff8c35bb99"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ee589b70-e785-484b-adc7-2cff8c35bb99"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa514afe-3cc8-4eb5-83e9-ec8e7aea549d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aa514afe-3cc8-4eb5-83e9-ec8e7aea549d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21375255-2567-40f6-8e20-c0438f2d2de1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21375255-2567-40f6-8e20-c0438f2d2de1"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c370ecf0-d83a-496b-938d-fced15267550"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c370ecf0-d83a-496b-938d-fced15267550"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0aefd9db-95b4-4f42-8dcf-dcd88e6018d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0aefd9db-95b4-4f42-8dcf-dcd88e6018d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4cab2fa6-1275-418a-b818-ae6150416586"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4cab2fa6-1275-418a-b818-ae6150416586"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b88b4129-630a-4fc5-8a03-1d979a93671d"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b88b4129-630a-4fc5-8a03-1d979a93671d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3ea4bac-cb57-43c2-9ddd-ffa757aced2d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3ea4bac-cb57-43c2-9ddd-ffa757aced2d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e77a8f4-2814-41ab-ba76-07d9db8dcdf7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0e77a8f4-2814-41ab-ba76-07d9db8dcdf7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "76e54726-c4f3-48ec-b865-65b70bdc4ca3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "76e54726-c4f3-48ec-b865-65b70bdc4ca3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:10 UTC], ["updated_at", 2016-06-06 15:37:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a5be9dcf-f2f7-4719-8a7a-2b0cfd9904e1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d7a39fbe-2ce6-4f97-8d1f-51f0b63e7978"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7e5f78c-f3be-4ab2-9b60-cdec91a4ea5a"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7e5f78c-f3be-4ab2-9b60-cdec91a4ea5a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "87c6dd91-2219-49da-b778-e30aa353cb37"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "87c6dd91-2219-49da-b778-e30aa353cb37"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5344d89f-80cb-4912-b3ca-fa6585900ef6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1114fd2f-f1b1-49f4-8d3a-ac2d537691bd"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1114fd2f-f1b1-49f4-8d3a-ac2d537691bd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e984a82f-0be4-4c5f-ab01-c01f96a4d040"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e984a82f-0be4-4c5f-ab01-c01f96a4d040"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "969faf5a-4a33-4407-a115-9b9bead998c2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "969faf5a-4a33-4407-a115-9b9bead998c2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "31d0ef69-bbee-41ef-b3b2-4104eb8aefc8"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "31d0ef69-bbee-41ef-b3b2-4104eb8aefc8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59dddc28-4c08-4e7b-9012-aeb5edab2840"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "59dddc28-4c08-4e7b-9012-aeb5edab2840"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1b18df02-5712-4d67-9e9b-2d3813df8c07"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1b18df02-5712-4d67-9e9b-2d3813df8c07"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f85e2971-4ba7-4f3e-9146-1b3e95738296"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f85e2971-4ba7-4f3e-9146-1b3e95738296"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "035fd04c-4ab6-421b-b3ba-5d0f93d2d492"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "035fd04c-4ab6-421b-b3ba-5d0f93d2d492"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "65cc0cf9-f9be-4473-8666-4b7c6b9eeb77"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "65cc0cf9-f9be-4473-8666-4b7c6b9eeb77"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9bc09088-fe18-4b9b-9e63-6a95341f39ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9bc09088-fe18-4b9b-9e63-6a95341f39ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54cbf3ff-d817-41e3-826d-03bdcd0115a0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "54cbf3ff-d817-41e3-826d-03bdcd0115a0"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6fb6dd5-40c3-461f-9435-2d1f1e86373e"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a6fb6dd5-40c3-461f-9435-2d1f1e86373e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f03f471b-a890-4f26-9a94-9f8034726867"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f03f471b-a890-4f26-9a94-9f8034726867"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7aef28a7-8289-4575-b12c-4e1610675064"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7aef28a7-8289-4575-b12c-4e1610675064"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "00bc5c5a-7f22-4710-aa26-28fa21ea43ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "00bc5c5a-7f22-4710-aa26-28fa21ea43ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "96e1ba94-9352-409c-8e89-fb917a2e2603"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "96e1ba94-9352-409c-8e89-fb917a2e2603"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b570ae36-d175-4e57-89ef-c21a6493e050"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b570ae36-d175-4e57-89ef-c21a6493e050"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f090ae6-8e26-46a1-83d3-706107849134"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f090ae6-8e26-46a1-83d3-706107849134"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:37:40 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:37:40 UTC], ["updated_at", 2016-06-06 15:37:40 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a41dd458-7061-4722-913c-146dcbd93a0e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ecd48613-ae8a-46a2-8e8b-a55bae890476"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "043adb70-096a-43a6-ba91-1b5ae467e3bd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "043adb70-096a-43a6-ba91-1b5ae467e3bd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8eec20e2-498b-4ef0-aa55-71e6b6836808"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8eec20e2-498b-4ef0-aa55-71e6b6836808"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef6e6d8e-20f7-4b5c-9d3d-9db3a302d1e3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4cecb6a9-0dce-4cdb-873d-58b47f67758a"], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4cecb6a9-0dce-4cdb-873d-58b47f67758a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7767cd86-fdc0-47e9-ad6c-e1b460b7438b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7767cd86-fdc0-47e9-ad6c-e1b460b7438b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73eee260-e956-44f0-a4ef-98be86a1bd09"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "73eee260-e956-44f0-a4ef-98be86a1bd09"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58192a7d-5609-409d-986d-0b58441e3bef"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "58192a7d-5609-409d-986d-0b58441e3bef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b06137ee-70b8-4381-80f9-c66b1b2eaaba"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b06137ee-70b8-4381-80f9-c66b1b2eaaba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cc943965-88b8-42c0-b99c-26c2ae0ae14b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cc943965-88b8-42c0-b99c-26c2ae0ae14b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "439cdcc8-869a-421c-b796-0560c1b77b86"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "439cdcc8-869a-421c-b796-0560c1b77b86"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "23b09454-f13e-4a93-b43b-8d7c0f411568"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "23b09454-f13e-4a93-b43b-8d7c0f411568"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "25c746c2-24dd-412d-8016-93059e2d4c48"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "25c746c2-24dd-412d-8016-93059e2d4c48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "551d79e6-fdc2-4d27-9457-ed8b30e8f2f0"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "551d79e6-fdc2-4d27-9457-ed8b30e8f2f0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4f6a33d6-e01d-4028-83a5-b1f0f19d0cf5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4f6a33d6-e01d-4028-83a5-b1f0f19d0cf5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7dcde75c-ed32-43a5-bdcb-160524913cf9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7dcde75c-ed32-43a5-bdcb-160524913cf9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3e4aa3b-6b45-46af-9836-fcaeb5d13664"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d3e4aa3b-6b45-46af-9836-fcaeb5d13664"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb7e8e4c-6f77-434a-b8cf-c0581f33bdd0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb7e8e4c-6f77-434a-b8cf-c0581f33bdd0"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0882aae6-e767-4aa2-a321-b0c43f79a1af"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0882aae6-e767-4aa2-a321-b0c43f79a1af"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0e4358b-0f78-4495-b9ec-856dcdb7166c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0e4358b-0f78-4495-b9ec-856dcdb7166c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a5f206fd-7203-4280-ae8a-6b82f3b41911"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a5f206fd-7203-4280-ae8a-6b82f3b41911"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ca6e29e8-eeff-4734-9eb3-78fb4d0ffbe0"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ca6e29e8-eeff-4734-9eb3-78fb4d0ffbe0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:38:09 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:38:09 UTC], ["updated_at", 2016-06-06 15:38:09 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1454f3a6-2be6-4ec5-a99b-4b81effe80c6"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "948c90d7-c16d-4626-936a-86fc355622bb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8dfbadd8-2fba-4f75-b4b3-ef3656e77894"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8dfbadd8-2fba-4f75-b4b3-ef3656e77894"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36d0423b-2446-4b98-a235-3c158ac89092"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36d0423b-2446-4b98-a235-3c158ac89092"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "44c22cdd-4713-4277-9866-80c8317e87de"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "99b68706-cee8-4b37-979b-d4c67d082034"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "99b68706-cee8-4b37-979b-d4c67d082034"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4339331b-3eca-43c3-9e0c-a477daa282aa"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4339331b-3eca-43c3-9e0c-a477daa282aa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e5dc713c-7365-4558-97ab-1fe6a8bf8b6f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e5dc713c-7365-4558-97ab-1fe6a8bf8b6f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "02f9cac6-9420-4076-a238-6fd00d477985"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "02f9cac6-9420-4076-a238-6fd00d477985"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bcff0fb6-c36c-4ed7-948b-454e0cd49c4a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bcff0fb6-c36c-4ed7-948b-454e0cd49c4a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "271a91a3-c8f9-4a52-8b40-4752a12d3a8a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "271a91a3-c8f9-4a52-8b40-4752a12d3a8a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "893521d3-3a80-484c-8a4c-2ca42fdcd0c8"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "893521d3-3a80-484c-8a4c-2ca42fdcd0c8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "45b19a76-672c-437e-9580-9b5f25f27a6a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "45b19a76-672c-437e-9580-9b5f25f27a6a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6db00fcb-955e-492b-bd7c-6471d0c64f16"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6db00fcb-955e-492b-bd7c-6471d0c64f16"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9eaf1535-b73d-4263-a2d8-62e791268b80"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9eaf1535-b73d-4263-a2d8-62e791268b80"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "224fd7b8-eec7-4c21-b455-ca15af1dd5c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "224fd7b8-eec7-4c21-b455-ca15af1dd5c9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aaa4a505-5eb0-451c-be3e-5a99a7d24e42"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aaa4a505-5eb0-451c-be3e-5a99a7d24e42"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21b1ccf1-7368-4695-8d3d-fe2f781879ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21b1ccf1-7368-4695-8d3d-fe2f781879ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59dfff0d-ed8e-487a-8f3f-bb2349694939"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "59dfff0d-ed8e-487a-8f3f-bb2349694939"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "69fd1173-6ef4-4795-8bbd-b02a2a659bba"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "69fd1173-6ef4-4795-8bbd-b02a2a659bba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6b52eff8-89df-46ed-a3ff-cb2e6e74b180"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6b52eff8-89df-46ed-a3ff-cb2e6e74b180"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9980fdb0-8fba-48ef-9bd3-f32dba91443f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9980fdb0-8fba-48ef-9bd3-f32dba91443f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "901baa77-3711-4a21-84f1-9e0734366cef"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "901baa77-3711-4a21-84f1-9e0734366cef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:41:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:41:44 UTC], ["updated_at", 2016-06-06 15:41:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fc042e1f-f161-42ba-a697-53aedecc5643"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "37d52cdb-5e83-4aa1-8c19-f0522b7ba630"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2e00b8f-d478-40b5-9e66-904e4a7c6ac8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2e00b8f-d478-40b5-9e66-904e4a7c6ac8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e18f293b-48fc-4724-99a4-01a1a6501744"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e18f293b-48fc-4724-99a4-01a1a6501744"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c79e9d4e-fdfc-475a-819d-55ea9bed4afb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "30ab9a4b-db6e-430e-b0aa-61b9efa8ee85"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "30ab9a4b-db6e-430e-b0aa-61b9efa8ee85"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ff0857c-778f-4a9d-817e-eb909222e67e"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0ff0857c-778f-4a9d-817e-eb909222e67e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "26ca67e3-b12c-43be-911c-b6ad28bbf04c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "26ca67e3-b12c-43be-911c-b6ad28bbf04c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0f037b97-bd61-4a3a-95a9-ded2d2228d5a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0f037b97-bd61-4a3a-95a9-ded2d2228d5a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "30bc7952-89cf-4518-b39e-1ce9e2d26b87"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "30bc7952-89cf-4518-b39e-1ce9e2d26b87"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ba89bb9-8774-438f-8807-fe2dd71a0a8f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0ba89bb9-8774-438f-8807-fe2dd71a0a8f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1352b467-4c31-47f1-acec-1ea209386f50"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1352b467-4c31-47f1-acec-1ea209386f50"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ea48cb74-f07a-4c3b-a1a8-c2065d1f606d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ea48cb74-f07a-4c3b-a1a8-c2065d1f606d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7f79e948-b318-4aec-a70d-fb18c2691eca"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7f79e948-b318-4aec-a70d-fb18c2691eca"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb58ee28-3f19-4ba6-b07b-20d388a15e6b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb58ee28-3f19-4ba6-b07b-20d388a15e6b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "75d22afb-8acd-4f95-85aa-eea97b458a7f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "75d22afb-8acd-4f95-85aa-eea97b458a7f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79902b3b-72f8-422d-aaa9-3d1126372d64"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79902b3b-72f8-422d-aaa9-3d1126372d64"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ff52254-1b2d-4736-8ac6-a57064bf9929"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0ff52254-1b2d-4736-8ac6-a57064bf9929"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a38da44d-73d1-4827-a58b-07396ff73cc5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a38da44d-73d1-4827-a58b-07396ff73cc5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c4b86a3-2282-440c-99f9-2eaa1acd68f1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2c4b86a3-2282-440c-99f9-2eaa1acd68f1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d27a7e99-2d15-427f-96e7-8ec4e6ba04d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d27a7e99-2d15-427f-96e7-8ec4e6ba04d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "62e4e1b9-09c3-4214-8149-5a0fe591aa51"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "62e4e1b9-09c3-4214-8149-5a0fe591aa51"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d230053-af6b-49cc-a911-9697d29ee6e3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0d230053-af6b-49cc-a911-9697d29ee6e3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:02 UTC], ["updated_at", 2016-06-06 15:46:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:46:22 UTC], ["updated_at", 2016-06-06 15:46:22 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fd34e65b-6383-4ede-8f83-aed61b7f0820"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8d4807b1-725b-4b22-a6e2-db3201e32b24"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "235b1d86-9212-431d-bc7c-34d6426eb837"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "235b1d86-9212-431d-bc7c-34d6426eb837"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5c2933dc-70d2-4d9d-9f23-fc35cce029fe"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5c2933dc-70d2-4d9d-9f23-fc35cce029fe"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d1fbc3ab-d5df-473f-a113-53d5d1a30c2d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "641d82d1-b6d9-4b73-8bb5-cd0e941ac3be"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "641d82d1-b6d9-4b73-8bb5-cd0e941ac3be"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18e4062a-cf14-455c-be7b-632c6d4bb894"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "18e4062a-cf14-455c-be7b-632c6d4bb894"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d6279b6a-f039-40b7-9727-f9f0a93984ea"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d6279b6a-f039-40b7-9727-f9f0a93984ea"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2cf792b-2915-4162-9a0e-7c982fa9cb12"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2cf792b-2915-4162-9a0e-7c982fa9cb12"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d46e023e-9e5b-48fa-87ef-dba56c92e1f1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d46e023e-9e5b-48fa-87ef-dba56c92e1f1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b54b9a7b-c9f1-4b9b-b257-893175ebb57a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b54b9a7b-c9f1-4b9b-b257-893175ebb57a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d11a0fe5-7692-4217-9161-786936ce687e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d11a0fe5-7692-4217-9161-786936ce687e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d91ebc47-89cb-41cf-a8a2-dea984d668f9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d91ebc47-89cb-41cf-a8a2-dea984d668f9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "525efd81-3513-4282-9a84-aa94baff9907"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "525efd81-3513-4282-9a84-aa94baff9907"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aacd7d4d-c87c-49bd-83f8-d732673ae56f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aacd7d4d-c87c-49bd-83f8-d732673ae56f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aba8e368-4247-4164-80f6-a9718197357b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aba8e368-4247-4164-80f6-a9718197357b"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c1c93e0-1311-43f0-a423-eb19b80793c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8c1c93e0-1311-43f0-a423-eb19b80793c1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d80e5031-07c5-4f0a-9cab-97e456e7462c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d80e5031-07c5-4f0a-9cab-97e456e7462c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4a9b4e23-69dc-473a-ab46-5eaa7beed5e8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4a9b4e23-69dc-473a-ab46-5eaa7beed5e8"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6eef160f-0776-4362-9bc9-f472b136a084"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6eef160f-0776-4362-9bc9-f472b136a084"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d84e7897-8816-4702-b0fd-c7cc147b6e74"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d84e7897-8816-4702-b0fd-c7cc147b6e74"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d99c4697-86c3-403e-a078-6355b4abae09"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d99c4697-86c3-403e-a078-6355b4abae09"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ffcb43c-ad79-43b2-b56d-55610865dfb6"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5ffcb43c-ad79-43b2-b56d-55610865dfb6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:46:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:46:23 UTC], ["updated_at", 2016-06-06 15:46:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:46:41 UTC], ["updated_at", 2016-06-06 15:46:41 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "601407c2-ec89-4716-be35-ff36b17c8c30"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a673726-9dc0-47d5-bc79-b6e1a9fa6df4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7abf738c-e05f-4730-a5d8-23346ce124ca"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7abf738c-e05f-4730-a5d8-23346ce124ca"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1e076476-cbf7-4b27-a512-94e5507c4a8e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1e076476-cbf7-4b27-a512-94e5507c4a8e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36508937-ccaf-4167-ad45-c5adeb4e3870"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2f8c0b9e-9dfc-4c29-b7c4-ec5518bd745e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0acdc5f2-994e-4baf-9f3e-1286cd61b1a4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "87e636dd-fc8b-4cd2-89a5-380468a2a4f2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "87e636dd-fc8b-4cd2-89a5-380468a2a4f2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85cfca7d-7308-4de0-9229-59b56a769ca0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85cfca7d-7308-4de0-9229-59b56a769ca0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "604c1771-2791-4a36-9cc8-7b33a4f048b2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ea2cced-e3fe-49a9-b0ac-20243c8ca748"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6ea2cced-e3fe-49a9-b0ac-20243c8ca748"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3606d898-1528-4397-b1b9-3e3b4b582e1e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3606d898-1528-4397-b1b9-3e3b4b582e1e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1999a64b-dd92-4b22-ab72-d5ce12c45629"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1999a64b-dd92-4b22-ab72-d5ce12c45629"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c52e24e-7364-43dc-a429-89c77da31c4d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c52e24e-7364-43dc-a429-89c77da31c4d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "480b70b7-6ce7-4ac9-9146-9847c766c739"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "480b70b7-6ce7-4ac9-9146-9847c766c739"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e08b37f7-5350-4439-9cc7-704fda49fab4"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e08b37f7-5350-4439-9cc7-704fda49fab4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "450306a4-1a93-4a69-879e-f04e90ca9606"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "450306a4-1a93-4a69-879e-f04e90ca9606"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "034320ce-7b51-46d7-88b0-fcf860e6b22d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "034320ce-7b51-46d7-88b0-fcf860e6b22d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4717f77-d88e-4cb8-9a54-88b50417811c"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4717f77-d88e-4cb8-9a54-88b50417811c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af82b2ad-a386-40b1-813f-2d7ef32cb649"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af82b2ad-a386-40b1-813f-2d7ef32cb649"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90870996-dcaf-4ffc-9daf-72401ea79b8f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "90870996-dcaf-4ffc-9daf-72401ea79b8f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1e82d856-e512-4019-8f78-317ee8cb316a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1e82d856-e512-4019-8f78-317ee8cb316a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e373d81a-1356-435d-bce3-ade27376c0d8"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e373d81a-1356-435d-bce3-ade27376c0d8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ff15880-36ee-42ce-afec-c7165d366e4c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4ff15880-36ee-42ce-afec-c7165d366e4c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68db1ad4-f5a8-41de-a2bb-6540958b62be"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "68db1ad4-f5a8-41de-a2bb-6540958b62be"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0825e6c4-cdec-4a49-aadb-d6613d7ac335"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0825e6c4-cdec-4a49-aadb-d6613d7ac335"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0ad3500-09c6-447c-9768-93327c014d13"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0ad3500-09c6-447c-9768-93327c014d13"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b32c0a0-ae31-468c-b305-f591cca47eb5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8b32c0a0-ae31-468c-b305-f591cca47eb5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:49:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:49:07 UTC], ["updated_at", 2016-06-06 15:49:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d160682-b989-4f08-b707-14ee5f02004b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2d1c9f6a-7a74-43de-b912-83e387657347"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2add5c4b-24a2-410f-acaa-e8f563543602"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2add5c4b-24a2-410f-acaa-e8f563543602"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49e5244a-0bbe-48c8-b32e-39cee9f4a404"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49e5244a-0bbe-48c8-b32e-39cee9f4a404"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f1548148-8e81-461b-9e31-c88aca062c90"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21bd15ef-abc9-47d2-92c7-44ada12655ba"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21bd15ef-abc9-47d2-92c7-44ada12655ba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "254eddcb-835c-4990-a57c-6460726c7d8a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "254eddcb-835c-4990-a57c-6460726c7d8a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e3603468-836a-4d68-b3b7-c59f67eafd3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e3603468-836a-4d68-b3b7-c59f67eafd3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46b88b5c-e579-4cbb-a87d-fb5ec060c348"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "46b88b5c-e579-4cbb-a87d-fb5ec060c348"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f87a83d6-eb0a-45c0-adb9-cc24025e7c25"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f87a83d6-eb0a-45c0-adb9-cc24025e7c25"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8e1cc32a-5001-4422-a5a3-202d4c3e4e88"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8e1cc32a-5001-4422-a5a3-202d4c3e4e88"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "239d8078-fe70-47df-b09d-5f8b4fac1dbc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "239d8078-fe70-47df-b09d-5f8b4fac1dbc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9c558a5e-963e-473f-b5d3-735c619450f3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9c558a5e-963e-473f-b5d3-735c619450f3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3c9489db-4fe6-4975-ae01-5f442111ee5b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3c9489db-4fe6-4975-ae01-5f442111ee5b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:13 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:13 UTC], ["updated_at", 2016-06-06 15:50:13 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "547aae86-11c4-4194-9af3-98a45cc1eba7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "547aae86-11c4-4194-9af3-98a45cc1eba7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cec76563-6378-42cc-af63-2b0c84f5ad6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cec76563-6378-42cc-af63-2b0c84f5ad6d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38ecf1d0-b006-4665-b35a-03494cefd205"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38ecf1d0-b006-4665-b35a-03494cefd205"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d227fa9b-45de-4526-8003-1a63d0f0fded"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d227fa9b-45de-4526-8003-1a63d0f0fded"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0ce91e1-c22f-4f2f-ab73-5400fd231f7c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b0ce91e1-c22f-4f2f-ab73-5400fd231f7c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5969ac26-ad39-4261-af6f-11b379393637"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5969ac26-ad39-4261-af6f-11b379393637"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6d011eeb-8472-4bf6-b9f6-8f6db0e38e21"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6d011eeb-8472-4bf6-b9f6-8f6db0e38e21"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15067cf0-7fa0-4844-b7d8-23ea156c40ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "15067cf0-7fa0-4844-b7d8-23ea156c40ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85d8f18b-3523-41fd-a041-941cbeb8152a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85d8f18b-3523-41fd-a041-941cbeb8152a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:50:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:50:14 UTC], ["updated_at", 2016-06-06 15:50:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:54:40 UTC], ["updated_at", 2016-06-06 15:54:40 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2408f3b-be28-4c8f-80ce-ee211d6e035a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ab300b6-bbd2-46c9-b417-a61e624f7be7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "962981e4-ca4f-4ca7-8626-725f2c6ed753"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "962981e4-ca4f-4ca7-8626-725f2c6ed753"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eb7e1132-de97-45a1-aa78-efc280666491"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eb7e1132-de97-45a1-aa78-efc280666491"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ec69bcc-6535-4214-9778-325dfc554413"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "144bb4ed-9db8-4a07-9240-5d818aa7858e"], ["LIMIT", 1]]
  [1m[35m (9.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa4bcd84-00e3-486d-a847-5d3e7e65f22f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe0fda44-a084-4e7a-b8b3-dc3bd6a22a1c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe0fda44-a084-4e7a-b8b3-dc3bd6a22a1c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c4a44fb-12c6-4bce-9252-2a5f7b5d9769"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c4a44fb-12c6-4bce-9252-2a5f7b5d9769"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed855a8c-4ad6-4349-9172-a61ee691dd86"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "363d5aba-fc53-48fa-b369-eb7e416ce5c7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "363d5aba-fc53-48fa-b369-eb7e416ce5c7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cb137782-28f9-4c59-96d8-0d1d50392671"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cb137782-28f9-4c59-96d8-0d1d50392671"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c407c2d-5e10-4dec-bcf5-90dec7805ba5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8c407c2d-5e10-4dec-bcf5-90dec7805ba5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8920cf90-0791-4db5-b9f9-c4fa0b6290ee"], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8920cf90-0791-4db5-b9f9-c4fa0b6290ee"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "607f9279-2a23-4a6d-b165-fea8dab849c7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "607f9279-2a23-4a6d-b165-fea8dab849c7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c0e8512-8d57-4c21-9d24-241787311c76"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c0e8512-8d57-4c21-9d24-241787311c76"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2e1b56b-6bc1-4883-b84f-f7f4db078fca"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2e1b56b-6bc1-4883-b84f-f7f4db078fca"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "005c5009-6909-4ed6-9d97-5e277b3dc455"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "005c5009-6909-4ed6-9d97-5e277b3dc455"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce2804fb-217a-4ce9-8dfd-1ae9bf03659c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce2804fb-217a-4ce9-8dfd-1ae9bf03659c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49f04a6a-9fc8-4298-99a1-4a5a39bbacf2"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "49f04a6a-9fc8-4298-99a1-4a5a39bbacf2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3b1c5b64-c3d4-4606-8566-83fdc523f7ac"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3b1c5b64-c3d4-4606-8566-83fdc523f7ac"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07f22321-3485-4cfe-9cd8-e013c2e3fe20"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "07f22321-3485-4cfe-9cd8-e013c2e3fe20"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5884e9c7-8d10-4d0d-8eb0-69f9829c6364"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5884e9c7-8d10-4d0d-8eb0-69f9829c6364"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f4564681-20b7-4106-869c-503ea8367adb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f4564681-20b7-4106-869c-503ea8367adb"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40626b1f-f06b-4abe-bf91-6ccec155cd88"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "40626b1f-f06b-4abe-bf91-6ccec155cd88"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a72f94ab-6cb0-4f8f-b62e-c9220602f742"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a72f94ab-6cb0-4f8f-b62e-c9220602f742"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed0c622e-d44f-4a35-9ed8-766b6a1de68e"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ed0c622e-d44f-4a35-9ed8-766b6a1de68e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bdf52e7d-04d2-4539-90b4-c1b2c058b925"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bdf52e7d-04d2-4539-90b4-c1b2c058b925"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:54:54 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:54:54 UTC], ["updated_at", 2016-06-06 15:54:54 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "095b742b-3219-4d35-9b1b-deadde4ede42"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a525bba4-f1d3-494d-a74f-1d17529ba8d6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "669e3a13-e195-45c7-8e34-d818bf4e58b3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "669e3a13-e195-45c7-8e34-d818bf4e58b3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12fae908-a8af-46d2-b486-cb657fec1b42"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12fae908-a8af-46d2-b486-cb657fec1b42"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "760db7f6-0261-4420-8bdc-c2f4adaf9408"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a66867d-722b-4d5a-8ca5-c9ba7b782d0a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7a66867d-722b-4d5a-8ca5-c9ba7b782d0a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46d64f65-a6ad-4d53-abfa-60fd961adfb2"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "46d64f65-a6ad-4d53-abfa-60fd961adfb2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b27f701-91da-4aff-a722-21f247a5bad3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4b27f701-91da-4aff-a722-21f247a5bad3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12ac87cd-3812-45a5-8afa-262a087864d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "12ac87cd-3812-45a5-8afa-262a087864d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "081fbf0f-265d-4ffc-9ff7-fdd86fcffe09"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "081fbf0f-265d-4ffc-9ff7-fdd86fcffe09"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7ea0944a-ee57-43b8-91cf-994495395189"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7ea0944a-ee57-43b8-91cf-994495395189"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f27ccac8-0a4b-4c3a-a51c-c4d76cabbdb6"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f27ccac8-0a4b-4c3a-a51c-c4d76cabbdb6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0f2df4c-6bc1-4ed9-93e8-66c957c61b76"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0f2df4c-6bc1-4ed9-93e8-66c957c61b76"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a4fcdd04-5ad6-4d73-905f-477dc3294a22"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a4fcdd04-5ad6-4d73-905f-477dc3294a22"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6140dd7c-df62-4b64-b501-28fb5d4caa1f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6140dd7c-df62-4b64-b501-28fb5d4caa1f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3a0a211-55f3-45a4-88ec-a8d7dc311381"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3a0a211-55f3-45a4-88ec-a8d7dc311381"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1256364b-c160-40c1-b55b-339ef5f22351"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1256364b-c160-40c1-b55b-339ef5f22351"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d0c838c-25c4-4923-8e96-c4b8e86a5a9f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0d0c838c-25c4-4923-8e96-c4b8e86a5a9f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01d2b88b-b360-41cd-857c-fdd3a4a504c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01d2b88b-b360-41cd-857c-fdd3a4a504c5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "97c49c48-5839-436f-bfe1-d635a140e08c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "97c49c48-5839-436f-bfe1-d635a140e08c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c63ca99e-2f63-4fa7-bd39-647be6236cef"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c63ca99e-2f63-4fa7-bd39-647be6236cef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "51adf253-9d58-40bc-bd1a-9d8a572d175a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "51adf253-9d58-40bc-bd1a-9d8a572d175a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "281d3ca1-db51-4912-9b74-0cac168eda8d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "281d3ca1-db51-4912-9b74-0cac168eda8d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 15:58:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 15:58:24 UTC], ["updated_at", 2016-06-06 15:58:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4e9c1b5c-1f14-4153-b4a7-9bc5dcc1f334"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bf7b361b-c537-47ea-a010-14228586eab5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f9273196-078e-4dcf-acc0-253234d4da63"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f9273196-078e-4dcf-acc0-253234d4da63"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d9ee348b-fadd-46ed-9745-3959b745c489"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d9ee348b-fadd-46ed-9745-3959b745c489"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c3fa974f-4c81-4dea-b013-3fb8a4441d57"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6ae9222-265e-46fb-bb26-3e9e592e8dda"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "655cf5e9-d1cb-466e-8c6a-3e3c5feee237"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2baba3e-7898-427e-82a6-cef8843552a8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ae2693c2-dc7b-4108-9a0f-3ecd67dcd1c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ae2693c2-dc7b-4108-9a0f-3ecd67dcd1c1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a7518cd-2206-4e59-9546-70595b1b14d6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6a7518cd-2206-4e59-9546-70595b1b14d6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ca8455e-61c2-4e11-b486-dcbcfca3b1cf"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4ca8455e-61c2-4e11-b486-dcbcfca3b1cf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9837bdb7-c98e-421a-9538-9082a8eb41f8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9837bdb7-c98e-421a-9538-9082a8eb41f8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "668c460f-eaae-4967-bea2-9d4bc4f01420"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "668c460f-eaae-4967-bea2-9d4bc4f01420"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "001f3545-ad2a-4659-baaf-1f1fd87d256b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "001f3545-ad2a-4659-baaf-1f1fd87d256b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d33bd9b6-4348-4f18-b332-f64eb6c8eff0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d33bd9b6-4348-4f18-b332-f64eb6c8eff0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7dee10de-f5bb-406d-b611-8b6eb9b39b0e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7dee10de-f5bb-406d-b611-8b6eb9b39b0e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0708314d-902e-4c63-9f9c-a65d95e931ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0708314d-902e-4c63-9f9c-a65d95e931ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07a4cb10-40f2-4ada-aba8-d6006bf4cb53"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "07a4cb10-40f2-4ada-aba8-d6006bf4cb53"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b424355c-c0b8-4afd-9f18-becf1053a3b9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b424355c-c0b8-4afd-9f18-becf1053a3b9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed3b8b23-07f3-439e-9796-2aabefc1556e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ed3b8b23-07f3-439e-9796-2aabefc1556e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3f479dcf-6651-4bed-80f0-324e1a9ec9d6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3f479dcf-6651-4bed-80f0-324e1a9ec9d6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eb3e2428-1cf3-478a-b70a-8e90089b1b50"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eb3e2428-1cf3-478a-b70a-8e90089b1b50"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "029f2e88-e6ad-46f4-8c25-a99680d5cb1a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "029f2e88-e6ad-46f4-8c25-a99680d5cb1a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb7add00-2da6-4b4a-871b-0518683bfe23"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb7add00-2da6-4b4a-871b-0518683bfe23"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5d224566-26a2-48ca-b544-7603bff196bd"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5d224566-26a2-48ca-b544-7603bff196bd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43342ae2-6f5b-4827-8f36-26101c71ab3e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "43342ae2-6f5b-4827-8f36-26101c71ab3e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:00 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:00 UTC], ["updated_at", 2016-06-06 16:05:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "91ff621e-dc19-418a-93fb-05a681f9eca7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f4060ea4-cc2a-4d6b-a1e0-02664bcb3d0a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2f325be-4fce-46db-9991-494d79aa9aaf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2f325be-4fce-46db-9991-494d79aa9aaf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c04ca0b7-70af-45bc-8f3b-ef15c3972359"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c04ca0b7-70af-45bc-8f3b-ef15c3972359"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a02ba1c2-a5e6-4668-a53f-6d0a7e244dd3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "007e9a68-84ea-4372-9ab0-a23221add823"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eb4ab88c-d29e-4316-b6ca-e27632847ead"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5df8aed9-2995-4cd8-89a4-174f8f95dff3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d2867be-d266-4468-97e3-52c1559de88f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9d2867be-d266-4468-97e3-52c1559de88f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d8879e5-bfcd-4dc4-990a-0fe15209c7d0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0d8879e5-bfcd-4dc4-990a-0fe15209c7d0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d44e8f12-795c-41b7-b3ca-f60fb69287e1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d44e8f12-795c-41b7-b3ca-f60fb69287e1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7586818-e51b-40a0-8949-bd4c972013e0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a7586818-e51b-40a0-8949-bd4c972013e0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "52905d5c-4ed5-4ed8-a095-b0e85523e872"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "52905d5c-4ed5-4ed8-a095-b0e85523e872"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d60d74a9-ad88-4a43-aa39-4cc970671e25"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d60d74a9-ad88-4a43-aa39-4cc970671e25"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "69496eb4-403f-49b6-94fc-16a62886aa14"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "69496eb4-403f-49b6-94fc-16a62886aa14"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "754124ea-b810-459a-a4ab-50978bfa15f8"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "754124ea-b810-459a-a4ab-50978bfa15f8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0f0e177-a0a0-4506-aec1-5b9941b58327"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0f0e177-a0a0-4506-aec1-5b9941b58327"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "860320eb-2bfb-4b70-aab5-88ac5385e629"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "860320eb-2bfb-4b70-aab5-88ac5385e629"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8e7cd0e7-e79c-4773-9a06-d732ec688c35"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8e7cd0e7-e79c-4773-9a06-d732ec688c35"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab35341a-3ac8-4455-9fec-5aa7235e34e2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ab35341a-3ac8-4455-9fec-5aa7235e34e2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01a174f0-4467-4ded-afc5-2835ccd2706b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01a174f0-4467-4ded-afc5-2835ccd2706b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "97bf41ad-7e62-44c1-923d-1199594ef8e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "97bf41ad-7e62-44c1-923d-1199594ef8e5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2db6e882-cc68-4d75-942c-619c06dff7e1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2db6e882-cc68-4d75-942c-619c06dff7e1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "575795da-1105-4222-8a1b-ce40d225b76c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "575795da-1105-4222-8a1b-ce40d225b76c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "273e1f08-d02c-4b97-bb41-8a390a77986d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "273e1f08-d02c-4b97-bb41-8a390a77986d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2bf5b77-9fbf-458d-a835-8fcd9471c570"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c2bf5b77-9fbf-458d-a835-8fcd9471c570"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:05:10 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:05:10 UTC], ["updated_at", 2016-06-06 16:05:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:06:02 UTC], ["updated_at", 2016-06-06 16:06:02 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1d488c1e-c989-4558-aaaf-f5b3b591efd9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54c15a2c-6ce4-46d2-b555-3a5e783810b2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aca98afe-90d7-4088-96dd-9dbbaf188526"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aca98afe-90d7-4088-96dd-9dbbaf188526"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "025f5d53-b636-4d7d-9684-6b23d9a26e96"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "025f5d53-b636-4d7d-9684-6b23d9a26e96"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ecfe20b-9592-4164-972c-d6a3798bf7b1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d348ad47-a61c-4ab1-8ffd-12a80da744b9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a5253449-0846-4867-8d2f-c4890b6d46b5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4738097b-7b29-4f34-b87c-89e157cb99ad"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "37b54877-9fef-4459-90b2-12a8213b41be"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "37b54877-9fef-4459-90b2-12a8213b41be"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a4e90a18-f4ca-43e1-b906-a3d5e021b2a0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a4e90a18-f4ca-43e1-b906-a3d5e021b2a0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "028e2660-d409-4e8b-a194-3693f4bf6506"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "028e2660-d409-4e8b-a194-3693f4bf6506"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8ce362f3-4329-45e0-ad51-8dd8921ca807"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8ce362f3-4329-45e0-ad51-8dd8921ca807"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dc563346-40b6-4ead-997c-1af3963c4ae8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dc563346-40b6-4ead-997c-1af3963c4ae8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "200226ac-eb25-4413-a653-09d26979f52b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "200226ac-eb25-4413-a653-09d26979f52b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ffad73e-fe37-4518-9be7-57ff0a604aae"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5ffad73e-fe37-4518-9be7-57ff0a604aae"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0b2f6f3-07ab-4ac1-b50b-fcdd4d926e93"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b0b2f6f3-07ab-4ac1-b50b-fcdd4d926e93"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "34263f17-4d0c-424d-9f15-6a47e2393429"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "34263f17-4d0c-424d-9f15-6a47e2393429"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12137f26-42a8-455b-8e24-9a78d0630f13"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "12137f26-42a8-455b-8e24-9a78d0630f13"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "00adda9b-9b6c-4fff-9f68-764c483d96fb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "00adda9b-9b6c-4fff-9f68-764c483d96fb"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01778631-6018-45a7-b929-39dec6d0dfee"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01778631-6018-45a7-b929-39dec6d0dfee"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6221f0bc-2517-45aa-a30a-fbafaee7dcb3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6221f0bc-2517-45aa-a30a-fbafaee7dcb3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cc841413-ea22-4f7f-9dbd-108543183b8b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cc841413-ea22-4f7f-9dbd-108543183b8b"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cf87f607-fa3b-41d4-9d53-b524fede3a63"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cf87f607-fa3b-41d4-9d53-b524fede3a63"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c461760b-b8c4-4213-a434-4ad1a2cb325c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c461760b-b8c4-4213-a434-4ad1a2cb325c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "387144de-3673-489e-ab35-c611bd029f4a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "387144de-3673-489e-ab35-c611bd029f4a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "181c4c53-fb63-4cd3-9731-d67ceacf7055"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "181c4c53-fb63-4cd3-9731-d67ceacf7055"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:03 UTC], ["updated_at", 2016-06-06 16:06:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8eb71dde-6109-498b-ab35-b0fe46a7953e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa59a896-4aa8-4a90-b414-ac9c6fe06f27"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a764c93b-4e87-4c9b-9967-48548165e367"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a764c93b-4e87-4c9b-9967-48548165e367"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "39d0c8cb-6372-45e2-88b8-89186dbfe59d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "39d0c8cb-6372-45e2-88b8-89186dbfe59d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0bf0f1a6-7094-484e-8907-3998e2ad63f3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5bf8027f-b43f-4d30-a05e-3a9e4294a276"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55c6aa94-f031-475e-aaa3-f2de5d5fd4fa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "39abae67-08e0-48e1-ba39-a9c0283f15a6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82c7bb7a-184a-4973-a6ab-cb99bcb7935c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e498abbd-3b56-4b8a-a9a8-815223e3137e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d55a9f64-542b-45a4-8fea-a6bc4279a72e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d55a9f64-542b-45a4-8fea-a6bc4279a72e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63c690eb-c8ca-4268-bba9-83942b6bbd57"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "63c690eb-c8ca-4268-bba9-83942b6bbd57"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f10b1326-3685-4cf3-b438-219b825abba9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f10b1326-3685-4cf3-b438-219b825abba9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6bef4ceb-155f-4c84-aa60-dac14414167d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6bef4ceb-155f-4c84-aa60-dac14414167d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c7e5b23-704f-4653-8ee4-e8c8063e4643"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2c7e5b23-704f-4653-8ee4-e8c8063e4643"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5366547b-b11d-47be-8101-30d992229aba"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5366547b-b11d-47be-8101-30d992229aba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "00f4e9bd-f7e0-4e13-8af3-a4d046583f79"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "00f4e9bd-f7e0-4e13-8af3-a4d046583f79"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a47176e8-e957-46ac-b092-ecd953f20b55"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a47176e8-e957-46ac-b092-ecd953f20b55"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ff35f15a-a9c3-41a4-84f6-153c427e09ac"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ff35f15a-a9c3-41a4-84f6-153c427e09ac"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d3cbccc-a2cf-45ea-99bb-92de206f4e7f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9d3cbccc-a2cf-45ea-99bb-92de206f4e7f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63e3bf72-7808-493b-b380-0e8ef507723e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "63e3bf72-7808-493b-b380-0e8ef507723e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cce5b0a-a85d-428b-8ac0-eb2154c98939"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8cce5b0a-a85d-428b-8ac0-eb2154c98939"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8dac63c2-5df6-423c-885a-10efd51f016f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8dac63c2-5df6-423c-885a-10efd51f016f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8d278041-3eed-4327-b8a4-29a8f73535be"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8d278041-3eed-4327-b8a4-29a8f73535be"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d490a30-bcc4-48e9-9528-34b8128e9d21"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3d490a30-bcc4-48e9-9528-34b8128e9d21"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "974283f3-87f8-45e7-85be-da6d52354f38"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "974283f3-87f8-45e7-85be-da6d52354f38"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3f59a643-9170-4cda-83a9-6fba352ca18a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3f59a643-9170-4cda-83a9-6fba352ca18a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4030ecb8-028a-43d9-80bf-4e0c60f60abe"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4030ecb8-028a-43d9-80bf-4e0c60f60abe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:06:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:06:52 UTC], ["updated_at", 2016-06-06 16:06:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:07:32 UTC], ["updated_at", 2016-06-06 16:07:32 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dcd4900e-7910-4bde-8360-1f025cec39a6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6f14105-d522-41ab-a436-167e74a3b899"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:07:48 UTC], ["updated_at", 2016-06-06 16:07:48 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8a488d93-90b4-4009-ae8d-ef372ef9ebc3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "250c06ef-b36e-46e4-9c6e-11a0e1d78f41"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:08:08 UTC], ["updated_at", 2016-06-06 16:08:08 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "80fea368-1701-4528-b5cf-2c87a29b2299"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ee635efc-9601-4617-86b9-467f163235bc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:08:27 UTC], ["updated_at", 2016-06-06 16:08:27 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df305399-a685-4420-bf97-ee397d2524fb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5788411b-ce3d-4333-a949-a0431cefddf3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:09:05 UTC], ["updated_at", 2016-06-06 16:09:05 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cd0963d7-0ac3-4492-8e5a-9d77233882b0"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c805688-30de-46a5-841d-cbad2086d35a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:09:28 UTC], ["updated_at", 2016-06-06 16:09:28 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6584982a-5d94-4921-ab73-eed5a8363c6b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e4b7dfc8-3f8b-4e22-8681-ac3bec2c6d81"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (3.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:10:06 UTC], ["updated_at", 2016-06-06 16:10:06 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a490b26d-985f-4c41-85e8-bf3a2ce6c8a2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7371b24f-148b-48b1-8239-82318f494d4a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:10:47 UTC], ["updated_at", 2016-06-06 16:10:47 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8364aa00-dcb5-4b59-9d1d-84b710413d77"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "659970c3-4fdc-4160-a033-0506a0ce7b3e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (4.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:12:06 UTC], ["updated_at", 2016-06-06 16:12:06 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46a07c3b-ab11-45fe-b768-99f1707a1a67"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85935006-dd0d-4514-83fe-86d96df5e64d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59bc9d61-819d-484b-bce9-5183d0f1b2b5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5669f43b-7c68-4bc5-ad0b-86886ca81f72"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "416fff17-1c46-4588-a088-fa99627456ae"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "416fff17-1c46-4588-a088-fa99627456ae"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd3dd2f8-227f-4fe0-baf6-92c7c7de74a2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd3dd2f8-227f-4fe0-baf6-92c7c7de74a2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d36010c-e140-4040-9320-8c0e9874d7de"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8fff9225-bb05-40d6-ab23-e0f4083661a8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cf2d686e-3f64-4b31-a25f-36e682b9985b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9afa1da-4b41-4cfe-9046-a297bf78f31d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e1cebc5b-786b-4773-b3a1-418188cb6ec0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e0f3a756-e0ac-415b-ba13-4c97f05d2602"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ee7f94f0-595b-43a1-8258-7ff33a5437f0"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ee7f94f0-595b-43a1-8258-7ff33a5437f0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3b0c3ab-f3b1-4747-8c86-f89021d055c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3b0c3ab-f3b1-4747-8c86-f89021d055c1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "75e9bfa9-0b04-465e-8bae-a7aaf036809e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "75e9bfa9-0b04-465e-8bae-a7aaf036809e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2848d7dc-0322-46b9-9cca-33872fd6b3a7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2848d7dc-0322-46b9-9cca-33872fd6b3a7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9c07bc73-1bec-4234-9368-26bac6a0d68c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9c07bc73-1bec-4234-9368-26bac6a0d68c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "569f7921-efe2-4523-889e-517512b431c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "569f7921-efe2-4523-889e-517512b431c3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fd46cf08-3329-45e4-b422-88553f1c8344"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fd46cf08-3329-45e4-b422-88553f1c8344"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6092b7b0-5d52-4bc4-a32e-ba2d64b478fd"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6092b7b0-5d52-4bc4-a32e-ba2d64b478fd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f66aaf8a-d591-4fef-a56c-8d6b0af5165e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f66aaf8a-d591-4fef-a56c-8d6b0af5165e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d42f9772-0260-4f48-9cfd-da386e1ec2c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d42f9772-0260-4f48-9cfd-da386e1ec2c1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0acaf16-8e51-4cac-b245-2ace5512f64f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b0acaf16-8e51-4cac-b245-2ace5512f64f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "56be37bc-c00e-4461-b4a2-f36c7a00048d"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "56be37bc-c00e-4461-b4a2-f36c7a00048d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d6742330-230d-45ab-95e3-e2438002b1a3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d6742330-230d-45ab-95e3-e2438002b1a3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6054c4b-860c-4d1d-ad7b-83062b58b469"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f6054c4b-860c-4d1d-ad7b-83062b58b469"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7e07a641-e7db-45e6-9832-44a3d5d53dbb"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7e07a641-e7db-45e6-9832-44a3d5d53dbb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d1970ca1-d202-4613-a87f-29084cd399e7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d1970ca1-d202-4613-a87f-29084cd399e7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38aa26e5-440d-4a51-baea-83aa61e81d00"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38aa26e5-440d-4a51-baea-83aa61e81d00"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f4306b19-9e0c-4ab3-9540-1143af764839"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f4306b19-9e0c-4ab3-9540-1143af764839"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:12:18 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:12:18 UTC], ["updated_at", 2016-06-06 16:12:18 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a02e1c0e-1eee-4e2f-8eb0-5440d6ce1da9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6a197b2-09d3-4677-826b-5b0da178b296"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03daef17-159e-4e6f-9450-6fe7d3630afc"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03daef17-159e-4e6f-9450-6fe7d3630afc"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "96f9ab41-6a37-48fa-81dd-daa8d914abb8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "96f9ab41-6a37-48fa-81dd-daa8d914abb8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b5bb60bf-070a-47fc-ab06-a1292fb79e2b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "81ecccff-893f-4931-86c8-4a04b4e851fd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8def372a-9645-4ea3-a89f-eb5c5ecd75b5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7793a171-67e0-412f-8278-413a5566e418"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b46076e9-e7af-46ef-92a4-ef1b5e0c58a6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6d66cac-9bcb-4506-b53d-0fb98255ffaa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "92ee0e4d-2c54-439e-be01-e67e16af10d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "92ee0e4d-2c54-439e-be01-e67e16af10d3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d02e7db7-2a69-4ced-b733-07bb2998bc2f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d02e7db7-2a69-4ced-b733-07bb2998bc2f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7631517-1209-424c-af7d-50f2badf9da1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e7631517-1209-424c-af7d-50f2badf9da1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d25ced17-7b6d-4262-bedf-47be4b0cb1ac"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d25ced17-7b6d-4262-bedf-47be4b0cb1ac"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e3a6e6e5-f681-43a5-b42d-d0e57e698f39"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e3a6e6e5-f681-43a5-b42d-d0e57e698f39"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "866d388d-07ba-4752-a765-16c769029900"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "866d388d-07ba-4752-a765-16c769029900"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e49f0ade-3d17-4e0e-ae74-8bcf86670e27"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e49f0ade-3d17-4e0e-ae74-8bcf86670e27"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1fc10e2b-d863-439d-8d3c-be177e2c4f93"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1fc10e2b-d863-439d-8d3c-be177e2c4f93"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2e3a042-7c15-43ee-a968-89eec02236d6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e2e3a042-7c15-43ee-a968-89eec02236d6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1ca5aa0e-4d06-44da-a4cd-2048a6f085d0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1ca5aa0e-4d06-44da-a4cd-2048a6f085d0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d7f235ba-ee3f-4dc5-a4e5-65ddf76483c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d7f235ba-ee3f-4dc5-a4e5-65ddf76483c1"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2d60c0a-f6e8-4859-8d13-1181c9b2b22b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2d60c0a-f6e8-4859-8d13-1181c9b2b22b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0caa135b-a2cb-4f8e-a6fc-03bd2e118317"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0caa135b-a2cb-4f8e-a6fc-03bd2e118317"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "769b9368-5c3c-4aa4-a86d-09056ddc0ac6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "769b9368-5c3c-4aa4-a86d-09056ddc0ac6"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "93e34634-fbdb-49f6-af44-c079084ada34"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "93e34634-fbdb-49f6-af44-c079084ada34"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55a0da1b-6540-40c8-88ad-6fff8977ffd4"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "55a0da1b-6540-40c8-88ad-6fff8977ffd4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1bdded28-4a49-4892-80a9-cfd35e617bed"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1bdded28-4a49-4892-80a9-cfd35e617bed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c6867eb9-ee68-4e01-b675-4b273ad18515"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c6867eb9-ee68-4e01-b675-4b273ad18515"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:13:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:13:19 UTC], ["updated_at", 2016-06-06 16:13:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:14:42 UTC], ["updated_at", 2016-06-06 16:14:42 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48d4a0d7-f12b-41c7-8f72-c720925b7d15"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6afc0c91-c7c6-4feb-a03d-d13a642168e7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "293e5ea4-0e0a-472c-b749-548096149f28"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "293e5ea4-0e0a-472c-b749-548096149f28"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d4a968a8-d59e-4baf-91ac-330b36596091"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d4a968a8-d59e-4baf-91ac-330b36596091"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3dfe5fc8-0c2c-4b7f-aa1a-6b2a4b5b530b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b80f1bb1-e24e-4b09-a00f-0a9896c97c3a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f696f88b-b3c8-4f67-a2ce-23e93164bf1e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dbcbfc80-0446-4111-9216-e5b66bbcbc4d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "190ba7de-320e-4eb7-a71d-dc6f577017bb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd101932-d592-4f6b-a814-e6e2f0fd0304"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce149994-b019-4db1-acbe-608847b0ee61"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce149994-b019-4db1-acbe-608847b0ee61"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4772ca0f-d60d-47ad-bae0-f1a3aafa60a4"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4772ca0f-d60d-47ad-bae0-f1a3aafa60a4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d7f8f2d6-0d85-4bab-a2c1-79529b108659"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d7f8f2d6-0d85-4bab-a2c1-79529b108659"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8aa4a528-de14-4a10-a987-de62e5db298d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8aa4a528-de14-4a10-a987-de62e5db298d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3d754a2-d83f-4db9-8b74-fdf2f1e650c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3d754a2-d83f-4db9-8b74-fdf2f1e650c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cacd1511-7b49-460d-941b-63c94adb5c48"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cacd1511-7b49-460d-941b-63c94adb5c48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9aaa839e-db84-48ba-a9bc-501b27ec03c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9aaa839e-db84-48ba-a9bc-501b27ec03c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9f2330d6-3269-4b81-bd61-21c7967e6098"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9f2330d6-3269-4b81-bd61-21c7967e6098"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9cfaee7-c254-43d0-b33e-a5943dcf08f3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b9cfaee7-c254-43d0-b33e-a5943dcf08f3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "99769f0e-c2e9-4447-a637-a6f2dcde2052"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "99769f0e-c2e9-4447-a637-a6f2dcde2052"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a47f9210-1ef7-4a32-a792-e81979de5905"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a47f9210-1ef7-4a32-a792-e81979de5905"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bf75bf76-7afb-433a-a24b-6eb11f259701"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bf75bf76-7afb-433a-a24b-6eb11f259701"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53a4fc9d-707f-45f3-b9b4-4562b656b948"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "53a4fc9d-707f-45f3-b9b4-4562b656b948"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36cc93df-f7b7-4a74-aa17-47530fc175da"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "36cc93df-f7b7-4a74-aa17-47530fc175da"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3c18b2c-1721-4796-8e4f-11ee43aec830"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3c18b2c-1721-4796-8e4f-11ee43aec830"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "570bd8e5-6d09-40a4-b054-276d179f7296"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "570bd8e5-6d09-40a4-b054-276d179f7296"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "536f00b1-6256-4d48-8bc3-a136e9e6a86a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "536f00b1-6256-4d48-8bc3-a136e9e6a86a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f889099-acc2-4009-af2d-eca168b5497a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f889099-acc2-4009-af2d-eca168b5497a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:14:43 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:14:43 UTC], ["updated_at", 2016-06-06 16:14:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4fb9610a-d63c-470c-bca4-ec7f50d2c631"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "76c5a806-b646-433c-b928-1336570bc180"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e43a8f43-b3c4-42e7-a36e-8e703ca8df6b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e43a8f43-b3c4-42e7-a36e-8e703ca8df6b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f09fa78e-a730-4de8-9826-9cf84fb96558"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f09fa78e-a730-4de8-9826-9cf84fb96558"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bfe23a9e-01ec-46f7-b5c7-0c268a16b404"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0d65f874-855f-4182-9cb3-d897999cb04a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "33b021f0-26a7-419d-b1da-99ebbec89779"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7309139a-38dd-4378-9660-9b155f0fe92f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0dacfaa0-0121-4012-9d89-b5357c9846bc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ba0cb0c-97f7-4169-8168-f5ddc26c4505"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9cf99583-9e67-47c8-b360-514275b9722e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9cf99583-9e67-47c8-b360-514275b9722e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "135c9502-5c4a-420f-b610-fa1090602d71"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "135c9502-5c4a-420f-b610-fa1090602d71"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "92f0f971-8bd8-4b50-bed4-8093ce533401"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "92f0f971-8bd8-4b50-bed4-8093ce533401"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "22a91a6e-0b1e-4d83-a756-6089c74013a3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "22a91a6e-0b1e-4d83-a756-6089c74013a3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38f1de03-aef5-4cea-aebe-2559ef1db999"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38f1de03-aef5-4cea-aebe-2559ef1db999"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0bb88abb-c69d-4c08-8092-18a0f4149f36"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0bb88abb-c69d-4c08-8092-18a0f4149f36"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "09beb65e-540b-41ea-a7d8-3a88a4b978d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "09beb65e-540b-41ea-a7d8-3a88a4b978d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "39fa93d2-4f38-4dfd-b1ab-c1833d5b4731"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "39fa93d2-4f38-4dfd-b1ab-c1833d5b4731"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ef51126-6161-4463-a9ea-6a5e5d999659"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4ef51126-6161-4463-a9ea-6a5e5d999659"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "563b4f2a-a7b9-473c-9b28-2d6f7ca5d837"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "563b4f2a-a7b9-473c-9b28-2d6f7ca5d837"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1d69600f-6cc4-4473-ba9b-06e0692007a6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1d69600f-6cc4-4473-ba9b-06e0692007a6"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b345cb5e-8c8a-4040-afa2-ab433fe7c06f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b345cb5e-8c8a-4040-afa2-ab433fe7c06f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "25ad23d9-6a75-4951-864c-2c172eb3b420"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "25ad23d9-6a75-4951-864c-2c172eb3b420"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d574e179-ec3e-4d39-9ac2-0165c22dae94"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d574e179-ec3e-4d39-9ac2-0165c22dae94"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38042d50-0d91-477c-8cac-be05264c744f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38042d50-0d91-477c-8cac-be05264c744f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c0ae216-0b48-4b73-83b9-ad2935fdf830"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c0ae216-0b48-4b73-83b9-ad2935fdf830"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82b95313-2e37-4ab2-935e-025c482f5e33"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82b95313-2e37-4ab2-935e-025c482f5e33"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2ad916a-81b2-4c8e-a020-ebd4d9935618"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d2ad916a-81b2-4c8e-a020-ebd4d9935618"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:01 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:01 UTC], ["updated_at", 2016-06-06 16:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "435ae96f-bcc1-4b05-8f66-72a9d6ea4c27"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fdfe1af4-e119-4d0d-bc75-e2271cddf359"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba34b197-4ed5-4eca-99d2-007033041c2a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba34b197-4ed5-4eca-99d2-007033041c2a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d25efc5-0a5c-4e95-9941-82b139aeeb78"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d25efc5-0a5c-4e95-9941-82b139aeeb78"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4e56afb-eacf-4039-aa83-1fa1a664785f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "84a6a163-835b-4987-b804-1b95794abeb1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b5e7232-f48d-4e10-9cde-3bbb3b9d54e4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b9d119c-3d5b-44c9-bc59-040faa3ebc24"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53073c35-b62d-4fa0-9165-dd59554c99c5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d65d5214-68fa-42e6-b5b4-08f061f5aefe"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d803e287-5d7b-41b3-8ebd-99f2c82c0eb7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d803e287-5d7b-41b3-8ebd-99f2c82c0eb7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2b866a8-f096-4aba-90ef-eae2f1db75bf"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c2b866a8-f096-4aba-90ef-eae2f1db75bf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "97be71b1-5d43-4323-9c77-1ded557e4043"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "97be71b1-5d43-4323-9c77-1ded557e4043"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14b741f6-bbfe-4a22-a438-f74cd9569d3d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "14b741f6-bbfe-4a22-a438-f74cd9569d3d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b87a8bf-3456-4601-9050-9ef1b189cc77"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b87a8bf-3456-4601-9050-9ef1b189cc77"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3ffd8677-d3ac-4c2b-b858-d5287a7c5baa"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3ffd8677-d3ac-4c2b-b858-d5287a7c5baa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c43398e5-76ff-4903-a9db-78273795b967"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c43398e5-76ff-4903-a9db-78273795b967"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fecaebaa-7b8c-460b-af28-c491b962a528"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fecaebaa-7b8c-460b-af28-c491b962a528"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b79f1c3c-e128-4bf5-a3eb-3a1678937eef"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b79f1c3c-e128-4bf5-a3eb-3a1678937eef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e6887b86-b65c-4b99-8737-6fa7ecd5c798"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e6887b86-b65c-4b99-8737-6fa7ecd5c798"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a4836302-2a35-419b-a7a3-37a16c1292b0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a4836302-2a35-419b-a7a3-37a16c1292b0"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bc29ea52-4eec-466f-ab47-96821687fe39"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bc29ea52-4eec-466f-ab47-96821687fe39"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1d25034a-4965-427e-a8a0-d1c476724315"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1d25034a-4965-427e-a8a0-d1c476724315"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e8bab6b6-a363-4028-a743-355887f26e33"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e8bab6b6-a363-4028-a743-355887f26e33"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ce94134-4441-4559-be68-5c35628a5bf3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0ce94134-4441-4559-be68-5c35628a5bf3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c48b837-d7ef-4bf6-ba7f-2026e4012878"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c48b837-d7ef-4bf6-ba7f-2026e4012878"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15e3701d-3f9a-412e-a99e-a4667d77156f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "15e3701d-3f9a-412e-a99e-a4667d77156f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7635d051-26d9-4009-8de9-940f73e3a82b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7635d051-26d9-4009-8de9-940f73e3a82b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:29 UTC], ["updated_at", 2016-06-06 16:15:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.6ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:15:36 UTC], ["updated_at", 2016-06-06 16:15:36 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fbff436d-821e-40a9-9e55-31dda6d3d005"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1f2933a9-3e98-48aa-a2ea-17578123bbda"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "17d37575-50ad-4fae-abd0-ca6a348e791f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "17d37575-50ad-4fae-abd0-ca6a348e791f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "84335613-fe9a-42fe-ada2-d692588cdcb0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "84335613-fe9a-42fe-ada2-d692588cdcb0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59fee6b7-13c3-46c2-97ff-aa01055da158"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c07bacb3-9a13-4d44-bc18-4e674e00b54d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5fe48de3-341c-4b53-846e-9685b18b59e3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9b01ecf4-7e9e-40d9-9188-d5a32db39747"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "083733cf-2785-4eba-864c-0c70588e1df3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "216a7d61-cf9e-4c59-aef6-7a71576c7a95"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "958365bc-dc12-46e6-8809-4fbe93a2793b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "958365bc-dc12-46e6-8809-4fbe93a2793b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "be114e8f-e303-4145-91d6-09ce2ca03248"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "be114e8f-e303-4145-91d6-09ce2ca03248"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bc03ae61-3e3a-4a31-a373-d6e3c77ae581"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bc03ae61-3e3a-4a31-a373-d6e3c77ae581"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68ae7cde-6dfc-4c9f-a3b5-7217af1fb0cc"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "68ae7cde-6dfc-4c9f-a3b5-7217af1fb0cc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba7aa4fe-5121-4a2f-8dce-faa436ca4014"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ba7aa4fe-5121-4a2f-8dce-faa436ca4014"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a897eb2-20c2-46cf-a23e-d410ca0e4eb0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0a897eb2-20c2-46cf-a23e-d410ca0e4eb0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b7e09a12-28ee-4b48-ab9d-4d8d38d9837a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b7e09a12-28ee-4b48-ab9d-4d8d38d9837a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59086f8f-601a-46e0-8bc7-be7055607c64"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "59086f8f-601a-46e0-8bc7-be7055607c64"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "924fab9f-bcf7-4210-afc7-317cd769ada4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "924fab9f-bcf7-4210-afc7-317cd769ada4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1620a4c5-5550-4da0-b1cc-dc102eae2bf6"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1620a4c5-5550-4da0-b1cc-dc102eae2bf6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "801f993a-8ac4-49ef-9a76-2e49555980d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "801f993a-8ac4-49ef-9a76-2e49555980d3"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b7ce1055-7ec9-4a61-943a-fc29f8cf8a76"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b7ce1055-7ec9-4a61-943a-fc29f8cf8a76"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ebf45dd0-9eb4-419f-baca-16a349c9055d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ebf45dd0-9eb4-419f-baca-16a349c9055d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d100c3b1-b814-400e-8d1a-52f717c85558"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d100c3b1-b814-400e-8d1a-52f717c85558"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2ba79fb-fd86-4126-bd48-9939aeaeb750"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c2ba79fb-fd86-4126-bd48-9939aeaeb750"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e79f68fd-8ea0-4aed-9e39-60b60eb010cd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e79f68fd-8ea0-4aed-9e39-60b60eb010cd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "61b736b4-d8e9-48aa-b34b-86273aee8670"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "61b736b4-d8e9-48aa-b34b-86273aee8670"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c6098595-944f-4da6-b67a-db22310e8e82"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c6098595-944f-4da6-b67a-db22310e8e82"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:15:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:15:37 UTC], ["updated_at", 2016-06-06 16:15:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:17:28 UTC], ["updated_at", 2016-06-06 16:17:28 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "685ad29e-f538-4006-9a99-f2b373f589b4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43d6c58c-1155-4111-b2f4-8eef69164f6d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2476026c-ed1a-4767-ac2a-c57411378c1c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2476026c-ed1a-4767-ac2a-c57411378c1c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6298c04-c0cf-4241-af01-4441c7defad0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6298c04-c0cf-4241-af01-4441c7defad0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "339d4c3f-ac27-44ce-afca-c6d197db2dbd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2060fceb-8f19-43dd-9a9e-f534ec290bb2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "db45e7b2-b891-45b1-80d3-83b33af2e804"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a83d3cc6-b7f2-421f-bbf3-e6d6314d2090"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c0e1aa4-55ce-46b1-b961-9fcf6696e633"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73e1521e-b2ae-402d-904a-f63edd225940"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "98bf0537-8391-4da9-8cc0-c7e4f276be5a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "98bf0537-8391-4da9-8cc0-c7e4f276be5a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2dc74487-53dd-40e2-a336-d29db95e37f1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2dc74487-53dd-40e2-a336-d29db95e37f1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a763dc37-875b-4131-8d48-4e5ec859649c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a763dc37-875b-4131-8d48-4e5ec859649c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a02638f9-490d-4ba6-8c48-abddb735a5fd"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a02638f9-490d-4ba6-8c48-abddb735a5fd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fedd07f2-ee18-41ba-b469-0cd59c3fdf07"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fedd07f2-ee18-41ba-b469-0cd59c3fdf07"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce2aec4b-931c-4831-8fdb-f000a12f763f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce2aec4b-931c-4831-8fdb-f000a12f763f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5d95fce5-5548-4372-a3d4-b5e8b9b0b1af"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5d95fce5-5548-4372-a3d4-b5e8b9b0b1af"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a03a514-84c5-4dae-b32d-f1627b8a0495"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0a03a514-84c5-4dae-b32d-f1627b8a0495"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0be15968-64e8-4838-b0b2-24eae77db1ef"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0be15968-64e8-4838-b0b2-24eae77db1ef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8a0c334c-6bc3-407a-8e86-0d21f858138c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8a0c334c-6bc3-407a-8e86-0d21f858138c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0db7a948-6358-4e88-aeb1-cd98e346e48e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0db7a948-6358-4e88-aeb1-cd98e346e48e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ebd16f17-93ee-40c0-86ba-aceb43383609"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ebd16f17-93ee-40c0-86ba-aceb43383609"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82adb4ab-2c34-4767-aa27-cf04dab4e54b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82adb4ab-2c34-4767-aa27-cf04dab4e54b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7e15e503-7d65-4a39-9eb8-642c00cbba63"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7e15e503-7d65-4a39-9eb8-642c00cbba63"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "80f91496-e427-4d3c-9eeb-bb33de8303e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "80f91496-e427-4d3c-9eeb-bb33de8303e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb4c0c69-f11e-4e5a-bb60-f503eb04bee6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb4c0c69-f11e-4e5a-bb60-f503eb04bee6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38056363-826b-49e2-aaff-c2630e608cb5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38056363-826b-49e2-aaff-c2630e608cb5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42c56884-ddd1-41ed-b4bb-c10e31e94f48"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "42c56884-ddd1-41ed-b4bb-c10e31e94f48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:17:29 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:17:29 UTC], ["updated_at", 2016-06-06 16:17:29 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "91547b3e-dfb0-4e6b-949d-1b470f1080a8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d063e08b-66e7-4a94-a57a-de4a968a318c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3bb9559d-510f-4607-8e57-b732e40c9bea"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3bb9559d-510f-4607-8e57-b732e40c9bea"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f89da524-a1f2-492e-983b-f09127c5e92c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f89da524-a1f2-492e-983b-f09127c5e92c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ef4c7ee-d5a5-405c-8c58-c76a2e864406"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a68c15f5-9114-4e23-8134-27d7d596af2e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "548cff71-4fdc-4012-b312-6fff4737f7bc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "615b9869-caf2-4477-bd46-ab5d79f23190"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e418089-fd74-4880-a87e-71d4327b4497"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a6f426e-aeda-40fa-ba8a-8fd073c6c146"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9c4d64e-ed5b-4919-8633-7a43fbf7e730"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a9c4d64e-ed5b-4919-8633-7a43fbf7e730"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9f9e5c35-5d75-4928-86d0-413abee0d73f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9f9e5c35-5d75-4928-86d0-413abee0d73f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68d0a332-f641-4b55-b371-7863cdb23f92"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "68d0a332-f641-4b55-b371-7863cdb23f92"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c85c583f-df56-4213-86a3-6429699f2310"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c85c583f-df56-4213-86a3-6429699f2310"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "32e37e3c-a9ed-498c-9ff7-28aabb58907a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "32e37e3c-a9ed-498c-9ff7-28aabb58907a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab47bae0-30ef-4934-ba11-a30752586382"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ab47bae0-30ef-4934-ba11-a30752586382"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "02561069-cf10-4af3-9422-bd24310703eb"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "02561069-cf10-4af3-9422-bd24310703eb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b89c608d-7a84-4761-9db7-d9316cdbd5c8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b89c608d-7a84-4761-9db7-d9316cdbd5c8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82c08e35-3028-4253-91b4-c53821fcf6a6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82c08e35-3028-4253-91b4-c53821fcf6a6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7272e842-a9ae-4320-94ed-9b3d1c12dadd"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7272e842-a9ae-4320-94ed-9b3d1c12dadd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:22 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:22 UTC], ["updated_at", 2016-06-06 16:24:22 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9a981ad2-f867-4d19-86fc-a317c1713c23"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9a981ad2-f867-4d19-86fc-a317c1713c23"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "589af275-d244-4d08-8081-e225fe5b3842"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "589af275-d244-4d08-8081-e225fe5b3842"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4623ff35-1f2d-4908-8769-ea5f115a066e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4623ff35-1f2d-4908-8769-ea5f115a066e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "245ae79f-ec5c-40ef-9108-3f842a8a1671"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "245ae79f-ec5c-40ef-9108-3f842a8a1671"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0136760-e710-4b9f-92e2-bcd72e3efaf2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0136760-e710-4b9f-92e2-bcd72e3efaf2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba59dd3b-e4d7-4497-a21f-13c4d6d30dd7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ba59dd3b-e4d7-4497-a21f-13c4d6d30dd7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "37fc0981-261d-44fd-bbac-4fdd0aa4a061"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "37fc0981-261d-44fd-bbac-4fdd0aa4a061"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8708831f-2d88-4080-ad9b-033d4a6c36ae"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8708831f-2d88-4080-ad9b-033d4a6c36ae"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:23 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:23 UTC], ["updated_at", 2016-06-06 16:24:23 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "46c29652-f2f6-4a3e-8737-6b1818fbcfaf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9b87dc58-c169-48ba-8da1-36766b450d4e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83f87417-dc15-4092-a415-9087b9dd0fb2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83f87417-dc15-4092-a415-9087b9dd0fb2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58d74ae0-c0cd-4c74-84e3-c2ae712756d6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58d74ae0-c0cd-4c74-84e3-c2ae712756d6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "476e34cc-95c9-44d0-b865-a19599cad101"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7adb62c-104d-4b72-a599-d49612775ce8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "71659986-a878-4868-a5f9-ea86d40fd2ce"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "deab1a0a-fb2e-4e44-8079-7dc30d26326c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4795d4df-d909-49a6-9f04-74ce49663dcd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a379343-dcc1-488d-8e08-127d8e146636"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "60a1e6c5-63f1-4800-af10-6d7ed174698d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "60a1e6c5-63f1-4800-af10-6d7ed174698d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f3d0b936-6690-49c9-9d54-5839de550958"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f3d0b936-6690-49c9-9d54-5839de550958"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8109339-426d-454c-abeb-cbc55006e465"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f8109339-426d-454c-abeb-cbc55006e465"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82743598-7bf9-495b-9e12-74cdc24f2ffa"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82743598-7bf9-495b-9e12-74cdc24f2ffa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9c15ad35-9e95-4cd5-8528-cf10c575815a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9c15ad35-9e95-4cd5-8528-cf10c575815a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "74a6b7df-277d-4890-8469-3c73e8346a39"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "74a6b7df-277d-4890-8469-3c73e8346a39"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec28cdbf-3e46-4e69-9590-24bba40b55c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ec28cdbf-3e46-4e69-9590-24bba40b55c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cb274535-3b78-4eca-a869-7ae1f0e5a214"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cb274535-3b78-4eca-a869-7ae1f0e5a214"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fad4544b-aa75-4a6f-9f24-b667a6296cb9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fad4544b-aa75-4a6f-9f24-b667a6296cb9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48264b48-2bd6-4bd2-9fd4-7c21423671ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "48264b48-2bd6-4bd2-9fd4-7c21423671ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36b5dc16-df48-4221-b971-1c0bbe389816"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "36b5dc16-df48-4221-b971-1c0bbe389816"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6b082d3a-757c-4020-a4a3-d8b100134830"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6b082d3a-757c-4020-a4a3-d8b100134830"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c862cdb4-98b0-49b5-9501-012621770a7f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c862cdb4-98b0-49b5-9501-012621770a7f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:44 UTC], ["updated_at", 2016-06-06 16:24:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9f81cdec-ccb6-4c56-964e-ade54476454c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9f81cdec-ccb6-4c56-964e-ade54476454c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec88bbc6-6b17-4072-a98a-9fa8d4f463ce"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ec88bbc6-6b17-4072-a98a-9fa8d4f463ce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dfca60ba-edbf-41dd-b8d6-535c90621b76"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dfca60ba-edbf-41dd-b8d6-535c90621b76"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e19060ec-047f-4c7c-83a4-6d420e0df024"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e19060ec-047f-4c7c-83a4-6d420e0df024"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:24:45 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a190dfce-f01d-40e3-847d-1fe11fda5d0a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a190dfce-f01d-40e3-847d-1fe11fda5d0a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:24:45 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:24:45 UTC], ["updated_at", 2016-06-06 16:24:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:26:58 UTC], ["updated_at", 2016-06-06 16:26:58 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "516cbba6-bc21-48a9-bfdd-510ce8492512"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "98ef90bf-d9ed-4c12-a9ad-e94286e0478c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8443221-1fab-4a49-828d-3783b0d1a082"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8443221-1fab-4a49-828d-3783b0d1a082"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a6a278d-3449-42c7-82bb-cb9e169b5305"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a6a278d-3449-42c7-82bb-cb9e169b5305"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "966169bd-2a78-43cb-8b4f-373d97ce0a6b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "327004c5-549e-49c5-be3a-dcdfdab1b6d7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9cbd45f-4832-4e0a-8ffc-fd307242b5b4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63c0bb4a-13b5-4500-95cc-7cbaaab93114"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ebb24bb2-2405-43c1-98f0-e986c0d3bb05"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1dce0d41-b4e0-4136-bac6-69b375b95fa8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "88cbd672-67c1-404d-9fb5-ab1fc480f624"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "88cbd672-67c1-404d-9fb5-ab1fc480f624"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f94e354d-25da-42e8-a631-b1268e6627ef"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f94e354d-25da-42e8-a631-b1268e6627ef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "106b49e6-e3c6-402f-abcc-e8aa31d307d9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "106b49e6-e3c6-402f-abcc-e8aa31d307d9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3aa7869-1ff0-4edf-8e38-2742708579e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3aa7869-1ff0-4edf-8e38-2742708579e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79c132e1-3676-4f68-87ea-555cfd5c7e5b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79c132e1-3676-4f68-87ea-555cfd5c7e5b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed440c86-f0a7-4e97-a0f8-e42f95988e25"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ed440c86-f0a7-4e97-a0f8-e42f95988e25"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f250bff2-da6f-4429-98fe-19426d4df505"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f250bff2-da6f-4429-98fe-19426d4df505"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "77950c89-9b77-419b-8e19-e60fca1f4728"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "77950c89-9b77-419b-8e19-e60fca1f4728"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68cf6e9d-6d50-4d0c-bfe6-e147b2280310"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "68cf6e9d-6d50-4d0c-bfe6-e147b2280310"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2af20b04-88af-4683-a52d-ea9787275914"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2af20b04-88af-4683-a52d-ea9787275914"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9b9a7c4d-9a2d-49a8-b50a-9cd627ca325e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9b9a7c4d-9a2d-49a8-b50a-9cd627ca325e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "23d867bb-5940-4d10-b6cd-3d484fc8f8c9"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "23d867bb-5940-4d10-b6cd-3d484fc8f8c9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a174560-598f-40d8-8007-00a4cf45e039"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2a174560-598f-40d8-8007-00a4cf45e039"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "befd8f35-1ee8-4d1e-8d72-e5e5d57ac642"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "befd8f35-1ee8-4d1e-8d72-e5e5d57ac642"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b4f94e9f-39a0-4634-8eef-8f48a6147718"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b4f94e9f-39a0-4634-8eef-8f48a6147718"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "979f2dc1-de94-443f-8ded-3635cf976750"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "979f2dc1-de94-443f-8ded-3635cf976750"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dc871f08-9a09-4b92-a110-488a0e7e564c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dc871f08-9a09-4b92-a110-488a0e7e564c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9ec0bc9-a807-49fa-8a3d-d1a284ec705d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b9ec0bc9-a807-49fa-8a3d-d1a284ec705d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:26:59 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:26:59 UTC], ["updated_at", 2016-06-06 16:26:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:36:09 UTC], ["updated_at", 2016-06-06 16:36:09 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:36:46 UTC], ["updated_at", 2016-06-06 16:36:46 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:37:52 UTC], ["updated_at", 2016-06-06 16:37:52 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:38:38 UTC], ["updated_at", 2016-06-06 16:38:38 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:39:48 UTC], ["updated_at", 2016-06-06 16:39:48 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d6694173-ce42-471d-9d0c-dda076df2dc7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "72a2681e-9ae7-4792-9762-5ace03bcb1df"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "88fad0e4-db1f-4204-b0e4-ee134145d743"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "88fad0e4-db1f-4204-b0e4-ee134145d743"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "abcb3321-defa-489a-ac10-11f1514a92d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "abcb3321-defa-489a-ac10-11f1514a92d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47354f52-2767-4237-9be0-891822e05ca3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cf6f5049-b53e-4e75-bba7-6dec819a8651"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47d7552d-25fc-4071-827c-d9b61bc01ef2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "04571a37-53ee-44d2-8557-e76516d8b3ac"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ae2feb75-29ca-4741-b461-511e00196f8b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03314458-2eb4-4504-a23b-695a9f3792f7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "481bb95b-1af1-4a24-ae4a-156887de2b53"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ad28c0d-af80-430c-8e36-f31939a998e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6ad28c0d-af80-430c-8e36-f31939a998e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6e1bc1a8-c2c6-4d69-9844-8268e5df35f4"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6e1bc1a8-c2c6-4d69-9844-8268e5df35f4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "386655bc-4ac6-423f-93b5-1308d0fdd9b8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "386655bc-4ac6-423f-93b5-1308d0fdd9b8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b40919d-4e2c-48f8-bc5c-b42f818a42c2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2b40919d-4e2c-48f8-bc5c-b42f818a42c2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c010f8f-233e-4e59-ada9-b5a07318f987"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c010f8f-233e-4e59-ada9-b5a07318f987"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "20d27bb7-f68b-410c-be90-c7306df7964a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "20d27bb7-f68b-410c-be90-c7306df7964a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb6175c8-1bd5-484f-8d16-943b7495b1d7"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bb6175c8-1bd5-484f-8d16-943b7495b1d7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "566ce745-d9b5-408b-9f07-4b6614e46170"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "566ce745-d9b5-408b-9f07-4b6614e46170"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0fe6792f-7e53-4d05-ad04-ef681158f387"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0fe6792f-7e53-4d05-ad04-ef681158f387"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f52d8439-4a39-4e58-8acc-d81934e75972"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f52d8439-4a39-4e58-8acc-d81934e75972"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "064d9085-7c4a-4690-ba5f-add743eb29f5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "064d9085-7c4a-4690-ba5f-add743eb29f5"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "89bedaf9-a910-4062-a0e2-0a1c9654d2ab"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "89bedaf9-a910-4062-a0e2-0a1c9654d2ab"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bbb71882-afd5-4a37-aac9-03b9521e0074"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bbb71882-afd5-4a37-aac9-03b9521e0074"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "695ce451-f416-4f34-ac4d-8e6519f50809"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "695ce451-f416-4f34-ac4d-8e6519f50809"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e64b98fc-56b0-4be9-b06d-aa77e8d20bdb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e64b98fc-56b0-4be9-b06d-aa77e8d20bdb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9240e1a2-4019-4955-8b6b-d8d7fc543aa9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9240e1a2-4019-4955-8b6b-d8d7fc543aa9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55735e13-4d7d-4eed-953f-3319e104287f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "55735e13-4d7d-4eed-953f-3319e104287f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef183831-34e8-4045-b5dc-786dd62280d9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ef183831-34e8-4045-b5dc-786dd62280d9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:39:49 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:39:49 UTC], ["updated_at", 2016-06-06 16:39:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:41:57 UTC], ["updated_at", 2016-06-06 16:41:57 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c023d149-13d0-420a-a9ea-eac5f8dc5937"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7d25c24d-9557-4838-b724-831e4751e490"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3176d5ba-a264-473d-9107-8fcd1afe4dc6"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3176d5ba-a264-473d-9107-8fcd1afe4dc6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "185d5d48-ce7d-48e1-9941-727ec4396934"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "185d5d48-ce7d-48e1-9941-727ec4396934"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c818d456-4a9e-454c-9452-57286d300efd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "836e0910-86f1-47e4-977e-f9bb3d658213"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b59a375b-c476-4516-9127-f3fb6b6cdc61"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "62217d18-4aa5-4400-aeb4-43974b716f12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b1cd39ee-54af-4015-be40-5cba2133d391"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b6a22a2-aa0e-448a-9068-1584984a94b0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "accc2a6d-adce-453f-adf8-b0ef5992d8fa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af2f449c-19af-4c28-8c66-8d829c5366b0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af2f449c-19af-4c28-8c66-8d829c5366b0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e204e1df-91d8-48d5-b93c-399b458de0b8"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e204e1df-91d8-48d5-b93c-399b458de0b8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d47e32da-2a26-42f8-82c0-ddbf46e161cc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d47e32da-2a26-42f8-82c0-ddbf46e161cc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9433fe53-be40-443f-b361-f05230abd172"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9433fe53-be40-443f-b361-f05230abd172"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "45261764-f729-4b0f-b21f-a8b0c4df4088"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "45261764-f729-4b0f-b21f-a8b0c4df4088"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eccd4984-c69c-477b-8992-e516467ef69d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eccd4984-c69c-477b-8992-e516467ef69d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01c1085a-c5fc-4100-b824-c40ff79015dc"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01c1085a-c5fc-4100-b824-c40ff79015dc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "84c24247-e9ae-4408-b0fe-1ca71a877531"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "84c24247-e9ae-4408-b0fe-1ca71a877531"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "751198ad-0311-43e8-a0e4-f6cdeb5edbbc"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "751198ad-0311-43e8-a0e4-f6cdeb5edbbc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b526681e-cc41-41fb-8804-6c47ce851385"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b526681e-cc41-41fb-8804-6c47ce851385"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b9972f46-41da-4e87-89b2-1dcad26e2024"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b9972f46-41da-4e87-89b2-1dcad26e2024"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "31918cfb-b63d-45d5-a237-d8176a534279"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "31918cfb-b63d-45d5-a237-d8176a534279"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "84b7cdd2-d033-42a8-9234-e10fdb51413f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "84b7cdd2-d033-42a8-9234-e10fdb51413f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d5479a58-d4d8-468d-a240-a2581694d4e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d5479a58-d4d8-468d-a240-a2581694d4e9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8847b9da-f2b5-4e47-a8c9-dafee87c7ddd"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8847b9da-f2b5-4e47-a8c9-dafee87c7ddd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4f96accd-db3a-4ee8-97a8-72fadb656743"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4f96accd-db3a-4ee8-97a8-72fadb656743"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8ca73fca-0ba4-4c83-bfc0-7f59b9c08986"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8ca73fca-0ba4-4c83-bfc0-7f59b9c08986"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "23874cbc-f73c-4f75-8d17-6d6be1fb2bf5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "23874cbc-f73c-4f75-8d17-6d6be1fb2bf5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:41:58 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:41:58 UTC], ["updated_at", 2016-06-06 16:41:58 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:42:58 UTC], ["updated_at", 2016-06-06 16:42:58 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "00f32cfd-e914-42d7-8a4d-6dd0ae47eaca"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ead12bf4-142e-4f1d-a2aa-e3c89d783919"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:44:02 UTC], ["updated_at", 2016-06-06 16:44:02 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1e192971-1d00-4bb9-98e7-8cb3ba42ad45"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82685709-0786-414c-a0e8-cdb2eba29523"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:44:16 UTC], ["updated_at", 2016-06-06 16:44:16 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "583b86a3-014b-42ac-9d0a-267b89e498b3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40dd1c4f-def4-4d2d-bbe6-263a2f029b4f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:44:27 UTC], ["updated_at", 2016-06-06 16:44:27 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e01616e-41a1-4790-a7bc-d40b538b7c18"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2329f66a-d75b-412c-bbdb-53ee7b8cceda"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:44:44 UTC], ["updated_at", 2016-06-06 16:44:44 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "206c19de-6c2a-450a-82e1-007476f3e1f2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "199b24db-ae33-4f6c-94ba-b965bef8749c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:45:16 UTC], ["updated_at", 2016-06-06 16:45:16 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0db3afa2-a0ed-40d7-b410-a60439d1f9eb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6edde163-0577-4278-8ac6-0251b270a50d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1d385d88-a6c1-40d3-bceb-3ff01b596003"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "294155d0-fb9b-4f89-aff3-96189b4ae3b4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d256b94f-b032-4161-8aec-81873709f28f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d256b94f-b032-4161-8aec-81873709f28f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b1a2e56e-46c5-4d93-98ea-b6603f896c1d"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b1a2e56e-46c5-4d93-98ea-b6603f896c1d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6736b413-f0a7-49ff-a380-b91d242005dc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "44b6a26b-ca52-4a62-8a90-0081d7243c52"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "57b2dfd3-da1e-4f80-9ea0-091605f99d9f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21832fa7-6366-4164-bdb1-61276896f329"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c69429b-c7d7-4866-9fed-476db49ee2a2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a27e737e-e5e5-4361-bfd4-22e79dd87057"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "099c0d72-db91-4e55-8be8-1a8366e1c7a3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63dfe311-cbc5-4f1d-bfe5-e8e2b6974a49"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "63dfe311-cbc5-4f1d-bfe5-e8e2b6974a49"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "deb2150f-bedd-45fa-9623-f5c1ba5795f5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "deb2150f-bedd-45fa-9623-f5c1ba5795f5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1a6fe43f-ed15-4389-9e37-4c754dc2f188"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1a6fe43f-ed15-4389-9e37-4c754dc2f188"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4fa5d2e9-8c66-49ab-97be-1085ec58f07b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4fa5d2e9-8c66-49ab-97be-1085ec58f07b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f1509f17-4d8c-4e8c-b6c2-6d207fb60ab3"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f1509f17-4d8c-4e8c-b6c2-6d207fb60ab3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "566e029a-20af-4e7a-95d8-6da6e81667c0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "566e029a-20af-4e7a-95d8-6da6e81667c0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "404023f0-cf5f-4dcc-b3c1-577c23cd4fc8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "404023f0-cf5f-4dcc-b3c1-577c23cd4fc8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f5cd97a8-be25-4289-8e12-8b915756f189"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f5cd97a8-be25-4289-8e12-8b915756f189"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:24 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:24 UTC], ["updated_at", 2016-06-06 16:45:24 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6fda5cc-51f9-4301-b7a7-5f3288a8106d"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a6fda5cc-51f9-4301-b7a7-5f3288a8106d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6c1ebf2-b966-49f1-9728-8036dabc3a6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f6c1ebf2-b966-49f1-9728-8036dabc3a6d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1a6b74b8-5729-4e51-b8f3-3a9b1adb7174"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1a6b74b8-5729-4e51-b8f3-3a9b1adb7174"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dbb4e6d7-5023-439e-82bb-32d95374cbdb"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dbb4e6d7-5023-439e-82bb-32d95374cbdb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed78907e-4d3f-414e-b417-82a41f8e7cba"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ed78907e-4d3f-414e-b417-82a41f8e7cba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d097fafd-8905-4db0-aa8b-d6228b8fb4f9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d097fafd-8905-4db0-aa8b-d6228b8fb4f9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3bc1aed-6081-40fc-8d7c-16756785e2f9"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d3bc1aed-6081-40fc-8d7c-16756785e2f9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b13f56bc-81ed-4476-a5f8-67f9cd86bf0a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b13f56bc-81ed-4476-a5f8-67f9cd86bf0a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d84ea308-7e04-48de-8059-70d764c0f423"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d84ea308-7e04-48de-8059-70d764c0f423"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90803064-9b35-4de7-b64a-1d4bfa0c4996"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "90803064-9b35-4de7-b64a-1d4bfa0c4996"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:45:25 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:45:25 UTC], ["updated_at", 2016-06-06 16:45:25 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e40b40de-a1a3-4ec4-bbbc-20834de6d814"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "60ccfd00-6516-468d-ada5-4a08c90f62be"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c839a27b-7482-40d1-8c18-f516d265540b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c839a27b-7482-40d1-8c18-f516d265540b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e26ae92c-7bee-4444-bfbe-f9f5e8c53445"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e26ae92c-7bee-4444-bfbe-f9f5e8c53445"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fc1d04e4-ca77-47ef-9fed-5217e724fa0c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d157ed43-17ce-42a0-8940-3402afffc403"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0bceabeb-2361-442d-812d-578a66e31e43"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f9828cf8-add6-4db8-8725-9acc2cb602f7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58b32530-7fd5-46a8-a269-1e6ec5a9a074"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "540fe9bd-857d-49e1-97aa-4f10cdd8a87f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3817c05-89cf-4692-a69c-bead9865009f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1ba8a3a4-881e-4704-ab24-258e742b7172"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1ba8a3a4-881e-4704-ab24-258e742b7172"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f33e5a38-3f0a-4192-91c1-64030d6ce7ba"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f33e5a38-3f0a-4192-91c1-64030d6ce7ba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3203ebc4-0311-4d3e-98fd-fd59eb6340f5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3203ebc4-0311-4d3e-98fd-fd59eb6340f5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b07d9af-081d-4a35-b8ab-8da5ced107f6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4b07d9af-081d-4a35-b8ab-8da5ced107f6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9aae0562-2440-47e3-8627-f2a9d5110fa7"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9aae0562-2440-47e3-8627-f2a9d5110fa7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b24b4476-111d-4065-b73c-75de6ef47675"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b24b4476-111d-4065-b73c-75de6ef47675"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86b99cee-eef8-4350-b783-89e4aa3a94b2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "86b99cee-eef8-4350-b783-89e4aa3a94b2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10f16ba5-b4ce-490c-bd7b-3c6b1e9efff1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10f16ba5-b4ce-490c-bd7b-3c6b1e9efff1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6d76374c-9548-44f2-a60b-de1bc18a6a73"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6d76374c-9548-44f2-a60b-de1bc18a6a73"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8653b4b1-56c0-4d5f-afd9-97db6e1e4833"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8653b4b1-56c0-4d5f-afd9-97db6e1e4833"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "de1012ba-710f-495e-9939-1223963c12e1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "de1012ba-710f-495e-9939-1223963c12e1"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58dea92f-05b3-418a-9bed-6137bed05a2b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "58dea92f-05b3-418a-9bed-6137bed05a2b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ff3a418e-0a3f-4cbf-b54f-c35415b3f411"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ff3a418e-0a3f-4cbf-b54f-c35415b3f411"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f653668f-0a01-4537-bd1b-9c3cb1865a77"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f653668f-0a01-4537-bd1b-9c3cb1865a77"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d72786f9-4ddb-4d47-a6b0-b5fad00ee06b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d72786f9-4ddb-4d47-a6b0-b5fad00ee06b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3a2784e3-4804-447b-bc90-f56007c96783"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3a2784e3-4804-447b-bc90-f56007c96783"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c99a8ac4-ed18-47ac-b619-adf869286013"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c99a8ac4-ed18-47ac-b619-adf869286013"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "00d0c08a-3c8c-4dcc-acc7-c1b703771907"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "00d0c08a-3c8c-4dcc-acc7-c1b703771907"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:46:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:46:05 UTC], ["updated_at", 2016-06-06 16:46:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0f6fd2e-147f-4b3a-97e6-3912ab00265b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c845f92-ea19-409a-9924-abaa4b77ab2b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e9e5546-caab-4935-8abe-0e81bbadceca"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9e9e5546-caab-4935-8abe-0e81bbadceca"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e61d50a-7c99-4a9e-a394-3c0f86e03bdc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e61d50a-7c99-4a9e-a394-3c0f86e03bdc"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a53233dc-25ef-4843-9956-62032e41aead"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ab49c6a8-7ff9-4cbe-8fed-2fcc49e89e27"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "303c7f8d-00bc-4796-ac1a-4b1bd335d3e4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f010f4d3-668a-4083-bf6f-761710160b8f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "70744e96-5ff0-487a-b224-69d0b311e9fd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d18ea522-32d1-4145-9918-b6c4dbe67656"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1263893d-66e8-4e8f-a0fd-ddbedcb3f5f2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "71caea97-1dc1-4639-87c9-3fef9c617b9f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "71caea97-1dc1-4639-87c9-3fef9c617b9f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5a1c772a-d1ab-482a-ba26-b42aa8931d62"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5a1c772a-d1ab-482a-ba26-b42aa8931d62"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eebd8ed3-18db-45a5-8c71-7e7527281f87"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eebd8ed3-18db-45a5-8c71-7e7527281f87"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8778b0f7-015f-4a4a-962f-f5468d285f7d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8778b0f7-015f-4a4a-962f-f5468d285f7d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9ad1452e-e903-481b-b40b-349dd9ae03f4"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9ad1452e-e903-481b-b40b-349dd9ae03f4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2a2fb71-812b-48de-accc-b27e24522eef"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e2a2fb71-812b-48de-accc-b27e24522eef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "11762a98-80d6-411c-854f-8c9f25a40b8a"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "11762a98-80d6-411c-854f-8c9f25a40b8a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0ad17077-0216-4962-ba56-1762f747b4b7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0ad17077-0216-4962-ba56-1762f747b4b7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c04bc032-514c-47d0-93d2-bd5a92ac93d8"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c04bc032-514c-47d0-93d2-bd5a92ac93d8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:02 UTC], ["updated_at", 2016-06-06 16:47:02 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cea0f8c0-f128-4a8d-939e-c9367447b49c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cea0f8c0-f128-4a8d-939e-c9367447b49c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:02 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b10951a4-a324-4da6-a3ad-b752fbeb1f0f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b10951a4-a324-4da6-a3ad-b752fbeb1f0f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7c3ddb77-1950-410d-a4a5-e4738425f714"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7c3ddb77-1950-410d-a4a5-e4738425f714"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "643c136a-5247-42ac-8abc-ae5ef22353e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "643c136a-5247-42ac-8abc-ae5ef22353e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "56cff699-6ca6-4478-8fb0-d4342ac77219"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "56cff699-6ca6-4478-8fb0-d4342ac77219"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e5caca3-3626-405c-98e4-c379d26a71cf"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5e5caca3-3626-405c-98e4-c379d26a71cf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bde72e12-eb49-4c93-9ae8-a9506a6ed994"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bde72e12-eb49-4c93-9ae8-a9506a6ed994"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "26797e76-def6-4992-8dbd-5151b7e4da41"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "26797e76-def6-4992-8dbd-5151b7e4da41"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "051a5a76-a80e-4577-bd6c-e78251b05047"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "051a5a76-a80e-4577-bd6c-e78251b05047"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:47:03 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:47:03 UTC], ["updated_at", 2016-06-06 16:47:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (5.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5b9840ee-4b78-4d16-b564-5d34afb63d8f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d0812f80-3e0f-4381-a599-6a2c9e19e74c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3782956b-6d73-40cc-95bf-025abb679545"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3782956b-6d73-40cc-95bf-025abb679545"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cee06f7f-1025-4668-bb33-93ca3e35aa47"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cee06f7f-1025-4668-bb33-93ca3e35aa47"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6cad395a-06c9-4805-97b5-7ca7b2f18a08"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7e91a860-1787-4e65-ba05-b276622e629d"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "956ba177-6826-4325-94b7-3509ec873223"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e418653b-aec3-4cdd-a234-4232dd5d890a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c208f0b-1079-44cf-bce2-04e725fc94e7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "edd14247-7486-4f42-ad2f-f88cb767e799"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "093c4874-a85b-4041-8b54-00debfb8012c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53277fe7-bfd7-4551-b679-3dfb859841eb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d3085fe8-bf01-4252-990d-7b87f92ce379"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d3085fe8-bf01-4252-990d-7b87f92ce379"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fc1349c1-073d-446a-b0f3-01d0af270aba"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fc1349c1-073d-446a-b0f3-01d0af270aba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "35aeb8b8-2f98-48fb-af65-913e284b584b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "35aeb8b8-2f98-48fb-af65-913e284b584b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f4a0e9f-2b40-4999-89e8-1f7dc537cf8e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f4a0e9f-2b40-4999-89e8-1f7dc537cf8e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e20aead-d6fc-4c76-a06e-d63e40d490a2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5e20aead-d6fc-4c76-a06e-d63e40d490a2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aadec6cc-2454-4bc5-a801-b608020e6c73"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aadec6cc-2454-4bc5-a801-b608020e6c73"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cfbfea0c-c3b9-40f5-8174-7c0e8fde8ff1"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cfbfea0c-c3b9-40f5-8174-7c0e8fde8ff1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1aa7f9d6-a96c-4639-99da-3ba93432e50e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1aa7f9d6-a96c-4639-99da-3ba93432e50e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "55d2433e-a8b7-4864-a6cf-ed26ee49d160"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "55d2433e-a8b7-4864-a6cf-ed26ee49d160"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd64901d-831e-49ba-a93b-1b0829bf23ce"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dd64901d-831e-49ba-a93b-1b0829bf23ce"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c21cdbe-e2c2-49b3-b89d-e421fe4a40ad"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8c21cdbe-e2c2-49b3-b89d-e421fe4a40ad"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2360cefd-7a1a-4de6-a54d-0dc6d1e2253a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2360cefd-7a1a-4de6-a54d-0dc6d1e2253a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "39538bcd-2640-4982-a8bb-1447fa6e2b78"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "39538bcd-2640-4982-a8bb-1447fa6e2b78"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "26bdb096-c4be-470b-85f8-a74f9f7f38a4"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "26bdb096-c4be-470b-85f8-a74f9f7f38a4"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0857a58c-ad1f-45f1-9db6-a770afdfa7e8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0857a58c-ad1f-45f1-9db6-a770afdfa7e8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "78e1f172-199b-4921-a445-c03f76d268d2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "78e1f172-199b-4921-a445-c03f76d268d2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "274a5ef5-3b1d-492a-a79a-5137c3f9679e"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "274a5ef5-3b1d-492a-a79a-5137c3f9679e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e8923a60-59dc-44ef-8c84-08a201535e0b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e8923a60-59dc-44ef-8c84-08a201535e0b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:48:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:48:48 UTC], ["updated_at", 2016-06-06 16:48:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:49:07 UTC], ["updated_at", 2016-06-06 16:49:07 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "968fe89b-ab84-41c0-b269-03adfc42f69d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58d85bfc-4c5b-4c15-9600-f588b085bcb4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c19ac0e-0fee-4262-8a0f-690dd48f96fe"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c19ac0e-0fee-4262-8a0f-690dd48f96fe"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0f9870a2-b141-460b-b73d-a3b269a34805"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0f9870a2-b141-460b-b73d-a3b269a34805"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b73b661-7c96-43ed-99e7-89c0790202c8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6c57c60-5bff-45a6-a67a-d43b564e9924"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f13c2f62-2a3a-4a46-a885-f4111fa57d54"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5907a221-7691-4a78-bc85-f5d2569651d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "26a09bd6-216d-4876-a10f-31d91df7e5f0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fffc0fef-be25-43c2-bb8a-183794a75b90"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0a505ee3-e29a-49fd-b10b-cd9bd0408920"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e6842a2b-6db3-4fb7-ad21-3c0168f452fe"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:07 UTC], ["updated_at", 2016-06-06 16:49:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb823208-959a-4ce7-87a3-7fa9b69c762c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bb823208-959a-4ce7-87a3-7fa9b69c762c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "945b774c-ef5f-42fd-87ce-97f57f1b5862"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "945b774c-ef5f-42fd-87ce-97f57f1b5862"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b168194-7caf-4a47-b4e6-1aca8d9adac2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4b168194-7caf-4a47-b4e6-1aca8d9adac2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86f3c642-3952-49e2-855b-1280bcb87a35"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "86f3c642-3952-49e2-855b-1280bcb87a35"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bd75e36f-a4d0-430e-865d-9ee4580ebc10"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bd75e36f-a4d0-430e-865d-9ee4580ebc10"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c3b9cb09-b4cf-4bab-a6c9-26e8716256cb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c3b9cb09-b4cf-4bab-a6c9-26e8716256cb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5988e44a-4d8a-4041-8da9-819e37527eba"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5988e44a-4d8a-4041-8da9-819e37527eba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7c46de92-166f-47b9-b980-6d7831e36554"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7c46de92-166f-47b9-b980-6d7831e36554"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15d7d28e-cd19-42ed-9407-ecaf38e17472"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "15d7d28e-cd19-42ed-9407-ecaf38e17472"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4348c5d3-e890-45ca-a0fd-f98379a96116"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4348c5d3-e890-45ca-a0fd-f98379a96116"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "da9993e7-d8c2-4617-b811-4ecb2cf79ecf"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "da9993e7-d8c2-4617-b811-4ecb2cf79ecf"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "95133e85-47b7-4722-9cb8-c3c3372f558a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "95133e85-47b7-4722-9cb8-c3c3372f558a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3eab6879-a8d3-4dee-a11d-bfde843f94c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3eab6879-a8d3-4dee-a11d-bfde843f94c5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b510e4ce-eeeb-4aac-80ea-91b9f6479d4f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b510e4ce-eeeb-4aac-80ea-91b9f6479d4f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d6e60922-28a8-49b3-a8f2-6813895f8322"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d6e60922-28a8-49b3-a8f2-6813895f8322"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79a694bb-c717-461d-9ac2-b98c46377a70"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79a694bb-c717-461d-9ac2-b98c46377a70"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10965d5c-e3c3-4773-a793-4227d5d9b83c"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10965d5c-e3c3-4773-a793-4227d5d9b83c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a2210586-d544-495a-bad9-217bf36073bf"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a2210586-d544-495a-bad9-217bf36073bf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:08 UTC], ["updated_at", 2016-06-06 16:49:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2073af7-a359-48b7-8b8b-d4e904e08aac"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c5406624-be81-4512-8d57-945ebf43c5b3"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "753fef17-28bc-4c6b-b0c5-aa661d077d9b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "753fef17-28bc-4c6b-b0c5-aa661d077d9b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b540f326-d044-4af1-9cab-1daf2f8efcc0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b540f326-d044-4af1-9cab-1daf2f8efcc0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "60508fdf-a23f-41b1-a380-fd0512de0560"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3b0c1a77-62dd-4459-bfa9-038a2d0a6dd7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "992cfbd0-3575-4f23-aa39-d52554535fb4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2eb6def0-15e9-4f6c-bb9b-425ac104f832"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59d98c16-c7a8-48cd-89c8-d5aaa878209e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6ebd30c-beba-48c4-8afa-c9d17483925c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d409838e-22c8-4ca9-bd0a-c2ccc095b671"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41fe82eb-1bf2-484f-b9c5-18680650fc12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce85c26f-1c9c-4bf3-8b22-a0e46c2694ad"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ce85c26f-1c9c-4bf3-8b22-a0e46c2694ad"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "34dda688-ec00-4910-884f-78f719ce5f3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "34dda688-ec00-4910-884f-78f719ce5f3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b6e0e01-2869-4c6e-b438-7ad88b681295"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b6e0e01-2869-4c6e-b438-7ad88b681295"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63665529-90ff-4254-b2d7-7defa6fe5efa"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "63665529-90ff-4254-b2d7-7defa6fe5efa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f11918fc-9d11-4e2c-a1be-de55f04182c4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f11918fc-9d11-4e2c-a1be-de55f04182c4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5172539c-8539-4d10-9535-ced0ab38f8a2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5172539c-8539-4d10-9535-ced0ab38f8a2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41bd23bc-a5d1-4884-8b64-2f45aa523da6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41bd23bc-a5d1-4884-8b64-2f45aa523da6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2410bc8a-966a-41db-95a7-c620d5ff0abb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2410bc8a-966a-41db-95a7-c620d5ff0abb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ad6e925-1dc8-4200-8a1a-64a163a4701b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6ad6e925-1dc8-4200-8a1a-64a163a4701b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d9bbe7a2-1ffd-481b-8a4c-4c9dffab6f96"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d9bbe7a2-1ffd-481b-8a4c-4c9dffab6f96"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1e0fadc4-1a6d-4d3d-b89e-555ab1ff90cf"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1e0fadc4-1a6d-4d3d-b89e-555ab1ff90cf"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a9fa69a-2ee5-4004-bc23-b083584ba7e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2a9fa69a-2ee5-4004-bc23-b083584ba7e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ea7a0dce-8f87-4cfb-bd17-381b249e5050"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ea7a0dce-8f87-4cfb-bd17-381b249e5050"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40abf69d-ae19-4feb-a8c3-94479d1aae4f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "40abf69d-ae19-4feb-a8c3-94479d1aae4f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53eb4449-daca-4c2a-9213-cff42616a1f8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "53eb4449-daca-4c2a-9213-cff42616a1f8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85890a3d-acd1-4f8b-a88f-9a0235ecd343"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85890a3d-acd1-4f8b-a88f-9a0235ecd343"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "76660081-5f33-4bb8-8de4-4fc118fd5409"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "76660081-5f33-4bb8-8de4-4fc118fd5409"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e418f515-2a93-4a4c-a826-44fb9156b74c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e418f515-2a93-4a4c-a826-44fb9156b74c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:49:32 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:49:32 UTC], ["updated_at", 2016-06-06 16:49:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "91befb56-6f77-44cb-96fa-1d081a9f5d3e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bbb56de9-c26f-47f4-9f8c-6ede441df29d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ca357532-5ed8-41b3-b508-a05b280630a8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ca357532-5ed8-41b3-b508-a05b280630a8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7cc36fd-1ca2-4b55-a7e1-736c56c9c3e5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7cc36fd-1ca2-4b55-a7e1-736c56c9c3e5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83b6fd08-e89f-44ed-87bb-83f1a326f998"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2474e98-fb0b-49fa-8f32-b9cfa2c8dc67"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "414a9af4-c1bc-49ba-997e-8cd8f5daa508"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ad28f81c-a5d3-4b70-854f-ac400268d108"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a38c5ad3-6f90-40f2-a751-20d33ef152b9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15c5b2ec-5c8b-480c-8765-920cb5c4bc81"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83841408-5397-4acb-b87d-ba69034be5c8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6406c9d5-c5fc-4f18-9d9a-cb517ff1a50c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6281a2cc-8078-4ff3-a522-5739c57b1c6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6281a2cc-8078-4ff3-a522-5739c57b1c6d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1ff11c5b-97a9-47f8-bcc4-aa8aafffee61"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1ff11c5b-97a9-47f8-bcc4-aa8aafffee61"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2111769-96c8-414b-be11-1eacad141e84"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2111769-96c8-414b-be11-1eacad141e84"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "01acf318-af9e-48fd-ad9b-7ac4703b2cda"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "01acf318-af9e-48fd-ad9b-7ac4703b2cda"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "949ea52f-956c-4332-9a77-cbc8a4ddc056"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "949ea52f-956c-4332-9a77-cbc8a4ddc056"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "77104fb7-b0d6-409d-8497-066e149a7ad9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "77104fb7-b0d6-409d-8497-066e149a7ad9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "52bd5323-d0ff-48a1-a861-b2cd1897a17b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "52bd5323-d0ff-48a1-a861-b2cd1897a17b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2894c9b-13f6-46f6-aa2e-94201246dbd3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d2894c9b-13f6-46f6-aa2e-94201246dbd3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bd90ef5a-ce61-4beb-9c44-df12f26aed94"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bd90ef5a-ce61-4beb-9c44-df12f26aed94"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "744551ad-3702-426e-90c4-bbf7debd25f9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "744551ad-3702-426e-90c4-bbf7debd25f9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d870f6ac-da15-47ab-9a8c-e4f4b7e87b16"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d870f6ac-da15-47ab-9a8c-e4f4b7e87b16"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "17c03a45-f4bd-489b-a066-bbc30951f67f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "17c03a45-f4bd-489b-a066-bbc30951f67f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03554cbe-e078-49f3-92bf-8447688b8296"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "03554cbe-e078-49f3-92bf-8447688b8296"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5b9dc5bc-2f7c-40c0-95e8-e7305ce2cbaf"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5b9dc5bc-2f7c-40c0-95e8-e7305ce2cbaf"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e50a5767-7182-426c-968c-2ef41e756f99"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e50a5767-7182-426c-968c-2ef41e756f99"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8bc8691-cf4f-44eb-9f6e-a76df2e25571"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f8bc8691-cf4f-44eb-9f6e-a76df2e25571"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "66f1f0cd-8a0f-45c9-9539-d2e4465104fb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "66f1f0cd-8a0f-45c9-9539-d2e4465104fb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "38246b92-6d2d-4367-9a78-3bc8cd38628d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "38246b92-6d2d-4367-9a78-3bc8cd38628d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:08 UTC], ["updated_at", 2016-06-06 16:50:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (3.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a55781c7-159a-41e0-8fe4-c5d71b6402d2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5a060098-cd07-4e5f-92ac-01aa8ed3f2bf"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ada3ead-b4b6-46be-a100-d9f165407df0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ada3ead-b4b6-46be-a100-d9f165407df0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cdbc85d-299b-4efe-9555-9623ef18e61c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cdbc85d-299b-4efe-9555-9623ef18e61c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0311393a-13aa-42d5-836e-6ba56895dab5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2d146e68-ba9d-4917-a143-a82adeb11556"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c668b8e-dc05-489e-a4c1-78ddaced8d87"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "962e35b1-4857-40c3-bb4e-785b5d1eef55"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2539950-7cc4-4f82-ace0-bc6d9c2538f5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e00429a1-e9fa-4d95-814a-4b098203dc1c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6f26d8b9-1ca2-49a6-9eb6-b5fca8392a68"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7a21f04-f9d5-4439-a9b8-6745e4b3ec04"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af705e46-f2e4-41aa-b2e4-91171bc8e13b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af705e46-f2e4-41aa-b2e4-91171bc8e13b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1fd0f34e-8b63-4f4e-a746-53953b0ea42b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1fd0f34e-8b63-4f4e-a746-53953b0ea42b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (2.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "94d20bb1-28a1-4062-bccd-b7c7ab2435da"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "94d20bb1-28a1-4062-bccd-b7c7ab2435da"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "57c3b5c0-5202-4560-b9e1-faac3ad22d06"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "57c3b5c0-5202-4560-b9e1-faac3ad22d06"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ece4ae3e-381d-43e8-9efe-9b5fd74751bb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ece4ae3e-381d-43e8-9efe-9b5fd74751bb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5cd2ef2d-95f8-4687-b433-045a49c91268"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5cd2ef2d-95f8-4687-b433-045a49c91268"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54e423a1-e496-4a3a-8ad9-85d502fda3ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "54e423a1-e496-4a3a-8ad9-85d502fda3ca"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "646a5f46-0754-4f37-96a9-433a2a1b4b7f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "646a5f46-0754-4f37-96a9-433a2a1b4b7f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9f7abd7a-a39d-4a94-9e2b-bdc9c4361dbc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9f7abd7a-a39d-4a94-9e2b-bdc9c4361dbc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b92bf307-91fd-4f1f-8ee9-c14f855f0767"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b92bf307-91fd-4f1f-8ee9-c14f855f0767"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "072d2325-5ce1-4f55-a80b-0779d1677243"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "072d2325-5ce1-4f55-a80b-0779d1677243"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18c62bcb-8087-40ab-a2e3-4aa14e1675fc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "18c62bcb-8087-40ab-a2e3-4aa14e1675fc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3433785d-6b29-4cd0-8a10-3f1f143d8a5c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3433785d-6b29-4cd0-8a10-3f1f143d8a5c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1578a159-3efe-462b-952f-11728e53cc9d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1578a159-3efe-462b-952f-11728e53cc9d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ec0e887-2677-4a0e-862d-d8691a7c9b09"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6ec0e887-2677-4a0e-862d-d8691a7c9b09"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "19a7b56f-28ad-4187-9a36-fe22e2e7b4e3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "19a7b56f-28ad-4187-9a36-fe22e2e7b4e3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bd56feac-7616-4cd5-89ad-2449e398ef35"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bd56feac-7616-4cd5-89ad-2449e398ef35"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4c8a9d41-20f7-4fdc-b284-2e1f26144bee"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4c8a9d41-20f7-4fdc-b284-2e1f26144bee"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:50:27 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:50:27 UTC], ["updated_at", 2016-06-06 16:50:27 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:51:32 UTC], ["updated_at", 2016-06-06 16:51:32 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c297087-4059-4f01-a471-10c5d2c878e9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4e0cb61b-8353-434b-82f8-2f6d41886620"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df36bff8-369a-4fa9-aaee-7e1123cad599"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df36bff8-369a-4fa9-aaee-7e1123cad599"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9d4dde2-ff69-4e5a-826d-863047eb81c5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9d4dde2-ff69-4e5a-826d-863047eb81c5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83739e4c-480d-42e2-be5b-5a6aaecc7989"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "afc260b9-300b-4058-888e-1cf495d156c5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "060841c9-c342-4b56-b0c8-8eb4811b32a8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73784c24-af18-41ad-a02d-fd4dd1cfedd4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2c4c44c-9db3-47be-97a7-c2fc0444f8b5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a1d48c1c-b57a-4d24-a225-1ebc9c3919b9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "44adb895-339b-4bc4-8a67-a9aef2d974bf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3f5746ac-a1c5-4eea-9226-1be43412eb1e"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "063f7006-72ef-4aed-a6b7-43d47d8c1fc3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "063f7006-72ef-4aed-a6b7-43d47d8c1fc3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4827798-b8ec-487e-ab4a-1d52ab184897"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4827798-b8ec-487e-ab4a-1d52ab184897"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41dfaa5a-c0e5-4208-9d83-0eabc122f58f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41dfaa5a-c0e5-4208-9d83-0eabc122f58f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "59f6d92c-59fc-4e27-b6c7-28454da1ff74"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "59f6d92c-59fc-4e27-b6c7-28454da1ff74"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "61ddff1c-0943-4c27-9cf5-fe171318169b"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "61ddff1c-0943-4c27-9cf5-fe171318169b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a01b45f-0dd8-4958-b9d8-4ca397dfb969"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6a01b45f-0dd8-4958-b9d8-4ca397dfb969"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5c984b3c-21fd-49e6-8eca-bb00dd82112c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5c984b3c-21fd-49e6-8eca-bb00dd82112c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a5c49547-a8ed-4d3c-805c-d17a37107b77"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a5c49547-a8ed-4d3c-805c-d17a37107b77"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bbc11442-99f4-4241-af4c-cde72053bfd7"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bbc11442-99f4-4241-af4c-cde72053bfd7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "311a654b-f07a-4fa5-ba54-72e0df15ba97"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "311a654b-f07a-4fa5-ba54-72e0df15ba97"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e2428ac-bea8-478b-8171-0f24c26d1689"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0e2428ac-bea8-478b-8171-0f24c26d1689"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2e2b40df-5db3-4568-92de-1a0ec4a02a7e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2e2b40df-5db3-4568-92de-1a0ec4a02a7e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a923f59-4bf2-4134-88a4-3cc7d2c1ffd7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7a923f59-4bf2-4134-88a4-3cc7d2c1ffd7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a0a04c2-9c93-4aed-9ab9-6482930a6b3b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2a0a04c2-9c93-4aed-9ab9-6482930a6b3b"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "384e6a07-13c6-4946-9a55-68a530e459dc"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "384e6a07-13c6-4946-9a55-68a530e459dc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ca29440-e8be-4585-a77a-ebf7f64628c7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4ca29440-e8be-4585-a77a-ebf7f64628c7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9ee3058f-20e7-476b-85f6-0aba18637844"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9ee3058f-20e7-476b-85f6-0aba18637844"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1f5f3fc1-911f-4722-a066-af8f9e0342ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1f5f3fc1-911f-4722-a066-af8f9e0342ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:51:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:51:33 UTC], ["updated_at", 2016-06-06 16:51:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:54:51 UTC], ["updated_at", 2016-06-06 16:54:51 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6864fc1c-e510-47a2-a1fb-0d50cb7297a3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4edc66bf-f57d-4e8a-ba59-38b355b76bd3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "65612a4b-4715-4e62-8f02-470b2bd01e37"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "65612a4b-4715-4e62-8f02-470b2bd01e37"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd8d9fc9-c179-45dc-b73c-283aa7635881"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dd8d9fc9-c179-45dc-b73c-283aa7635881"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7933bcb1-ad55-4581-8745-b7cec54471e5"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "763ec5fa-f24f-4409-8665-e7f1497cb33d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7ddbb0be-ba18-4129-a65b-69f0b5fdd357"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5b2cd5b7-3277-44a3-a116-2596879037de"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b7706ea1-5e67-46af-9203-bf2406e65a9e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "28d968df-27dc-48a4-bd4f-253086f63898"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ce4c1e72-2e31-47d1-a499-7bf785d2c0c7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6d68fe85-9ad9-4034-b219-fc98afaa40cd"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:51 UTC], ["updated_at", 2016-06-06 16:54:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba786914-f1c4-4f61-bedb-0df6d90401fc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ba786914-f1c4-4f61-bedb-0df6d90401fc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:51 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:51 UTC], ["updated_at", 2016-06-06 16:54:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0201490-a7fe-4a1e-bc73-872cc0d455a1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0201490-a7fe-4a1e-bc73-872cc0d455a1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:51 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:51 UTC], ["updated_at", 2016-06-06 16:54:51 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0a3cc5b-ffa0-4969-b33d-1abbec7cdf41"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c0a3cc5b-ffa0-4969-b33d-1abbec7cdf41"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fd6402f3-fede-4033-a1af-13c5851ad63e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fd6402f3-fede-4033-a1af-13c5851ad63e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b37387b9-a546-4d35-97cb-9d55b8ecd998"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b37387b9-a546-4d35-97cb-9d55b8ecd998"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d556ee6e-e379-408d-a424-d34d2f164fcd"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d556ee6e-e379-408d-a424-d34d2f164fcd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9176788b-28e2-412c-b832-fc290a11ed0c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9176788b-28e2-412c-b832-fc290a11ed0c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cc4bebcb-de21-4d92-9540-503e9dec9500"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cc4bebcb-de21-4d92-9540-503e9dec9500"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2933c972-f8e9-4ae2-b122-4db3fee9962c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2933c972-f8e9-4ae2-b122-4db3fee9962c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af60af31-1f82-45a0-8822-2e644284005e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af60af31-1f82-45a0-8822-2e644284005e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9b3749a7-6201-4da4-a3fd-4211eab3a64f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9b3749a7-6201-4da4-a3fd-4211eab3a64f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fadf7f06-e0bb-47dc-9f9d-a2683b8040af"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fadf7f06-e0bb-47dc-9f9d-a2683b8040af"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5bd76019-bd14-490c-a219-a7e728d31cac"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5bd76019-bd14-490c-a219-a7e728d31cac"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "97b64ec2-3bca-488b-95f5-161786f2d71a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "97b64ec2-3bca-488b-95f5-161786f2d71a"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9fd3822b-2d22-4ea4-b48f-0f858c33384d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9fd3822b-2d22-4ea4-b48f-0f858c33384d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4a4efce3-f27d-4daa-aad7-7e105b688f13"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4a4efce3-f27d-4daa-aad7-7e105b688f13"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d3acfbc-1a89-40dc-a892-636f9094c951"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3d3acfbc-1a89-40dc-a892-636f9094c951"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7c6a6fe7-1107-45b0-8196-ac8986c5647f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7c6a6fe7-1107-45b0-8196-ac8986c5647f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:54:52 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:54:52 UTC], ["updated_at", 2016-06-06 16:54:52 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2adee268-33e2-448c-8502-697aed260f07"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "834b50bd-cfb1-45c3-ba7b-560a08ea4954"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42a3398e-2204-4b6e-ad4d-26d6f13b58db"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42a3398e-2204-4b6e-ad4d-26d6f13b58db"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a29f8a0b-863e-490d-a79e-4dd42c4626ea"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a29f8a0b-863e-490d-a79e-4dd42c4626ea"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4eeb4d08-2a09-4eb5-b9a2-39ae5d569623"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7cd48486-15a4-41a7-a219-f5ce12f1b6aa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f92ecc2e-043e-45f9-b3bb-17851c72677d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2bc1da5-8393-4ee1-9c2d-d9c410ba07b6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d315b0b-3f08-4673-bb0a-71f4327d1ba6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4ec31451-593e-430c-b619-59c47df42286"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c5d172df-e323-463b-b79f-327e6528ca4c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86652c66-dbb2-40ce-a7e7-de1be6cc653d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "980f6578-9b75-4da7-813b-57d530d2b227"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "980f6578-9b75-4da7-813b-57d530d2b227"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8ffafe5b-7efb-4f6b-baee-375042e01bc4"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8ffafe5b-7efb-4f6b-baee-375042e01bc4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c46a962-4df6-40c7-a6b2-0a7fed131791"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c46a962-4df6-40c7-a6b2-0a7fed131791"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d25372c6-f8be-45ec-a670-f53a44feb98e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d25372c6-f8be-45ec-a670-f53a44feb98e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82fc08a9-0603-41ec-9400-d8acd91ce0f0"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82fc08a9-0603-41ec-9400-d8acd91ce0f0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dff4f742-a43b-44ad-8b39-4c3177e81504"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dff4f742-a43b-44ad-8b39-4c3177e81504"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dcd9e5db-6229-4a36-8e69-99df1b5ad1cd"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dcd9e5db-6229-4a36-8e69-99df1b5ad1cd"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6df11f8a-9fdb-4efa-8d82-4f829ba31012"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6df11f8a-9fdb-4efa-8d82-4f829ba31012"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a224780c-5b07-412f-b514-b94621e34053"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a224780c-5b07-412f-b514-b94621e34053"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b498e905-b482-4187-a3b4-6feef991f840"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b498e905-b482-4187-a3b4-6feef991f840"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e50d808-11be-4a2d-b64c-d6ed43eda891"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0e50d808-11be-4a2d-b64c-d6ed43eda891"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8f64cd8b-f989-4493-a8f3-0461561f68b8"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8f64cd8b-f989-4493-a8f3-0461561f68b8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fa59d5c5-187c-4fcf-bafe-7339ac45700d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fa59d5c5-187c-4fcf-bafe-7339ac45700d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c767aea-9dbb-4b86-9bf0-be554a7f98cb"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c767aea-9dbb-4b86-9bf0-be554a7f98cb"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2faa7c8-59cc-4e94-bcf6-d55f13f32897"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e2faa7c8-59cc-4e94-bcf6-d55f13f32897"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e5d09c4-95ec-4095-9fcf-9bb6d30a769a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e5d09c4-95ec-4095-9fcf-9bb6d30a769a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47708100-e9b0-4545-9644-5681158801fe"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "47708100-e9b0-4545-9644-5681158801fe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "188ab4cc-2963-41b6-9050-d1675608a95f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "188ab4cc-2963-41b6-9050-d1675608a95f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:55:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:55:44 UTC], ["updated_at", 2016-06-06 16:55:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e448011-ab13-4f3f-ad21-3c213f0f354d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ed8daf24-b606-4206-9d98-d6ba326c7f0f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07def46d-769c-43c9-b747-15dfba7374f1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07def46d-769c-43c9-b747-15dfba7374f1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "115159e6-a90b-4526-b8da-1441054ffc0a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "115159e6-a90b-4526-b8da-1441054ffc0a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "43d7eef6-ddc7-43c9-aa84-4c1e32fdd1c6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "522606d9-4788-4ee8-aac4-f764eab081d4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a710b777-7738-4be9-8e53-4ba392247ce2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "56642ac6-0598-4ef5-8fbf-2dd3e2892688"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c21bb8ec-c9c9-4488-92c8-1c98f796074c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1883d807-e820-4e0a-a4b4-2873a2aa0d7d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "377c2143-fd16-4c52-9fcf-e279f6401192"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ac5c3372-1433-42c3-aa63-1e04dd7586de"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b4b83a2-21d6-4d91-b0b8-d34802abe360"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2b4b83a2-21d6-4d91-b0b8-d34802abe360"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "60522249-0579-4dba-9170-964925dd992b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "60522249-0579-4dba-9170-964925dd992b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "480e0055-8a06-46c9-8a71-152265047468"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "480e0055-8a06-46c9-8a71-152265047468"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b5dad65-6fb5-4f72-bb49-8b3bf0c64cb3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4b5dad65-6fb5-4f72-bb49-8b3bf0c64cb3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "35e2cb77-334f-4175-bda8-48e290f99171"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "35e2cb77-334f-4175-bda8-48e290f99171"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "810fcdf8-429a-4244-bfc5-cdf6c437ccbc"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "810fcdf8-429a-4244-bfc5-cdf6c437ccbc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fa3e3628-a649-416f-bde3-d22e077a2075"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fa3e3628-a649-416f-bde3-d22e077a2075"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "763d4b1c-f0c3-4840-bb53-36b291f4e4a9"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "763d4b1c-f0c3-4840-bb53-36b291f4e4a9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0604ea21-6003-46f1-b459-658bc6f204c5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0604ea21-6003-46f1-b459-658bc6f204c5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c624a58f-f799-42f6-aa82-1a7b3b13fbef"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c624a58f-f799-42f6-aa82-1a7b3b13fbef"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82d4c0b0-ba54-4fae-84b2-fce3788f23ee"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82d4c0b0-ba54-4fae-84b2-fce3788f23ee"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f2de6d9c-29ef-4eec-9ac0-91888fc696b1"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f2de6d9c-29ef-4eec-9ac0-91888fc696b1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8ade8ea-5438-4826-b9db-56c31611f55d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f8ade8ea-5438-4826-b9db-56c31611f55d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2ba0d39-8c63-4a68-893b-8ee2e330d01e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d2ba0d39-8c63-4a68-893b-8ee2e330d01e"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5fa027d9-4748-4a36-b91b-524270f16d2f"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5fa027d9-4748-4a36-b91b-524270f16d2f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c96a509-df1e-4d6c-9b04-56351c12694f"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c96a509-df1e-4d6c-9b04-56351c12694f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9de11a54-ba3f-4575-816a-cab5d8dbbf35"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9de11a54-ba3f-4575-816a-cab5d8dbbf35"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "91ed9578-7977-4222-8d64-25e82c685885"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "91ed9578-7977-4222-8d64-25e82c685885"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:56:12 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:56:12 UTC], ["updated_at", 2016-06-06 16:56:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85e14bab-c939-44af-b9dd-fd170ad39491"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb51aac4-9648-4d82-b66d-a68513d0863c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7ef6e9a-3f41-462a-b607-e62cae838422"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7ef6e9a-3f41-462a-b607-e62cae838422"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "751e5afc-81f0-43b0-842a-24da353ef00a"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "751e5afc-81f0-43b0-842a-24da353ef00a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a32916f-1e2b-49d3-bbb9-d3fd3d86437f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7037ec58-92c2-4fa0-9b22-9be249cf0d03"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f519fea9-4bde-4d8f-8486-6e232cbb0805"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "516fe78b-b6f4-49dd-8fca-1ff9413b526d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "51f0ba8e-49cc-4637-a7e4-36dee7f29372"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "07ffbfac-ae93-41ca-b564-c93eddd9af07"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1c668ce6-5897-4be2-bde7-e23944e28828"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cff2d863-edee-45a9-bfb2-c73ca1b1b805"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a863f042-18b4-4101-82ce-51d0a3fb5ecf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a863f042-18b4-4101-82ce-51d0a3fb5ecf"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ba7e8a8-2e7e-45f8-94cf-53b90fbb5e72"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2ba7e8a8-2e7e-45f8-94cf-53b90fbb5e72"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b8a52ca-e93b-4a37-b145-b48fd29871c2"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b8a52ca-e93b-4a37-b145-b48fd29871c2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90f677cf-ff6a-419d-b191-35eb9e44ea6e"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "90f677cf-ff6a-419d-b191-35eb9e44ea6e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41cb1ca9-c388-4f81-8fc7-a69d6dff969e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41cb1ca9-c388-4f81-8fc7-a69d6dff969e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6dbfbe8c-0bcc-4f9d-ad8a-deeb14cc5962"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6dbfbe8c-0bcc-4f9d-ad8a-deeb14cc5962"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d4ed8b61-20e1-4990-8244-bc61eb5b4d67"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d4ed8b61-20e1-4990-8244-bc61eb5b4d67"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ecbe309c-973c-4f88-9733-b66f05f3b440"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ecbe309c-973c-4f88-9733-b66f05f3b440"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa055f22-191e-474d-9e25-6defcae77d6d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aa055f22-191e-474d-9e25-6defcae77d6d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "86ef0936-fdbd-4350-9d30-767149b96b83"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "86ef0936-fdbd-4350-9d30-767149b96b83"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "006343b5-dbca-43cf-a39b-7fc589b7de55"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "006343b5-dbca-43cf-a39b-7fc589b7de55"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a0fbe13f-cb55-4ef3-bf10-67e8e854d9a7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a0fbe13f-cb55-4ef3-bf10-67e8e854d9a7"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40cc98ed-aee2-405f-8cb1-13415eb4e3c4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "40cc98ed-aee2-405f-8cb1-13415eb4e3c4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f2ab46d9-bda2-4468-ac32-c5575450c68b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f2ab46d9-bda2-4468-ac32-c5575450c68b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0154e852-1d99-412c-9107-065d32a21cfc"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0154e852-1d99-412c-9107-065d32a21cfc"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1670ffc3-9f4b-469b-9096-a5b31ebe4b3c"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1670ffc3-9f4b-469b-9096-a5b31ebe4b3c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "887502ab-6018-4db5-9e3c-b4a03e6bb312"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "887502ab-6018-4db5-9e3c-b4a03e6bb312"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "51f62da8-d631-49b1-b9a1-fb1f8eb7c9ca"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "51f62da8-d631-49b1-b9a1-fb1f8eb7c9ca"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9e2fe1f-49ae-4bdc-be27-77ce5426df85"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e9e2fe1f-49ae-4bdc-be27-77ce5426df85"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:37 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:37 UTC], ["updated_at", 2016-06-06 16:58:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fd79ded2-f812-4bfa-8550-884ea7fb34b9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b59ecb1b-2b96-4d93-b837-dd5a8ce54d67"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63e1e2cd-bc5f-40ed-9023-882b4cf8ac4b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "63e1e2cd-bc5f-40ed-9023-882b4cf8ac4b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90e2bac1-9f74-45bc-954e-2d7d02f7878b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "90e2bac1-9f74-45bc-954e-2d7d02f7878b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ecdea4cd-4ae9-43cd-b4a8-eaf9a8557d99"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "838e4b9c-1b71-455c-9e50-addcf30143f4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7994343-6163-47f0-8f24-0b4d02425fc8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e94524a3-6b71-4fad-b633-684d9d17676e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15e776f0-b04d-40aa-9527-87dd138d3157"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "05330237-0b66-42a5-83ce-0c7d6be62250"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "caf0b92a-5ae0-4772-b410-ca78d2c06bf0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2be3347c-6ab8-4949-a017-69beac1d0868"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e550d4b6-257c-4414-b449-309c76eb682d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e550d4b6-257c-4414-b449-309c76eb682d"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef43fd63-09d3-425f-9dac-7c3a8953fa60"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ef43fd63-09d3-425f-9dac-7c3a8953fa60"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b569edbb-9552-4195-a32b-3aed010c3801"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b569edbb-9552-4195-a32b-3aed010c3801"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "352b40a0-15b3-412f-9a1b-bcac537ee5be"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "352b40a0-15b3-412f-9a1b-bcac537ee5be"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3837ca6c-7e63-4c55-81e9-650b87f9d1ad"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3837ca6c-7e63-4c55-81e9-650b87f9d1ad"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b34e9580-2e00-44d1-b758-fb4da50872b5"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b34e9580-2e00-44d1-b758-fb4da50872b5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6844b2bd-7755-456c-8f8c-2c6b36aadcf1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6844b2bd-7755-456c-8f8c-2c6b36aadcf1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d14c39a8-481c-49c0-a9c3-bc51a1f4dda3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d14c39a8-481c-49c0-a9c3-bc51a1f4dda3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a3d4c7cb-aa11-40e8-b599-9b121e237620"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a3d4c7cb-aa11-40e8-b599-9b121e237620"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21f1c7cd-a46e-4f9b-966d-7475de622aba"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21f1c7cd-a46e-4f9b-966d-7475de622aba"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cc00af31-6e53-45f5-9b2a-6d1b27c78687"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cc00af31-6e53-45f5-9b2a-6d1b27c78687"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48b6f7d7-5c74-4ef8-9bd7-692b19f358ff"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "48b6f7d7-5c74-4ef8-9bd7-692b19f358ff"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "703e722a-d825-40d9-89ff-4778f47940c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "703e722a-d825-40d9-89ff-4778f47940c3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9bde322-66a0-4e72-829c-5516f3b368e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e9bde322-66a0-4e72-829c-5516f3b368e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "700f64e1-e769-4364-ac5d-f427bea13022"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "700f64e1-e769-4364-ac5d-f427bea13022"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ad452b6-55a1-454a-a1bb-c738e8f6738f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2ad452b6-55a1-454a-a1bb-c738e8f6738f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "130b285b-4758-4fd0-88a5-2bbf8e6e915a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "130b285b-4758-4fd0-88a5-2bbf8e6e915a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c6e1d1d-b19b-43f0-8153-9dab173f9290"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c6e1d1d-b19b-43f0-8153-9dab173f9290"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54cf9edb-57fd-4ad0-a653-f9235291f125"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "54cf9edb-57fd-4ad0-a653-f9235291f125"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 16:58:48 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 16:58:48 UTC], ["updated_at", 2016-06-06 16:58:48 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48423ea3-c176-42f1-bb4a-a56172a63b1c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "daebf479-35b2-41fb-83d0-2e6d9cba2fa3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "de9a7bcb-74b2-418d-bcf9-e6af7237e1c7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "de9a7bcb-74b2-418d-bcf9-e6af7237e1c7"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9e38e02-7b7e-4a82-bd58-6724f2759221"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9e38e02-7b7e-4a82-bd58-6724f2759221"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe9942bd-e622-49e2-8a8f-b67f65dca64e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6ccb51af-fe1d-472b-ba40-2401f12ae887"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "082240a5-d701-4128-ab7d-3cf42d261ff5"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9017287b-f1ea-4463-bfc7-bbbf4c844604"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "42d60b0c-5d24-49ed-80d8-976e7d014f83"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7059b0d-0555-4ea4-b54d-f47ca25bcfa9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7f3613c-8da2-4864-8af3-c7ff89664b0b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "322adb5e-82fb-4790-865d-5c879d74eaf2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ec24cbc8-3517-42f2-82dd-7e09e3ce8044"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ec24cbc8-3517-42f2-82dd-7e09e3ce8044"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dfbe2233-abd1-448b-af1b-490977b97e0a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dfbe2233-abd1-448b-af1b-490977b97e0a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53f2c6f8-0f60-47d7-9456-2b55e7a8f383"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "53f2c6f8-0f60-47d7-9456-2b55e7a8f383"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0568f81f-ad00-4a7f-99ff-96ff6ec02440"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0568f81f-ad00-4a7f-99ff-96ff6ec02440"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "002f1458-40b6-4c0b-8aca-e35afb43ffa7"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "002f1458-40b6-4c0b-8aca-e35afb43ffa7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "89cd1038-53fb-40fe-b0af-afbb2efd2c39"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "89cd1038-53fb-40fe-b0af-afbb2efd2c39"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "df700131-895b-4b65-ad7c-85b8aaef6c7b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "df700131-895b-4b65-ad7c-85b8aaef6c7b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5b8e0cf0-a4f0-4fcb-beb9-249800af1af1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5b8e0cf0-a4f0-4fcb-beb9-249800af1af1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e259c30d-af80-42d6-839f-7974f02f9d8b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e259c30d-af80-42d6-839f-7974f02f9d8b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "11e179f0-84c4-4d28-bb41-e0d3995cf4fa"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "11e179f0-84c4-4d28-bb41-e0d3995cf4fa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2986ed1-5c06-4228-9ea7-625400f61744"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c2986ed1-5c06-4228-9ea7-625400f61744"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "995affa5-1a73-4706-b4be-09fb0fc5a1a6"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "995affa5-1a73-4706-b4be-09fb0fc5a1a6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d2f1134-b13f-4e4b-a4a6-ae71d71c06e2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4d2f1134-b13f-4e4b-a4a6-ae71d71c06e2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a9a53460-0649-4f4f-8215-c5ac45c27e7a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a9a53460-0649-4f4f-8215-c5ac45c27e7a"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e713e20b-8477-43dc-a063-82455f3c8e84"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e713e20b-8477-43dc-a063-82455f3c8e84"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1090c556-2832-4003-ac9d-b963c16202a4"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1090c556-2832-4003-ac9d-b963c16202a4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "230844ac-1b5d-435d-894c-b8a8129adac7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "230844ac-1b5d-435d-894c-b8a8129adac7"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "11ee7e4f-bdd8-4760-8f15-913700b6a2d6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "11ee7e4f-bdd8-4760-8f15-913700b6a2d6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8db5071-a02e-4dfe-a53f-a4e42050938b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f8db5071-a02e-4dfe-a53f-a4e42050938b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "47290e45-01d1-470a-b02c-dc1db3591b91"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "47290e45-01d1-470a-b02c-dc1db3591b91"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7e572b3-1b2a-4e96-b730-c3d469375c50"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a7e572b3-1b2a-4e96-b730-c3d469375c50"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:05 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:05 UTC], ["updated_at", 2016-06-06 17:01:05 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bfc697a6-b08e-46a6-8fdd-55418b622ae3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ac4a0780-424b-4f1e-bcf7-2c10be5a7d0a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9cc7af24-3768-4279-a0f6-858e29c2c3f0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9cc7af24-3768-4279-a0f6-858e29c2c3f0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "25277cff-5834-49b3-ab65-d11c4b1ce337"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "25277cff-5834-49b3-ab65-d11c4b1ce337"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "99022f53-cab2-411b-8c4d-ed3eeadd3f5b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4820e839-6258-479e-9c86-2533cbdf9c43"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d8759729-3f2e-48a9-b692-0ebe8194d656"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5f3e1352-76ee-4c4f-a92c-05ce684e53d6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "227afcc5-1b81-4a83-a2a4-f0325e2abcbe"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "278ce6bd-bcd4-4942-b15f-e46fe82b27fb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a35b1bda-436a-41b2-bf61-2cc103899612"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1f24eba4-d9e1-4907-943e-cfdea25494eb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "145ae554-1f39-4df4-8f08-4f5116969901"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "145ae554-1f39-4df4-8f08-4f5116969901"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3d398c00-da2b-4954-8039-abb2d8345599"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3d398c00-da2b-4954-8039-abb2d8345599"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d68f66d6-8135-4645-a9ea-cd550239ef96"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d68f66d6-8135-4645-a9ea-cd550239ef96"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef1a5e0d-d8f2-416b-a7d7-8c6c7f1b8637"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ef1a5e0d-d8f2-416b-a7d7-8c6c7f1b8637"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "19a35f77-41f3-45d8-8ab0-b72daef8e053"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "19a35f77-41f3-45d8-8ab0-b72daef8e053"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "81fca5aa-2b64-4d8d-ae13-17dffa3e1ef7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "81fca5aa-2b64-4d8d-ae13-17dffa3e1ef7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3b34ac64-b0e3-45be-8a67-393dc0e8af07"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3b34ac64-b0e3-45be-8a67-393dc0e8af07"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0166b8c5-6488-42d5-a9d2-20d8f3f5d152"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0166b8c5-6488-42d5-a9d2-20d8f3f5d152"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f579716d-2ae8-4d1c-bd82-0f0ec601e7be"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f579716d-2ae8-4d1c-bd82-0f0ec601e7be"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "deb84bd5-9cae-4b87-9ee4-5389346a132d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "deb84bd5-9cae-4b87-9ee4-5389346a132d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d386cbcc-09ab-4bac-af34-f87e37dd6d14"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d386cbcc-09ab-4bac-af34-f87e37dd6d14"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "694e6c88-8489-48dd-8e27-20364bb4c355"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "694e6c88-8489-48dd-8e27-20364bb4c355"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "da8221de-197e-4dc2-8c45-e4efb584e78a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "da8221de-197e-4dc2-8c45-e4efb584e78a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5bd19b76-b234-4c1b-8e1a-6cc5cf5e67e7"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5bd19b76-b234-4c1b-8e1a-6cc5cf5e67e7"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "840224e7-a13e-431e-a253-e9a6528129df"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "840224e7-a13e-431e-a253-e9a6528129df"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "83da7bb3-7d86-442e-92e5-061760d0c39f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "83da7bb3-7d86-442e-92e5-061760d0c39f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "950ce82f-5cd3-4981-974d-e0b6495042cf"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "950ce82f-5cd3-4981-974d-e0b6495042cf"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "770ed60e-f4f4-4158-b8b9-9097ecd067ee"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "770ed60e-f4f4-4158-b8b9-9097ecd067ee"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eaab2d47-ac78-4a89-9997-d66a92197835"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eaab2d47-ac78-4a89-9997-d66a92197835"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4fe68270-ffde-4ec2-8801-0fd777d676e5"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4fe68270-ffde-4ec2-8801-0fd777d676e5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "82b9a47f-f699-400f-8b19-7d027c300934"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "82b9a47f-f699-400f-8b19-7d027c300934"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-06 17:01:19 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-06 17:01:19 UTC], ["updated_at", 2016-06-06 17:01:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3a846dfd-b21e-43c4-a402-e5f94c63306c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b8bcd77-0b5b-42f0-9417-52edee4225d0"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ad8da83-5334-4af6-ac14-b508b64e062a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ad8da83-5334-4af6-ac14-b508b64e062a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1295837c-4f01-48af-a68a-32b8a44cda71"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1295837c-4f01-48af-a68a-32b8a44cda71"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dca9d1dc-4303-4787-b9f5-98d2d7b7bb65"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dadf655c-bffe-4703-b784-1b9916f50b31"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5350ee2e-db41-4d57-ad66-0b5e6d37c51b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4b816a89-a39b-4ed3-bd06-1b2501693b7d"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d1bad643-9b0f-4419-b417-f37f62b364bb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "302b6970-a9d9-482d-9473-c870b80d5422"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ee1dac3-83d8-4b58-a7c0-55ee2d8870aa"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14fafea3-8512-444c-85cf-adc36a349fe4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cf95f00-1a99-4caa-a93e-5d4f7ede77e0"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8cf95f00-1a99-4caa-a93e-5d4f7ede77e0"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:35 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1700ed1c-8e53-4e94-bc7c-e32d371cbda7"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1700ed1c-8e53-4e94-bc7c-e32d371cbda7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:35 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "06540999-2c42-43b7-a8ea-37d636021176"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "06540999-2c42-43b7-a8ea-37d636021176"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:35 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c6dc5371-3007-48c7-99a5-da9ea5215531"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c6dc5371-3007-48c7-99a5-da9ea5215531"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:35 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d2eaad4a-5fb3-4c10-8f55-16b19a82f30b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d2eaad4a-5fb3-4c10-8f55-16b19a82f30b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:35 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ae74fdb3-eba9-4ef0-94ed-4e78e17e34f7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ae74fdb3-eba9-4ef0-94ed-4e78e17e34f7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:35 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:35 UTC], ["updated_at", 2016-06-07 08:10:35 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4d2f9d5b-8777-486c-98d2-8b73554230a1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4d2f9d5b-8777-486c-98d2-8b73554230a1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e131a935-c7bf-4211-8d43-fdb224bd7eb0"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e131a935-c7bf-4211-8d43-fdb224bd7eb0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2eafadac-5bc0-43c1-8c15-e2e6f0b34b89"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2eafadac-5bc0-43c1-8c15-e2e6f0b34b89"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aeeb10ba-4903-4488-8423-f83a41ff9577"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "aeeb10ba-4903-4488-8423-f83a41ff9577"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7886c54c-fa3e-4f47-bf85-eb1762a4801e"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7886c54c-fa3e-4f47-bf85-eb1762a4801e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb9f081c-7790-47de-90c0-f352cfe8097b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bb9f081c-7790-47de-90c0-f352cfe8097b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f0cd619e-9e1c-42ff-b739-a9d4760810d6"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f0cd619e-9e1c-42ff-b739-a9d4760810d6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fb309a5b-340e-42cc-b526-3c5d0f1ed3e8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fb309a5b-340e-42cc-b526-3c5d0f1ed3e8"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "05b17df5-f5e1-440f-8c5f-0b94041dd990"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "05b17df5-f5e1-440f-8c5f-0b94041dd990"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b34f01f-62bf-41f2-b733-2d64437ca1c6"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b34f01f-62bf-41f2-b733-2d64437ca1c6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d77ccf45-f891-4314-a7ca-60fb90d50805"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d77ccf45-f891-4314-a7ca-60fb90d50805"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3110c34d-5ced-4017-9059-d1a1b5c702c7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3110c34d-5ced-4017-9059-d1a1b5c702c7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9a7639e8-6896-4c14-9aac-83dbc65a839f"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9a7639e8-6896-4c14-9aac-83dbc65a839f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e876a465-bbf1-4700-95f4-085aab9b563a"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e876a465-bbf1-4700-95f4-085aab9b563a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "870ebca2-0f03-4cc4-a743-b9bd2627b5a0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "870ebca2-0f03-4cc4-a743-b9bd2627b5a0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:10:36 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:10:36 UTC], ["updated_at", 2016-06-07 08:10:36 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9623e3a4-4f99-44e1-b91a-6067565991d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c856e64-701e-44d2-8655-8604d7321740"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "edaa82bb-3070-486a-b713-48051b39afb9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "edaa82bb-3070-486a-b713-48051b39afb9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b151566-e75e-4b69-a853-e62a722acfd8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b151566-e75e-4b69-a853-e62a722acfd8"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "03fc492d-1e4f-40b5-9612-5dbbff83ef31"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0b834d34-c113-4ff1-b768-d74160f1a7c9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6333d3cc-9131-4d07-bc2f-db88ab61c3c4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f4c026ab-ff6d-4b7a-be5e-536d2656871a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7bbe61eb-29b4-40ff-a892-10e54e27c1c8"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9dbd7ef1-9dc1-4049-a1a6-7e4d8dbef880"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a4600a5-cfa1-4cc7-816f-cd894c2b747c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6ea2dd7-80da-49a9-a4ac-91417a92dcce"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a2277c4-ced4-47f7-bd99-713f09ceb76f"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6a2277c4-ced4-47f7-bd99-713f09ceb76f"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef4e362a-7338-4181-8674-9312c6cca121"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ef4e362a-7338-4181-8674-9312c6cca121"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "58a8cb55-520d-47ef-a950-40fd2dc93e51"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "58a8cb55-520d-47ef-a950-40fd2dc93e51"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d154cde2-d673-4011-a315-3ed807eb6633"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d154cde2-d673-4011-a315-3ed807eb6633"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b23f643-5129-492a-be0b-0ded2f5c5859"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8b23f643-5129-492a-be0b-0ded2f5c5859"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d09052a3-d39a-47ff-8d8b-587459544ae6"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d09052a3-d39a-47ff-8d8b-587459544ae6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41ef272d-9cf8-4a4b-820f-74baf917530a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41ef272d-9cf8-4a4b-820f-74baf917530a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ad5ebbe6-3a25-493c-bd73-a7ffc9d3e996"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ad5ebbe6-3a25-493c-bd73-a7ffc9d3e996"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6b389c7-e1a6-408d-90ce-fb943191ee1c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b6b389c7-e1a6-408d-90ce-fb943191ee1c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a67a2531-2c18-4a78-9fad-06ac479c1cc2"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a67a2531-2c18-4a78-9fad-06ac479c1cc2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c848cbd1-1eae-44c7-8402-62c3dd6692c3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c848cbd1-1eae-44c7-8402-62c3dd6692c3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "79e3ddd3-0491-40b0-a090-11136e85857d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "79e3ddd3-0491-40b0-a090-11136e85857d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f1a28b57-77f8-4f29-9d05-862c7e543e57"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f1a28b57-77f8-4f29-9d05-862c7e543e57"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9eded6c6-cfde-4985-bbfd-2f52fa5c265d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9eded6c6-cfde-4985-bbfd-2f52fa5c265d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2c55af27-d043-48cb-b6c3-16945a012a3d"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2c55af27-d043-48cb-b6c3-16945a012a3d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3887c7f6-d38a-4ac1-bce6-332f9c3d593b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3887c7f6-d38a-4ac1-bce6-332f9c3d593b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "05da95e7-1bee-4b7e-89bf-b4bd966e4e57"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "05da95e7-1bee-4b7e-89bf-b4bd966e4e57"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "77906784-26aa-425b-93ac-e59fd68d660d"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "77906784-26aa-425b-93ac-e59fd68d660d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e291fa3-1cc3-4db4-82be-1aed7448b194"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e291fa3-1cc3-4db4-82be-1aed7448b194"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "033c2b3d-1a81-45a3-b1f4-35a4921aa27c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "033c2b3d-1a81-45a3-b1f4-35a4921aa27c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "698dabd3-b2f5-49ae-b73e-c71895067337"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "698dabd3-b2f5-49ae-b73e-c71895067337"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:11:14 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:11:14 UTC], ["updated_at", 2016-06-07 08:11:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "64236c3b-e2e9-4cca-8c2f-fd5753822a43"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18230150-4916-42b2-b412-f9a8656e5487"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6d664ea0-6a5b-4932-b161-852a0266a755"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6d664ea0-6a5b-4932-b161-852a0266a755"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2020d70e-b6aa-450a-acfa-2117e38341d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2020d70e-b6aa-450a-acfa-2117e38341d5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a28fe79d-843f-4b04-9606-0c3aeed46f5c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a6646a1c-53fb-47a8-9a78-472e48f7ffa7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cf4ae02e-1f86-4dd7-9177-712308c9b16e"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d5989e01-d9ba-416e-8244-84d95a41b95c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "68cb4212-4657-4668-a126-f195ed1dfefd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "701dafa1-9510-4879-bda2-ebd574f241a3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7ff061d-4e43-4d4f-89ba-356ce4532993"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7d7359ea-6c70-4bd5-b1be-5450462ee74e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2ad2db4-408c-4256-8c82-ab670c314a3b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2ad2db4-408c-4256-8c82-ab670c314a3b"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3f8fd29e-a74c-469c-9c2b-6c118d67a5d2"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3f8fd29e-a74c-469c-9c2b-6c118d67a5d2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6c8263b4-6526-4f4b-b004-aefd5cade213"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6c8263b4-6526-4f4b-b004-aefd5cade213"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fafc62d5-a03a-45e6-b844-f618cbcd9ddc"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fafc62d5-a03a-45e6-b844-f618cbcd9ddc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b2919170-390f-4427-ace9-fac2c1ae392e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b2919170-390f-4427-ace9-fac2c1ae392e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b24a8d97-dfb8-47e9-b71f-bbe201838444"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b24a8d97-dfb8-47e9-b71f-bbe201838444"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "51626173-a193-47e5-a501-68dbba1cb835"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "51626173-a193-47e5-a501-68dbba1cb835"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c448196e-e0eb-4ae0-94d5-f72af3404634"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c448196e-e0eb-4ae0-94d5-f72af3404634"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "833cc9c1-0e72-45a5-9670-c992dd8a85e1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "833cc9c1-0e72-45a5-9670-c992dd8a85e1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "36413441-8f04-440f-a255-03cbe8d40592"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "36413441-8f04-440f-a255-03cbe8d40592"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "21c8680e-cb5d-47d5-86a8-9989b6cdbef1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "21c8680e-cb5d-47d5-86a8-9989b6cdbef1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6365e6a2-6279-459d-915a-1cb4cc5b341a"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6365e6a2-6279-459d-915a-1cb4cc5b341a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f8b4add3-062b-4129-a4ff-d98e45e427ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f8b4add3-062b-4129-a4ff-d98e45e427ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eae8385d-dc7d-43c9-be7f-c6971faee1f8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eae8385d-dc7d-43c9-be7f-c6971faee1f8"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3fdecaaf-80fc-4828-9110-c903fa2184ae"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3fdecaaf-80fc-4828-9110-c903fa2184ae"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9391b035-9e8d-4eb0-8dbb-654c4d869505"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9391b035-9e8d-4eb0-8dbb-654c4d869505"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6e473739-fe86-4b5d-81e3-86a4e3746a54"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6e473739-fe86-4b5d-81e3-86a4e3746a54"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "95c5f098-8447-4523-9ae8-95fecc9c6c19"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "95c5f098-8447-4523-9ae8-95fecc9c6c19"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "75516ef5-24da-4b76-b0ac-000aa0df7f41"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "75516ef5-24da-4b76-b0ac-000aa0df7f41"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "543a384e-34a4-4361-896e-b7d065876fdc"], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "543a384e-34a4-4361-896e-b7d065876fdc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "66356d98-b177-490c-ab45-0a562000e343"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "66356d98-b177-490c-ab45-0a562000e343"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:13:08 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:13:08 UTC], ["updated_at", 2016-06-07 08:13:08 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:14:25 UTC], ["updated_at", 2016-06-07 08:14:25 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "77f4611d-2473-428d-8ff7-dc6134df3f87"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ef1a8119-21b1-4926-bf55-d4ca24221e96"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9450bc77-576e-4e6d-b2bf-4625355b17c1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9450bc77-576e-4e6d-b2bf-4625355b17c1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0df2bc2c-8f3f-485e-b4af-6a29e30eb912"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0df2bc2c-8f3f-485e-b4af-6a29e30eb912"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b6629e1f-2e1e-496e-ab39-178065dfdce1"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2d4c9c8b-8a0f-42e1-bfce-637cc7a5bb29"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "20b7a26e-c782-488e-bc16-108a8b3119b9"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "de910ea3-3975-4493-b32a-efd15d0c9321"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5ed88868-4d48-4c7e-9afd-d9f46ec96b64"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "49710482-5119-4e12-bd23-e515cd7401dc"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2d806e7-03a4-47e0-8ef2-5d4127a5c997"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "333c5b59-ab4b-44dc-bc92-ba3e21e8df86"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a7945b71-989b-434f-88fa-f0b78f70ae6e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a7945b71-989b-434f-88fa-f0b78f70ae6e"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fe93cb5d-90ec-4b78-a0ac-8eee7116c9d1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fe93cb5d-90ec-4b78-a0ac-8eee7116c9d1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cb3b041c-9b70-4159-9319-c077a45cbb1a"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "cb3b041c-9b70-4159-9319-c077a45cbb1a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fc95c049-1ae3-4ea7-b309-610c833ca571"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fc95c049-1ae3-4ea7-b309-610c833ca571"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "14e11945-454c-4162-aaba-6f8f6c9c5e6a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "14e11945-454c-4162-aaba-6f8f6c9c5e6a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fcf17f8b-d962-4010-ac1d-0055a3a707ad"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fcf17f8b-d962-4010-ac1d-0055a3a707ad"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "11a819c1-ccd3-436d-a4c3-9e6be07410d5"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "11a819c1-ccd3-436d-a4c3-9e6be07410d5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b4317302-5dea-452b-8a97-70617f99b936"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b4317302-5dea-452b-8a97-70617f99b936"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f67de204-ff29-4438-8d6b-4b8b51dab5e2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f67de204-ff29-4438-8d6b-4b8b51dab5e2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f27a86c7-71cb-4bd2-a547-d7ef1dbea462"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f27a86c7-71cb-4bd2-a547-d7ef1dbea462"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1fc89c51-3777-43e3-80d4-a77973f207c1"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1fc89c51-3777-43e3-80d4-a77973f207c1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f31fbea7-a1b1-4014-a182-4bcf3832f156"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f31fbea7-a1b1-4014-a182-4bcf3832f156"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "34ccc52e-0099-4335-b4a8-055ee2a617a1"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "34ccc52e-0099-4335-b4a8-055ee2a617a1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "05d1dc41-838c-40ed-b058-c9366f457fd9"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "05d1dc41-838c-40ed-b058-c9366f457fd9"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54266e59-db85-4696-94a2-7ecc9fc2fca1"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "54266e59-db85-4696-94a2-7ecc9fc2fca1"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e38d39a7-4c30-4e97-aab3-a89af654fcc2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e38d39a7-4c30-4e97-aab3-a89af654fcc2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "73df9260-bcf2-4213-a7d8-e61bdafecd32"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "73df9260-bcf2-4213-a7d8-e61bdafecd32"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a968177e-4b2f-4372-8d6d-903e902c3d54"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "a968177e-4b2f-4372-8d6d-903e902c3d54"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "083fceb5-ce87-4f4c-8680-fb88d6684540"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "083fceb5-ce87-4f4c-8680-fb88d6684540"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eab4e579-dac7-4505-ab77-967c953eee5d"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "eab4e579-dac7-4505-ab77-967c953eee5d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8638d105-c9ad-4d61-9a7f-78b6c2024387"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8638d105-c9ad-4d61-9a7f-78b6c2024387"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:14:26 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:14:26 UTC], ["updated_at", 2016-06-07 08:14:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:17:43 UTC], ["updated_at", 2016-06-07 08:17:43 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "eae404b0-cf1e-41c4-803e-5dbb2a45ff1e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "98fec81d-765a-4fc8-b21d-f301ebe4811f"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54635a23-4c25-4c31-8a66-4fda864a122c"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "54635a23-4c25-4c31-8a66-4fda864a122c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0326976-e4d2-4259-a6a8-f967673796d3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b0326976-e4d2-4259-a6a8-f967673796d3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4efc241-ce1e-43a0-992d-62fc77ed036c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "914dfa52-16ab-4f75-b3d8-dc0fc3e8a44e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "981f1607-585a-481e-9037-35f86f5a4970"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6b087844-8ecf-4811-8c1c-2c5d456d8396"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "264e40d9-0178-4880-8e66-43ad7f00ee74"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2a101cc7-9df1-491f-aa0d-19c404d1f778"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c3a5d50f-bc83-41fd-91f0-8f26e9ced0e3"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f5d379e6-e7a6-4b5c-b3ad-2580e58fe40a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e9d7bcf-2a06-49ea-a76e-4cdc9d6f7749"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e9d7bcf-2a06-49ea-a76e-4cdc9d6f7749"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4389ba76-332f-4f8a-b9e8-6f8eda214a25"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4389ba76-332f-4f8a-b9e8-6f8eda214a25"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5d24f7ff-4d86-4eb0-81ad-f9fe6556ab7b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5d24f7ff-4d86-4eb0-81ad-f9fe6556ab7b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "51c2fcf2-08f8-4975-a15c-38ea74b5512b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "51c2fcf2-08f8-4975-a15c-38ea74b5512b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5e47f513-02ba-4414-bc08-61d366d6c6f0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5e47f513-02ba-4414-bc08-61d366d6c6f0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "546a0ecf-c8dc-413a-a934-8c71d76d2a10"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "546a0ecf-c8dc-413a-a934-8c71d76d2a10"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c9ed4c7c-d8cc-46e6-a9af-eb948a96edbf"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c9ed4c7c-d8cc-46e6-a9af-eb948a96edbf"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8cfa3995-2641-4aaa-a3ea-a22efa0bb399"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8cfa3995-2641-4aaa-a3ea-a22efa0bb399"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fdefb557-6536-4383-860d-7df64f6248c0"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fdefb557-6536-4383-860d-7df64f6248c0"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e0d7fa95-a16f-4103-ad28-413139276ffa"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e0d7fa95-a16f-4103-ad28-413139276ffa"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41f647ab-52a7-4805-beba-24a0c1551b8c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "41f647ab-52a7-4805-beba-24a0c1551b8c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "32d1fe2a-0ffb-49ed-a44a-ef5fc3dfde2c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "32d1fe2a-0ffb-49ed-a44a-ef5fc3dfde2c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "767a89cc-da8c-49ac-900b-18baf4a4db23"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "767a89cc-da8c-49ac-900b-18baf4a4db23"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ecbed3e-b88f-4054-a810-cd61dc90c3e0"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "2ecbed3e-b88f-4054-a810-cd61dc90c3e0"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "172152ee-aed0-44fd-b43f-ccd21d25b619"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "172152ee-aed0-44fd-b43f-ccd21d25b619"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "89d9669c-33ae-49f0-9124-8ad48653e550"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "89d9669c-33ae-49f0-9124-8ad48653e550"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "216df540-728b-4a15-916d-830d660a880c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "216df540-728b-4a15-916d-830d660a880c"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6bba4788-b11e-48e6-9f16-22d5a31c5613"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6bba4788-b11e-48e6-9f16-22d5a31c5613"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "372dc1cb-63fa-4f14-9e27-f3ea5ca05b5f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "372dc1cb-63fa-4f14-9e27-f3ea5ca05b5f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "747b5f89-848c-41ea-9008-a1dd2a624be5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "747b5f89-848c-41ea-9008-a1dd2a624be5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e7dda626-1f60-400b-a0eb-1858e66cc43c"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e7dda626-1f60-400b-a0eb-1858e66cc43c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:17:44 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:17:44 UTC], ["updated_at", 2016-06-07 08:17:44 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3119b215-f810-4210-bd10-4c785285f5b2"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "40c09dce-7306-4742-92b1-f7b30deafb12"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ddc0d2ce-cdd5-4719-969b-e637d26d8939"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ddc0d2ce-cdd5-4719-969b-e637d26d8939"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41478d94-384b-450a-b4d3-37421d5320cf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "41478d94-384b-450a-b4d3-37421d5320cf"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c7d7695c-2d4f-4bc4-b446-171cf0578177"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f6de11ce-ea71-4eac-9597-18f17394894a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0bce5021-42b2-4d57-b604-05b4845d5035"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cedde45c-3ec0-4bd6-85b8-21d3b8dfb1d7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "025a3967-cc53-4f19-8cff-8eded59a9213"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d447745c-d365-4bfd-9b5f-5e368dc03605"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0e336afd-a66c-4447-b0fa-faeae0c25b55"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "301fc143-cac3-4421-a60d-de40d4ae8438"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "33f409ef-5f3a-4132-9eff-75b6ca5f8229"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "33f409ef-5f3a-4132-9eff-75b6ca5f8229"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "85d7c318-41ae-4882-a3ed-247e00b42974"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "85d7c318-41ae-4882-a3ed-247e00b42974"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "346b3845-a16f-445c-a302-b40a450ca627"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "346b3845-a16f-445c-a302-b40a450ca627"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ee8f0a72-91d1-4da8-b476-8b3dbf1685d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "ee8f0a72-91d1-4da8-b476-8b3dbf1685d3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "10ea5221-255f-4c44-b9d6-67db0764bffc"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "10ea5221-255f-4c44-b9d6-67db0764bffc"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a31f2b3-87d7-4685-aa84-771a49833f69"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7a31f2b3-87d7-4685-aa84-771a49833f69"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1d316188-84e3-462d-b19a-230673a65fa2"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1d316188-84e3-462d-b19a-230673a65fa2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "15bc91b2-7915-4977-918f-bb0b62bf3498"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "15bc91b2-7915-4977-918f-bb0b62bf3498"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8a7755ec-7894-4822-b7f5-027be4b4dd54"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8a7755ec-7894-4822-b7f5-027be4b4dd54"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f1358af5-3a71-4315-bb83-e7e600d86ca8"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f1358af5-3a71-4315-bb83-e7e600d86ca8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "983e1c4a-791a-406b-8780-e83a39688e3a"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "983e1c4a-791a-406b-8780-e83a39688e3a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7a3b2232-9352-470c-ba28-c048e1b2e195"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7a3b2232-9352-470c-ba28-c048e1b2e195"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c92548b-a979-4ecf-b322-7d8e0b7bb70d"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0c92548b-a979-4ecf-b322-7d8e0b7bb70d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "bb11eef2-86fb-4cc4-950b-3565e8f3d56f"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "bb11eef2-86fb-4cc4-950b-3565e8f3d56f"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3ab30e3d-c290-4d07-abfc-4b337dc5bf26"], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3ab30e3d-c290-4d07-abfc-4b337dc5bf26"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "35a8970d-3734-4884-b3d5-1624fb5fe76d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "35a8970d-3734-4884-b3d5-1624fb5fe76d"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b51b2652-30e9-4a5f-b656-ce234f0d1a0d"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b51b2652-30e9-4a5f-b656-ce234f0d1a0d"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "32069d4c-d0e4-4b10-97e4-d70f547616eb"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "32069d4c-d0e4-4b10-97e4-d70f547616eb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3cff7b40-8f81-496a-883f-3c0ba37b3b87"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3cff7b40-8f81-496a-883f-3c0ba37b3b87"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "069262d7-baec-4e1b-a945-9bfc7e27558f"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "069262d7-baec-4e1b-a945-9bfc7e27558f"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c2e69e39-92ed-4922-ac28-60667e2c80a2"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c2e69e39-92ed-4922-ac28-60667e2c80a2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:19:31 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:19:31 UTC], ["updated_at", 2016-06-07 08:19:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.7ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:20:06 UTC], ["updated_at", 2016-06-07 08:20:06 UTC]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2b6be71e-09d8-455a-9226-100957d7c13e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b89db314-d79e-4d59-b412-b1d714a45ab5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b2396e7-ccbd-400e-b757-14855f776fab"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8b2396e7-ccbd-400e-b757-14855f776fab"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b34a40ea-6885-4419-bc4d-8df329381ae7"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b34a40ea-6885-4419-bc4d-8df329381ae7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "22b63a3f-f224-4f6b-9764-8a9f511a7539"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18d51d98-a443-4c20-b5fa-b08c780976ff"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "304e44b1-846c-4156-a328-ce704ed3fac4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "cb3baea7-f994-467c-bbde-f9c709d587be"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "893acb9b-4a36-4104-a2e9-1c937dc4c95c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e8f3dbe3-1fa6-4ab5-ae58-8f7bbb633d5b"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "aa84b486-ab4d-4e34-ac7e-86d59271ce8e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5c0aff0f-f266-4d1e-a450-9ec6a7388559"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "726481b9-be37-4ebc-9730-6d126e43ccb5"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "726481b9-be37-4ebc-9730-6d126e43ccb5"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e83312b4-2e5f-47ff-beda-87a87d135048"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e83312b4-2e5f-47ff-beda-87a87d135048"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "dc6822ad-38c6-46d1-8fa2-119ad2676dd2"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "dc6822ad-38c6-46d1-8fa2-119ad2676dd2"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "924c48fb-6b17-4c96-9ce9-494d76945fa3"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "924c48fb-6b17-4c96-9ce9-494d76945fa3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "95ccde59-16ab-4116-b0f5-b79f18d8ff3b"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "95ccde59-16ab-4116-b0f5-b79f18d8ff3b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8d59b01b-97dd-4d03-9a41-42081b380a2a"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8d59b01b-97dd-4d03-9a41-42081b380a2a"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8052e49f-0224-4f2a-8081-b5cf8e374848"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "8052e49f-0224-4f2a-8081-b5cf8e374848"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "33c5f2a5-cc9e-4dc3-8eee-2ee0fdffca2e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "33c5f2a5-cc9e-4dc3-8eee-2ee0fdffca2e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0b5bc7a4-f54b-42e6-b9c5-a11ebba4655b"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "0b5bc7a4-f54b-42e6-b9c5-a11ebba4655b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b25f05b-9657-43c3-bff2-39be75c0bfe5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b25f05b-9657-43c3-bff2-39be75c0bfe5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "69957544-d050-4e93-af28-836082276b4c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "69957544-d050-4e93-af28-836082276b4c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d72d3927-ca3e-4f80-becc-a107ceafef48"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d72d3927-ca3e-4f80-becc-a107ceafef48"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f04638ce-af47-4e75-ac41-f8c77479fd99"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "f04638ce-af47-4e75-ac41-f8c77479fd99"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b827fec8-7451-4c94-9e8f-13569a3c4052"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b827fec8-7451-4c94-9e8f-13569a3c4052"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e4a067b3-65a9-4f43-bfe4-74d82da1d619"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e4a067b3-65a9-4f43-bfe4-74d82da1d619"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5af045e2-ebc7-484f-a60a-2427284c7318"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5af045e2-ebc7-484f-a60a-2427284c7318"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c4776dbc-b9cb-44ea-8587-fc2f0ae5cd69"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c4776dbc-b9cb-44ea-8587-fc2f0ae5cd69"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3e8a8cb5-7401-49e6-9604-f191fe94c3da"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3e8a8cb5-7401-49e6-9604-f191fe94c3da"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "81a0a30e-bc67-44b2-bbb8-299e35d256fb"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "81a0a30e-bc67-44b2-bbb8-299e35d256fb"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d652ed77-1150-4cbb-acb7-8fd3179fbf01"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d652ed77-1150-4cbb-acb7-8fd3179fbf01"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7b42ad9f-4ee1-4143-a869-db409a3974d7"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7b42ad9f-4ee1-4143-a869-db409a3974d7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:07 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:07 UTC], ["updated_at", 2016-06-07 08:20:07 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.0ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d23b8e4e-0372-4bfe-99b3-c78617b13552"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "35150f65-ffad-44fc-8281-a29988296c4c"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "435406eb-813c-4a4d-bd78-73b93e2edc63"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "435406eb-813c-4a4d-bd78-73b93e2edc63"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0595d28-24b8-4060-8164-09e57bea17d7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c0595d28-24b8-4060-8164-09e57bea17d7"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "265f5a95-4193-4b17-80cc-6b8fc53e4e69"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "158147a1-d8ad-4b2e-a84c-46345111af38"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "12b2f6d3-7370-4c77-9fc0-54a69c980920"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "48c00921-7cad-49c6-ac87-43e1efa6f0c5"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "de5db675-96e5-4955-9eb1-c2af2cb6cc72"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "574876d4-0e4f-4bd6-b430-14a8ce8eacfd"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d0b76bf2-886c-464a-b3a2-5b165772dbde"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "451264e0-8277-41a9-aa95-84c84f17764a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3a5701c7-4f3b-47af-bdf5-58ab022f0cc6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3a5701c7-4f3b-47af-bdf5-58ab022f0cc6"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "32269443-f410-4606-89f4-638a069ec4e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "32269443-f410-4606-89f4-638a069ec4e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "7e6983bf-a3ed-49f0-8337-33aea7d889d3"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "7e6983bf-a3ed-49f0-8337-33aea7d889d3"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c94c8292-60fd-4913-a5da-68b687ae2e4e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c94c8292-60fd-4913-a5da-68b687ae2e4e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d37e7d4b-8174-410e-92d4-e8d91a74ec01"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d37e7d4b-8174-410e-92d4-e8d91a74ec01"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c13b165f-8b87-4caf-bb63-4ed1609916e9"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "c13b165f-8b87-4caf-bb63-4ed1609916e9"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "749aa693-9d24-4363-a4a2-db611b97d2ec"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "749aa693-9d24-4363-a4a2-db611b97d2ec"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "69ddc209-6ea2-47b0-9424-0b027da7e30e"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "69ddc209-6ea2-47b0-9424-0b027da7e30e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e9b76ac1-5dc2-4229-a7e1-6e18837b448c"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e9b76ac1-5dc2-4229-a7e1-6e18837b448c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e5427786-0dbe-4ed0-bd68-0d161c41883b"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e5427786-0dbe-4ed0-bd68-0d161c41883b"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "9d204219-c013-4e01-b051-bf8dfd2ff4c6"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "9d204219-c013-4e01-b051-bf8dfd2ff4c6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "3933b604-8ab2-4c5f-8125-ee024a19ec34"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "3933b604-8ab2-4c5f-8125-ee024a19ec34"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4cd8a993-9d6a-49fb-b655-9182b48f15e6"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4cd8a993-9d6a-49fb-b655-9182b48f15e6"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4f893b60-ce46-4486-8fa7-7553052ee901"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4f893b60-ce46-4486-8fa7-7553052ee901"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "1361265d-aaa1-47e9-9f3b-bf5131a1baf4"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "1361265d-aaa1-47e9-9f3b-bf5131a1baf4"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "57e8983d-b3be-4237-bf1a-390c5b9f1024"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "57e8983d-b3be-4237-bf1a-390c5b9f1024"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4c1dbae9-97c9-4d76-b754-87375bd98ee3"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4c1dbae9-97c9-4d76-b754-87375bd98ee3"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e16d65a5-9d25-4868-a4d3-c1a403c72293"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e16d65a5-9d25-4868-a4d3-c1a403c72293"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6bafc8a5-0ef8-4897-b74b-4c9139008a97"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "6bafc8a5-0ef8-4897-b74b-4c9139008a97"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "50a41c2e-cd7d-433d-bf12-79c2784fb9f5"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "50a41c2e-cd7d-433d-bf12-79c2784fb9f5"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d1fc956a-13ff-4854-ab1e-612a704ef9ed"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "d1fc956a-13ff-4854-ab1e-612a704ef9ed"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:20:33 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:20:33 UTC], ["updated_at", 2016-06-07 08:20:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "devices"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (1.0ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", :environment]]
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "devices" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "token" varchar, "parent_id" integer, "parent_type" varchar, "platform" varchar, "active" boolean DEFAULT 't', "valid_at" datetime, "invalidated_at" datetime, "deleted_at" datetime, "platform_version" varchar, "platform_type" varchar, "push_environment" varchar, "deactivated_at" datetime, "created_at" datetime, "updated_at" datetime)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_devices_on_token" ON "devices" ("token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20141202075742')[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", 2016-06-07 08:35:03 UTC], ["updated_at", 2016-06-07 08:35:03 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" ORDER BY "ar_internal_metadata"."key" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "18d9caa4-08e1-4386-9f61-d10a89c2b91b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "c51e32b6-334f-4616-98ce-96d6c0cffec6"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b06b2fa6-cc03-4e5d-bfad-e374177457c4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b06b2fa6-cc03-4e5d-bfad-e374177457c4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8d432b3e-01cd-40f7-b703-d87f6e55cf40"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8d432b3e-01cd-40f7-b703-d87f6e55cf40"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8c9220ba-12ad-41fe-8398-1e9693b75e09"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "d527d66f-f8cb-47c6-9926-a973b7d08127"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "0c0f5af3-8c68-4ed5-b6f0-0a4b1c3b6c7a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "a815dc0c-b0b7-481e-a9ba-623f7cb411cb"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "6a5a6c46-fc4f-453d-8cb0-08ebac6587e9"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "ba3887c1-376f-46b3-9e7e-762414e3849b"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "f08f7595-78e8-4fa6-a23e-2ff71a9a22a4"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "2ca0b808-a849-408f-b60f-49538b74337e"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "8211f21b-6973-4222-8ae7-c48868c24b74"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "296cc961-96c9-44e5-a960-d2b833b0e84a"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "devices" ("token", "platform", "valid_at", "invalidated_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "296cc961-96c9-44e5-a960-d2b833b0e84a"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["invalidated_at", 2016-01-01 00:00:00 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-01-01 00:00:00 UTC], ["updated_at", 2016-01-01 00:00:00 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT  "devices".* FROM "devices" WHERE "devices"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e5229b5c-a5f5-4b08-ab35-7de38034e467"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e5229b5c-a5f5-4b08-ab35-7de38034e467"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fcf6db6f-3922-4a18-9a5a-9017673724c8"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fcf6db6f-3922-4a18-9a5a-9017673724c8"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[36mActsAsPushable::Device Load (0.3ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "4bf5fd9d-ed40-4a66-a1b1-56dcf14b9705"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "4bf5fd9d-ed40-4a66-a1b1-56dcf14b9705"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "17c132e8-3aa3-4efd-833c-23fe50440a20"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "17c132e8-3aa3-4efd-833c-23fe50440a20"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[36mActsAsPushable::Device Load (0.1ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "ios"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "700d679c-45da-4a8b-8ad6-d1ebc222a799"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "700d679c-45da-4a8b-8ad6-d1ebc222a799"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b404791c-b3dd-4a15-9a85-dce033fd6540"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b404791c-b3dd-4a15-9a85-dce033fd6540"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e2aa0379-3eed-45e0-913e-2ee721bb3590"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e2aa0379-3eed-45e0-913e-2ee721bb3590"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "518ed06c-d7fa-4db8-a5d1-a6de68c2c459"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "518ed06c-d7fa-4db8-a5d1-a6de68c2c459"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[36mActsAsPushable::Device Load (0.0ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ? AND "devices"."platform" = ?[0m  [["parent_id", 1], ["parent_type", "User"], ["platform", "android"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e710ee7c-1ce5-41e5-b6cc-620ad1669a70"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e710ee7c-1ce5-41e5-b6cc-620ad1669a70"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "324bedf9-ce46-4a17-95d4-9029f092a843"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "324bedf9-ce46-4a17-95d4-9029f092a843"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActsAsPushable::Device Load (0.2ms)[0m  [1m[34mSELECT "devices".* FROM "devices" WHERE "devices"."parent_id" = ? AND "devices"."parent_type" = ?[0m  [["parent_id", 1], ["parent_type", "User"]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "e1427d89-1b94-475d-958c-67b4831d2a15"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "e1427d89-1b94-475d-958c-67b4831d2a15"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "53caf40f-42a0-4a28-aae0-1c68f404bc74"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "53caf40f-42a0-4a28-aae0-1c68f404bc74"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "af2d8023-41d9-4ee2-85e5-be9e7e6cb570"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "af2d8023-41d9-4ee2-85e5-be9e7e6cb570"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "44b8e27e-fd0a-4051-badc-a345478aeae7"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "44b8e27e-fd0a-4051-badc-a345478aeae7"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "158f4d0a-b440-4fa4-8136-ffdda351bf27"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "158f4d0a-b440-4fa4-8136-ffdda351bf27"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "b68623bb-4f08-455c-a224-fbaa83347661"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "b68623bb-4f08-455c-a224-fbaa83347661"], ["parent_id", 2], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "fc9a4079-5a87-44f4-90ff-1dc32fb1e68c"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "fc9a4079-5a87-44f4-90ff-1dc32fb1e68c"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "546f8822-c49a-451c-a645-79b0e4105c05"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "546f8822-c49a-451c-a645-79b0e4105c05"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "5698ce85-3b2e-496e-9dad-93b896805bfe"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "5698ce85-3b2e-496e-9dad-93b896805bfe"], ["parent_id", 1], ["parent_type", "User"], ["platform", "ios"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "9.3"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" = ? LIMIT ?[0m  [["token", "04583313-625c-456a-aaa1-b5681f14b52e"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "devices" ("token", "parent_id", "parent_type", "platform", "valid_at", "platform_version", "push_environment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["token", "04583313-625c-456a-aaa1-b5681f14b52e"], ["parent_id", 1], ["parent_type", "User"], ["platform", "android"], ["valid_at", 2016-06-07 08:35:04 UTC], ["platform_version", "4.4"], ["push_environment", "development"], ["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2016-06-07 08:35:04 UTC], ["updated_at", 2016-06-07 08:35:04 UTC]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActsAsPushable::Device Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "devices" WHERE "devices"."token" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
